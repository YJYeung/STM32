ARM GAS  /tmp/cc25vxQb.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"ip4.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.ip4_input_accept,"ax",%progbits
  17              		.align	1
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu fpv5-d16
  23              	ip4_input_accept:
  24              	.LFB159:
  25              		.file 1 "Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c"
   1:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * This is the IPv4 layer implementation for incoming and outgoing IP traffic.
   4:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @see ip_frag.c
   6:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
   7:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
   8:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
   9:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /*
  10:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  11:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * All rights reserved.
  12:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  13:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Redistribution and use in source and binary forms, with or without modification,
  14:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * are permitted provided that the following conditions are met:
  15:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  16:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *    this list of conditions and the following disclaimer.
  18:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  19:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *    this list of conditions and the following disclaimer in the documentation
  20:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *    and/or other materials provided with the distribution.
  21:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * 3. The name of the author may not be used to endorse or promote products
  22:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *    derived from this software without specific prior written permission.
  23:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  24:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  25:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  26:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  27:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  28:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  29:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  30:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  31:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  32:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  33:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * OF SUCH DAMAGE.
ARM GAS  /tmp/cc25vxQb.s 			page 2


  34:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  35:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * This file is part of the lwIP TCP/IP stack.
  36:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  37:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Author: Adam Dunkels <adam@sics.se>
  38:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  39:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
  40:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  41:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/opt.h"
  42:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  43:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IPV4
  44:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  45:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/ip.h"
  46:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/def.h"
  47:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/mem.h"
  48:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/ip4_frag.h"
  49:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/inet_chksum.h"
  50:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/netif.h"
  51:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/icmp.h"
  52:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/igmp.h"
  53:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/priv/raw_priv.h"
  54:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/udp.h"
  55:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/priv/tcp_priv.h"
  56:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/autoip.h"
  57:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/stats.h"
  58:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/prot/iana.h"
  59:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  60:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include <string.h>
  61:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  62:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_FILENAME
  63:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include LWIP_HOOK_FILENAME
  64:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
  65:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  66:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** Set this to 0 in the rare case of wanting to call an extra function to
  67:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * generate the IP checksum (in contrast to calculating it on-the-fly). */
  68:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifndef LWIP_INLINE_IP_CHKSUM
  69:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_CHECKSUM_CTRL_PER_NETIF
  70:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define LWIP_INLINE_IP_CHKSUM   0
  71:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* LWIP_CHECKSUM_CTRL_PER_NETIF */
  72:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define LWIP_INLINE_IP_CHKSUM   1
  73:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_CHECKSUM_CTRL_PER_NETIF */
  74:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
  75:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  76:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_INLINE_IP_CHKSUM && CHECKSUM_GEN_IP
  77:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define CHECKSUM_GEN_IP_INLINE  1
  78:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else
  79:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define CHECKSUM_GEN_IP_INLINE  0
  80:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
  81:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  82:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_DHCP || defined(LWIP_IP_ACCEPT_UDP_PORT)
  83:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSING 1
  84:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  85:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** Some defines for DHCP to let link-layer-addressed packets through while the
  86:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * netif is down.
  87:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * To use this in your own application/protocol, define LWIP_IP_ACCEPT_UDP_PORT(port)
  88:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * to return 1 if the port is accepted and 0 if the port is not accepted.
  89:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
  90:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_DHCP && defined(LWIP_IP_ACCEPT_UDP_PORT)
ARM GAS  /tmp/cc25vxQb.s 			page 3


  91:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /* accept DHCP client port and custom port */
  92:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSED_PORT(port) (((port) == PP_NTOHS(LWIP_IANA_PORT_DHCP_CLIENT))
  93:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****          || (LWIP_IP_ACCEPT_UDP_PORT(port)))
  94:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #elif defined(LWIP_IP_ACCEPT_UDP_PORT) /* LWIP_DHCP && defined(LWIP_IP_ACCEPT_UDP_PORT) */
  95:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /* accept custom port only */
  96:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSED_PORT(port) (LWIP_IP_ACCEPT_UDP_PORT(port))
  97:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* LWIP_DHCP && defined(LWIP_IP_ACCEPT_UDP_PORT) */
  98:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /* accept DHCP client port only */
  99:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSED_PORT(port) ((port) == PP_NTOHS(LWIP_IANA_PORT_DHCP_CLIENT))
 100:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_DHCP && defined(LWIP_IP_ACCEPT_UDP_PORT) */
 101:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 102:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* LWIP_DHCP */
 103:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSING 0
 104:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_DHCP */
 105:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 106:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** The IP header ID of the next outgoing IP packet */
 107:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static u16_t ip_id;
 108:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 109:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_MULTICAST_TX_OPTIONS
 110:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** The default netif used for multicast */
 111:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static struct netif *ip4_default_multicast_netif;
 112:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 113:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 114:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @ingroup ip4
 115:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Set a default netif for IPv4 multicast. */
 116:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** void
 117:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_set_default_multicast_netif(struct netif *default_multicast_netif)
 118:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 119:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_default_multicast_netif = default_multicast_netif;
 120:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 121:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
 122:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 123:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_IP4_ROUTE_SRC
 124:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 125:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Source based IPv4 routing must be fully implemented in
 126:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * LWIP_HOOK_IP4_ROUTE_SRC(). This function only provides the parameters.
 127:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 128:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** struct netif *
 129:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_route_src(const ip4_addr_t *src, const ip4_addr_t *dest)
 130:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 131:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (src != NULL) {
 132:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* when src==NULL, the hook is called from ip4_route(dest) */
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     struct netif *netif = LWIP_HOOK_IP4_ROUTE_SRC(src, dest);
 134:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (netif != NULL) {
 135:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return netif;
 136:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 137:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 138:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_route(dest);
 139:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 140:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_HOOK_IP4_ROUTE_SRC */
 141:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 142:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 143:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Finds the appropriate network interface for a given IP address. It
 144:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * searches the list of network interfaces linearly. A match is found
 145:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * if the masked IP address of the network interface equals the masked
 146:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * IP address given to the function.
 147:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
ARM GAS  /tmp/cc25vxQb.s 			page 4


 148:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param dest the destination IP address for which to find the route
 149:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return the netif on which to send to reach dest
 150:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 151:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** struct netif *
 152:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_route(const ip4_addr_t *dest)
 153:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 154:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_SINGLE_NETIF
 155:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 156:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 157:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_ASSERT_CORE_LOCKED();
 158:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 159:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_MULTICAST_TX_OPTIONS
 160:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Use administratively selected interface for multicast by default */
 161:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_ismulticast(dest) && ip4_default_multicast_netif) {
 162:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ip4_default_multicast_netif;
 163:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 164:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
 165:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* bug #54569: in case LWIP_SINGLE_NETIF=1 and LWIP_DEBUGF() disabled, the following loop is opti
 167:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_UNUSED_ARG(dest);
 168:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 169:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* iterate through netifs */
 170:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   NETIF_FOREACH(netif) {
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* is the netif up, does it have a link and a valid address? */
 172:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (netif_is_up(netif) && netif_is_link_up(netif) && !ip4_addr_isany_val(*netif_ip4_addr(netif)
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* network mask matches? */
 174:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (ip4_addr_netcmp(dest, netif_ip4_addr(netif), netif_ip4_netmask(netif))) {
 175:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* return netif on which to forward IP packet */
 176:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return netif;
 177:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 178:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* gateway matches on a non broadcast interface? (i.e. peer in a point to point interface) */
 179:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (((netif->flags & NETIF_FLAG_BROADCAST) == 0) && ip4_addr_cmp(dest, netif_ip4_gw(netif))) 
 180:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* return netif on which to forward IP packet */
 181:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return netif;
 182:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 183:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 184:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 185:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 186:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF
 187:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* loopif is disabled, looopback traffic is passed through any netif */
 188:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_isloopback(dest)) {
 189:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* don't check for link on loopback traffic */
 190:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (netif_default != NULL && netif_is_up(netif_default)) {
 191:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return netif_default;
 192:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 193:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* default netif is not up, just use any netif for loopback traffic */
 194:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     NETIF_FOREACH(netif) {
 195:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (netif_is_up(netif)) {
 196:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return netif;
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 198:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 199:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return NULL;
 200:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 201:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF */
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 203:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_IP4_ROUTE_SRC
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   netif = LWIP_HOOK_IP4_ROUTE_SRC(NULL, dest);
ARM GAS  /tmp/cc25vxQb.s 			page 5


 205:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif != NULL) {
 206:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return netif;
 207:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 208:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #elif defined(LWIP_HOOK_IP4_ROUTE)
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   netif = LWIP_HOOK_IP4_ROUTE(dest);
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif != NULL) {
 211:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return netif;
 212:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 213:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
 214:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* !LWIP_SINGLE_NETIF */
 215:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 216:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((netif_default == NULL) || !netif_is_up(netif_default) || !netif_is_link_up(netif_default) ||
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default)) || ip4_addr_isloopback(dest)) {
 218:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* No matching netif found and default netif is not usable.
 219:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        If this is not good enough for you, use LWIP_HOOK_IP4_ROUTE() */
 220:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("ip4_route: No route to %"U16_F".%"U16_F".%"U16
 221:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                 ip4_addr1_16(dest), ip4_addr2_16(dest), ip4_addr3_16(dest), ip4_addr4_16(dest)));
 222:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.rterr);
 223:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipoutnoroutes);
 224:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return NULL;
 225:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 226:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 227:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return netif_default;
 228:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 229:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 230:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FORWARD
 231:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 232:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Determine whether an IP address is in a reserved set of addresses
 233:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * that may not be forwarded, or whether datagrams to that destination
 234:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * may be forwarded.
 235:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the packet to forward
 236:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return 1: can forward 0: discard
 237:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 238:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static int
 239:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_canforward(struct pbuf *p)
 240:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 241:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   u32_t addr = lwip_htonl(ip4_addr_get_u32(ip4_current_dest_addr()));
 242:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 243:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_IP4_CANFORWARD
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   int ret = LWIP_HOOK_IP4_CANFORWARD(p, addr);
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ret >= 0) {
 246:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ret;
 247:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 248:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_HOOK_IP4_CANFORWARD */
 249:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 250:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (p->flags & PBUF_FLAG_LLBCAST) {
 251:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* don't route link-layer broadcasts */
 252:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return 0;
 253:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 254:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((p->flags & PBUF_FLAG_LLMCAST) || IP_MULTICAST(addr)) {
 255:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* don't route link-layer multicasts (use LWIP_HOOK_IP4_CANFORWARD instead) */
 256:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return 0;
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 258:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IP_EXPERIMENTAL(addr)) {
 259:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return 0;
 260:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 261:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IP_CLASSA(addr)) {
ARM GAS  /tmp/cc25vxQb.s 			page 6


 262:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     u32_t net = addr & IP_CLASSA_NET;
 263:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((net == 0) || (net == ((u32_t)IP_LOOPBACKNET << IP_CLASSA_NSHIFT))) {
 264:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* don't route loopback packets */
 265:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return 0;
 266:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 267:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 268:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return 1;
 269:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 270:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 271:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 272:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Forwards an IP packet. It finds an appropriate route for the
 273:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * packet, decrements the TTL value of the packet, adjusts the
 274:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * checksum and outputs the packet on the appropriate interface.
 275:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 276:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the packet to forward (p->payload points to IP header)
 277:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param iphdr the IP header of the input packet
 278:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param inp the netif on which this packet was received
 279:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 280:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static void
 281:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_forward(struct pbuf *p, struct ip_hdr *iphdr, struct netif *inp)
 282:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 283:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 284:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 285:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   PERF_START;
 286:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_UNUSED_ARG(inp);
 287:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 288:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (!ip4_canforward(p)) {
 289:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     goto return_noroute;
 290:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 291:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 292:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* RFC3927 2.7: do not forward link-local addresses */
 293:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_islinklocal(ip4_current_dest_addr())) {
 294:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("ip4_forward: not forwarding LLA %"U16_F".%"U16_F".%"U16_F".%"U16_F"\n",
 295:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                            ip4_addr1_16(ip4_current_dest_addr()), ip4_addr2_16(ip4_current_dest_add
 296:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                            ip4_addr3_16(ip4_current_dest_addr()), ip4_addr4_16(ip4_current_dest_add
 297:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     goto return_noroute;
 298:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 299:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 300:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Find network interface where to forward this IP packet to. */
 301:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   netif = ip4_route_src(ip4_current_src_addr(), ip4_current_dest_addr());
 302:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif == NULL) {
 303:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("ip4_forward: no forwarding route for %"U16_F".%"U16_F".%"U16_F".%"U16_F
 304:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                            ip4_addr1_16(ip4_current_dest_addr()), ip4_addr2_16(ip4_current_dest_add
 305:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                            ip4_addr3_16(ip4_current_dest_addr()), ip4_addr4_16(ip4_current_dest_add
 306:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* @todo: send ICMP_DUR_NET? */
 307:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     goto return_noroute;
 308:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 309:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !IP_FORWARD_ALLOW_TX_ON_RX_NETIF
 310:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Do not forward packets onto the same network interface on which
 311:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * they arrived. */
 312:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif == inp) {
 313:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("ip4_forward: not bouncing packets back on incoming interface.\n"));
 314:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     goto return_noroute;
 315:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 316:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FORWARD_ALLOW_TX_ON_RX_NETIF */
 317:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 318:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* decrement TTL */
ARM GAS  /tmp/cc25vxQb.s 			page 7


 319:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IPH_TTL_SET(iphdr, IPH_TTL(iphdr) - 1);
 320:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* send ICMP if TTL == 0 */
 321:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IPH_TTL(iphdr) == 0) {
 322:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipinhdrerrors);
 323:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_ICMP
 324:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* Don't send ICMP messages in response to ICMP messages */
 325:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (IPH_PROTO(iphdr) != IP_PROTO_ICMP) {
 326:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       icmp_time_exceeded(p, ICMP_TE_TTL);
 327:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 328:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 329:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return;
 330:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 331:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 332:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Incrementally update the IP checksum. */
 333:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IPH_CHKSUM(iphdr) >= PP_HTONS(0xffffU - 0x100)) {
 334:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_CHKSUM_SET(iphdr, (u16_t)(IPH_CHKSUM(iphdr) + PP_HTONS(0x100) + 1));
 335:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   } else {
 336:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_CHKSUM_SET(iphdr, (u16_t)(IPH_CHKSUM(iphdr) + PP_HTONS(0x100)));
 337:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 338:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 339:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_forward: forwarding packet to %"U16_F".%"U16_F".%"U16_F".%"U16_F"\n",
 340:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                          ip4_addr1_16(ip4_current_dest_addr()), ip4_addr2_16(ip4_current_dest_addr(
 341:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                          ip4_addr3_16(ip4_current_dest_addr()), ip4_addr4_16(ip4_current_dest_addr(
 342:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 343:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IP_STATS_INC(ip.fw);
 344:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   MIB2_STATS_INC(mib2.ipforwdatagrams);
 345:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IP_STATS_INC(ip.xmit);
 346:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 347:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   PERF_STOP("ip4_forward");
 348:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* don't fragment if interface has mtu set to 0 [loopif] */
 349:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif->mtu && (p->tot_len > netif->mtu)) {
 350:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((IPH_OFFSET(iphdr) & PP_NTOHS(IP_DF)) == 0) {
 351:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FRAG
 352:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_frag(p, netif, ip4_current_dest_addr());
 353:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_FRAG */
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* @todo: send ICMP Destination Unreachable code 13 "Communication administratively prohibite
 355:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FRAG */
 356:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 357:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_ICMP
 358:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* send ICMP Destination Unreachable code 4: "Fragmentation Needed and DF Set" */
 359:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       icmp_dest_unreach(p, ICMP_DUR_FRAG);
 360:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 361:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 362:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return;
 363:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 364:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* transmit pbuf on chosen interface */
 365:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   netif->output(netif, p, ip4_current_dest_addr());
 366:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return;
 367:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** return_noroute:
 368:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   MIB2_STATS_INC(mib2.ipoutnoroutes);
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 370:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FORWARD */
 371:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 372:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** Return true if the current input packet should be accepted on this netif */
 373:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static int
 374:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_input_accept(struct netif *netif)
 375:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
ARM GAS  /tmp/cc25vxQb.s 			page 8


  26              		.loc 1 375 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              	.LVL0:
  31 0000 08B5     		push	{r3, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 3, -8
  35              		.cfi_offset 14, -4
 376:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip_input: iphdr->dest 0x%"X32_F" netif->ip_addr 0x%"X32_F" (0x%"X32_F", 0
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                          ip4_addr_get_u32(ip4_current_dest_addr()), ip4_addr_get_u32(netif_ip4_addr
 378:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                          ip4_addr_get_u32(ip4_current_dest_addr()) & ip4_addr_get_u32(netif_ip4_net
 379:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                          ip4_addr_get_u32(netif_ip4_addr(netif)) & ip4_addr_get_u32(netif_ip4_netma
 380:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                          ip4_addr_get_u32(ip4_current_dest_addr()) & ~ip4_addr_get_u32(netif_ip4_ne
 381:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 382:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* interface is up and configured? */
 383:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((netif_is_up(netif)) && (!ip4_addr_isany_val(*netif_ip4_addr(netif)))) {
  36              		.loc 1 383 0
  37 0002 90F83130 		ldrb	r3, [r0, #49]	@ zero_extendqisi2
  38 0006 13F0010F 		tst	r3, #1
  39 000a 0DD0     		beq	.L3
  40              		.loc 1 383 0 is_stmt 0 discriminator 1
  41 000c 4368     		ldr	r3, [r0, #4]
  42 000e 6BB1     		cbz	r3, .L4
 384:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* unicast to this interface address? */
 385:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (ip4_addr_cmp(ip4_current_dest_addr(), netif_ip4_addr(netif)) ||
  43              		.loc 1 385 0 is_stmt 1
  44 0010 084A     		ldr	r2, .L9
  45 0012 5269     		ldr	r2, [r2, #20]
  46 0014 9342     		cmp	r3, r2
  47 0016 0BD0     		beq	.L5
  48 0018 0146     		mov	r1, r0
 386:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* or broadcast on this interface network address? */
 387:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         ip4_addr_isbroadcast(ip4_current_dest_addr(), netif)
  49              		.loc 1 387 0 discriminator 1
  50 001a 1046     		mov	r0, r2
  51              	.LVL1:
  52 001c FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
  53              	.LVL2:
 385:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* or broadcast on this interface network address? */
  54              		.loc 1 385 0 discriminator 1
  55 0020 08B1     		cbz	r0, .L8
 388:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF
 389:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         || (ip4_addr_get_u32(ip4_current_dest_addr()) == PP_HTONL(IPADDR_LOOPBACK))
 390:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF */
 391:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        ) {
 392:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG, ("ip4_input: packet accepted on interface %c%c\n",
 393:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                              netif->name[0], netif->name[1]));
 394:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* accept on this netif */
 395:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return 1;
  56              		.loc 1 395 0
  57 0022 0120     		movs	r0, #1
 396:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 397:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_AUTOIP
 398:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* connections to link-local addresses must persist after changing
 399:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         the netif's address (RFC3927 ch. 1.9) */
ARM GAS  /tmp/cc25vxQb.s 			page 9


 400:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (autoip_accept_packet(netif, ip4_current_dest_addr())) {
 401:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG, ("ip4_input: LLA packet accepted on interface %c%c\n",
 402:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                              netif->name[0], netif->name[1]));
 403:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* accept on this netif */
 404:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return 1;
 405:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 406:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_AUTOIP */
 407:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 408:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return 0;
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
  58              		.loc 1 409 0
  59 0024 08BD     		pop	{r3, pc}
  60              	.L8:
  61 0026 08BD     		pop	{r3, pc}
  62              	.LVL3:
  63              	.L3:
 408:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
  64              		.loc 1 408 0
  65 0028 0020     		movs	r0, #0
  66              	.LVL4:
  67 002a 08BD     		pop	{r3, pc}
  68              	.LVL5:
  69              	.L4:
  70 002c 0020     		movs	r0, #0
  71              	.LVL6:
  72 002e 08BD     		pop	{r3, pc}
  73              	.LVL7:
  74              	.L5:
 395:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
  75              		.loc 1 395 0
  76 0030 0120     		movs	r0, #1
  77              	.LVL8:
  78 0032 08BD     		pop	{r3, pc}
  79              	.L10:
  80              		.align	2
  81              	.L9:
  82 0034 00000000 		.word	ip_data
  83              		.cfi_endproc
  84              	.LFE159:
  86              		.section	.text.ip4_route,"ax",%progbits
  87              		.align	1
  88              		.global	ip4_route
  89              		.syntax unified
  90              		.thumb
  91              		.thumb_func
  92              		.fpu fpv5-d16
  94              	ip4_route:
  95              	.LFB158:
 153:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_SINGLE_NETIF
  96              		.loc 1 153 0
  97              		.cfi_startproc
  98              		@ args = 0, pretend = 0, frame = 0
  99              		@ frame_needed = 0, uses_anonymous_args = 0
 100              		@ link register save eliminated.
 101              	.LVL9:
 170:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* is the netif up, does it have a link and a valid address? */
 102              		.loc 1 170 0
ARM GAS  /tmp/cc25vxQb.s 			page 10


 103 0000 2B4B     		ldr	r3, .L39
 104 0002 1B68     		ldr	r3, [r3]
 105              	.LVL10:
 106 0004 31E0     		b	.L21
 107              	.L13:
 108              	.LCFI1:
 109              		.cfi_def_cfa_offset 8
 110              		.cfi_offset 4, -8
 111              		.cfi_offset 5, -4
 170:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* is the netif up, does it have a link and a valid address? */
 112              		.loc 1 170 0 is_stmt 0 discriminator 2
 113 0006 1B68     		ldr	r3, [r3]
 114              	.LVL11:
 115 0008 ABB1     		cbz	r3, .L35
 172:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* network mask matches? */
 116              		.loc 1 172 0 is_stmt 1
 117 000a 93F83120 		ldrb	r2, [r3, #49]	@ zero_extendqisi2
 118 000e 02F00501 		and	r1, r2, #5
 119 0012 0529     		cmp	r1, #5
 120 0014 F7D1     		bne	.L13
 172:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* network mask matches? */
 121              		.loc 1 172 0 is_stmt 0 discriminator 1
 122 0016 5968     		ldr	r1, [r3, #4]
 123 0018 0029     		cmp	r1, #0
 124 001a F4D0     		beq	.L13
 125              	.L24:
 174:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* return netif on which to forward IP packet */
 126              		.loc 1 174 0 is_stmt 1
 127 001c 0468     		ldr	r4, [r0]
 128 001e 9D68     		ldr	r5, [r3, #8]
 129 0020 6140     		eors	r1, r1, r4
 130 0022 2942     		tst	r1, r5
 131 0024 1AD0     		beq	.L16
 179:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* return netif on which to forward IP packet */
 132              		.loc 1 179 0
 133 0026 12F0020F 		tst	r2, #2
 134 002a ECD1     		bne	.L13
 179:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* return netif on which to forward IP packet */
 135              		.loc 1 179 0 is_stmt 0 discriminator 1
 136 002c DA68     		ldr	r2, [r3, #12]
 137 002e 9442     		cmp	r4, r2
 138 0030 E9D1     		bne	.L13
 181:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 139              		.loc 1 181 0 is_stmt 1
 140 0032 1A46     		mov	r2, r3
 141 0034 0DE0     		b	.L11
 142              	.L35:
 216:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default)) || ip4_addr_isloopback(dest)) {
 143              		.loc 1 216 0
 144 0036 1F4A     		ldr	r2, .L39+4
 145 0038 1268     		ldr	r2, [r2]
 146 003a 52B1     		cbz	r2, .L11
 216:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default)) || ip4_addr_isloopback(dest)) {
 147              		.loc 1 216 0 is_stmt 0 discriminator 1
 148 003c 92F83110 		ldrb	r1, [r2, #49]	@ zero_extendqisi2
 149 0040 01F00501 		and	r1, r1, #5
 150 0044 0529     		cmp	r1, #5
ARM GAS  /tmp/cc25vxQb.s 			page 11


 151 0046 0BD1     		bne	.L18
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* No matching netif found and default netif is not usable.
 152              		.loc 1 217 0 is_stmt 1 discriminator 2
 153 0048 5168     		ldr	r1, [r2, #4]
 216:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default)) || ip4_addr_isloopback(dest)) {
 154              		.loc 1 216 0 discriminator 2
 155 004a 59B1     		cbz	r1, .L19
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* No matching netif found and default netif is not usable.
 156              		.loc 1 217 0
 157 004c 0178     		ldrb	r1, [r0]	@ zero_extendqisi2
 158 004e 7F29     		cmp	r1, #127
 159 0050 02D0     		beq	.L36
 160              	.L11:
 228:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 161              		.loc 1 228 0
 162 0052 1046     		mov	r0, r2
 163              	.LVL12:
 164 0054 30BC     		pop	{r4, r5}
 165              	.LCFI2:
 166              		.cfi_remember_state
 167              		.cfi_restore 5
 168              		.cfi_restore 4
 169              		.cfi_def_cfa_offset 0
 170 0056 7047     		bx	lr
 171              	.LVL13:
 172              	.L36:
 173              	.LCFI3:
 174              		.cfi_restore_state
 224:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 175              		.loc 1 224 0
 176 0058 1A46     		mov	r2, r3
 177 005a FAE7     		b	.L11
 178              	.L16:
 176:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 179              		.loc 1 176 0
 180 005c 1A46     		mov	r2, r3
 181 005e F8E7     		b	.L11
 182              	.L18:
 224:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 183              		.loc 1 224 0
 184 0060 1A46     		mov	r2, r3
 185 0062 F6E7     		b	.L11
 186              	.L19:
 187 0064 1A46     		mov	r2, r3
 188 0066 F4E7     		b	.L11
 189              	.L23:
 190              	.LCFI4:
 191              		.cfi_def_cfa_offset 0
 192              		.cfi_restore 4
 193              		.cfi_restore 5
 170:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* is the netif up, does it have a link and a valid address? */
 194              		.loc 1 170 0
 195 0068 1B68     		ldr	r3, [r3]
 196              	.LVL14:
 197              	.L21:
 198 006a 53B1     		cbz	r3, .L37
 172:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* network mask matches? */
ARM GAS  /tmp/cc25vxQb.s 			page 12


 199              		.loc 1 172 0
 200 006c 93F83120 		ldrb	r2, [r3, #49]	@ zero_extendqisi2
 201 0070 02F00501 		and	r1, r2, #5
 202 0074 0529     		cmp	r1, #5
 203 0076 F7D1     		bne	.L23
 204 0078 5968     		ldr	r1, [r3, #4]
 205 007a 0029     		cmp	r1, #0
 206 007c F4D0     		beq	.L23
 153:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_SINGLE_NETIF
 207              		.loc 1 153 0
 208 007e 30B4     		push	{r4, r5}
 209              	.LCFI5:
 210              		.cfi_def_cfa_offset 8
 211              		.cfi_offset 4, -8
 212              		.cfi_offset 5, -4
 213 0080 CCE7     		b	.L24
 214              	.L37:
 215              	.LCFI6:
 216              		.cfi_def_cfa_offset 0
 217              		.cfi_restore 4
 218              		.cfi_restore 5
 216:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default)) || ip4_addr_isloopback(dest)) {
 219              		.loc 1 216 0
 220 0082 0C4A     		ldr	r2, .L39+4
 221 0084 1268     		ldr	r2, [r2]
 222 0086 52B1     		cbz	r2, .L27
 223 0088 92F83110 		ldrb	r1, [r2, #49]	@ zero_extendqisi2
 224 008c 01F00501 		and	r1, r1, #5
 225 0090 0529     		cmp	r1, #5
 226 0092 08D1     		bne	.L29
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* No matching netif found and default netif is not usable.
 227              		.loc 1 217 0
 228 0094 5168     		ldr	r1, [r2, #4]
 216:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default)) || ip4_addr_isloopback(dest)) {
 229              		.loc 1 216 0
 230 0096 41B1     		cbz	r1, .L31
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* No matching netif found and default netif is not usable.
 231              		.loc 1 217 0
 232 0098 0178     		ldrb	r1, [r0]	@ zero_extendqisi2
 233 009a 7F29     		cmp	r1, #127
 234 009c 01D0     		beq	.L38
 235              	.L27:
 228:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 236              		.loc 1 228 0
 237 009e 1046     		mov	r0, r2
 238              	.LVL15:
 239 00a0 7047     		bx	lr
 240              	.LVL16:
 241              	.L38:
 224:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 242              		.loc 1 224 0
 243 00a2 1A46     		mov	r2, r3
 244 00a4 FBE7     		b	.L27
 245              	.L29:
 246 00a6 1A46     		mov	r2, r3
 247 00a8 F9E7     		b	.L27
 248              	.L31:
ARM GAS  /tmp/cc25vxQb.s 			page 13


 249 00aa 1A46     		mov	r2, r3
 250 00ac F7E7     		b	.L27
 251              	.L40:
 252 00ae 00BF     		.align	2
 253              	.L39:
 254 00b0 00000000 		.word	netif_list
 255 00b4 00000000 		.word	netif_default
 256              		.cfi_endproc
 257              	.LFE158:
 259              		.section	.text.ip4_input,"ax",%progbits
 260              		.align	1
 261              		.global	ip4_input
 262              		.syntax unified
 263              		.thumb
 264              		.thumb_func
 265              		.fpu fpv5-d16
 267              	ip4_input:
 268              	.LFB160:
 410:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 411:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 412:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * This function is called by the network interface device driver when
 413:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * an IP packet is received. The function does the basic checks of the
 414:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * IP header such as packet size being at least larger than the header
 415:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * size etc. If the packet was not destined for us, the packet is
 416:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * forwarded (using ip_forward). The IP checksum is always checked.
 417:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 418:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Finally, the packet is sent to the upper layer protocol input function.
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 420:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the received IP packet (p->payload points to IP header)
 421:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param inp the netif on which this packet was received
 422:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return ERR_OK if the packet was processed (could return ERR_* if it wasn't
 423:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         processed, but currently always returns ERR_OK)
 424:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 425:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 426:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_input(struct pbuf *p, struct netif *inp)
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 269              		.loc 1 427 0
 270              		.cfi_startproc
 271              		@ args = 0, pretend = 0, frame = 0
 272              		@ frame_needed = 0, uses_anonymous_args = 0
 273              	.LVL17:
 274 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 275              	.LCFI7:
 276              		.cfi_def_cfa_offset 32
 277              		.cfi_offset 3, -32
 278              		.cfi_offset 4, -28
 279              		.cfi_offset 5, -24
 280              		.cfi_offset 6, -20
 281              		.cfi_offset 7, -16
 282              		.cfi_offset 8, -12
 283              		.cfi_offset 9, -8
 284              		.cfi_offset 14, -4
 285 0004 0446     		mov	r4, r0
 286              	.LVL18:
 428:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   const struct ip_hdr *iphdr;
 429:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 430:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   u16_t iphdr_hlen;
ARM GAS  /tmp/cc25vxQb.s 			page 14


 431:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   u16_t iphdr_len;
 432:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_ACCEPT_LINK_LAYER_ADDRESSING || LWIP_IGMP
 433:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   int check_ip_src = 1;
 434:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING || LWIP_IGMP */
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_RAW
 436:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   raw_input_state_t raw_status;
 437:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_RAW */
 438:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 439:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_ASSERT_CORE_LOCKED();
 440:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 441:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IP_STATS_INC(ip.recv);
 442:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   MIB2_STATS_INC(mib2.ipinreceives);
 443:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 444:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* identify the IP header */
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   iphdr = (struct ip_hdr *)p->payload;
 287              		.loc 1 445 0
 288 0006 4668     		ldr	r6, [r0, #4]
 289              	.LVL19:
 446:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IPH_V(iphdr) != 4) {
 290              		.loc 1 446 0
 291 0008 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 292 000a 1A09     		lsrs	r2, r3, #4
 293 000c 042A     		cmp	r2, #4
 294 000e 04D0     		beq	.L42
 447:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_WARNING, ("IP packet dropped due to bad version number %"
 448:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_debug_print(p);
 449:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 295              		.loc 1 449 0
 296 0010 FFF7FEFF 		bl	pbuf_free
 297              	.LVL20:
 298              	.L43:
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.err);
 451:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 452:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipinhdrerrors);
 453:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 454:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 455:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 456:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_IP4_INPUT
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (LWIP_HOOK_IP4_INPUT(p, inp)) {
 458:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* the packet has been eaten */
 459:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 460:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 461:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
 462:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 463:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* obtain IP header length in bytes */
 464:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   iphdr_hlen = IPH_HL_BYTES(iphdr);
 465:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* obtain ip length in bytes */
 466:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   iphdr_len = lwip_ntohs(IPH_LEN(iphdr));
 467:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 468:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Trim pbuf. This is especially required for packets < 60 bytes. */
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (iphdr_len < p->tot_len) {
 470:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_realloc(p, iphdr_len);
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 472:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 473:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* header length exceeds first pbuf length, or ip length exceeds total pbuf length? */
 474:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((iphdr_hlen > p->len) || (iphdr_len > p->tot_len) || (iphdr_hlen < IP_HLEN)) {
 475:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
ARM GAS  /tmp/cc25vxQb.s 			page 15


 476:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 477:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                   ("ip4_input: short IP header (%"U16_F" bytes) received, IP packet dropped\n", iph
 478:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen > p->len) {
 480:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 481:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                   ("IP header (len %"U16_F") does not fit in first pbuf (len %"U16_F"), IP packet d
 482:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                    iphdr_hlen, p->len));
 483:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 484:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_len > p->tot_len) {
 485:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 486:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                   ("IP (len %"U16_F") is longer than pbuf (len %"U16_F"), IP packet dropped.\n",
 487:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                    iphdr_len, p->tot_len));
 488:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 489:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* free (drop) packet pbufs */
 490:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 491:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.lenerr);
 492:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 493:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipindiscards);
 494:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 495:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 496:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 497:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* verify checksum */
 498:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_CHECK_IP
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IF__NETIF_CHECKSUM_ENABLED(inp, NETIF_CHECKSUM_CHECK_IP) {
 500:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (inet_chksum(iphdr, iphdr_hlen) != 0) {
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 502:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 503:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                   ("Checksum (0x%"X16_F") failed, IP packet dropped.\n", inet_chksum(iphdr, iphdr_h
 504:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_debug_print(p);
 505:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       pbuf_free(p);
 506:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.chkerr);
 507:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 508:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinhdrerrors);
 509:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 510:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 511:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 512:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
 513:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 514:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* copy IP addresses to aligned ip_addr_t */
 515:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_addr_copy_from_ip4(ip_data.current_iphdr_dest, iphdr->dest);
 516:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_addr_copy_from_ip4(ip_data.current_iphdr_src, iphdr->src);
 517:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 518:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* match packet against an interface, i.e. is this packet for us? */
 519:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_ismulticast(ip4_current_dest_addr())) {
 520:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 521:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((inp->flags & NETIF_FLAG_IGMP) && (igmp_lookfor_group(inp, ip4_current_dest_addr()))) {
 522:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* IGMP snooping switches need 0.0.0.0 to be allowed as source address (RFC 4541) */
 523:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_t allsystems;
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP4_ADDR(&allsystems, 224, 0, 0, 1);
 525:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (ip4_addr_cmp(ip4_current_dest_addr(), &allsystems) &&
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           ip4_addr_isany(ip4_current_src_addr())) {
 527:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         check_ip_src = 0;
 528:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 529:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 530:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 531:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = NULL;
 532:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
ARM GAS  /tmp/cc25vxQb.s 			page 16


 533:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* LWIP_IGMP */
 534:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((netif_is_up(inp)) && (!ip4_addr_isany_val(*netif_ip4_addr(inp)))) {
 535:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 536:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 537:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = NULL;
 538:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 539:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_IGMP */
 540:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   } else {
 541:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* start trying with inp. if that's not acceptable, start walking the
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        list of configured netifs. */
 543:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (ip4_input_accept(inp)) {
 544:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 545:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = NULL;
 547:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_NETIF_LOOPBACK || LWIP_HAVE_LOOPIF
 548:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* Packets sent to the loopback address must not be accepted on an
 549:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        * interface that does not have the loopback address assigned to it,
 550:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        * unless a non-loopback interface is used for loopback traffic. */
 551:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (!ip4_addr_isloopback(ip4_current_dest_addr()))
 552:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* !LWIP_NETIF_LOOPBACK || LWIP_HAVE_LOOPIF */
 553:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       {
 554:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_SINGLE_NETIF
 555:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         NETIF_FOREACH(netif) {
 556:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           if (netif == inp) {
 557:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             /* we checked that before already */
 558:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             continue;
 559:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           }
 560:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           if (ip4_input_accept(netif)) {
 561:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             break;
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           }
 563:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         }
 564:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* !LWIP_SINGLE_NETIF */
 565:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 566:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 567:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 568:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 569:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_ACCEPT_LINK_LAYER_ADDRESSING
 570:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Pass DHCP messages regardless of destination address. DHCP traffic is addressed
 571:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * using link layer addressing (such as Ethernet MAC) so we must not filter on IP.
 572:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * According to RFC 1542 section 3.1.1, referred by RFC 2131).
 573:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    *
 574:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * If you want to accept private broadcast communication while a netif is down,
 575:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * define LWIP_IP_ACCEPT_UDP_PORT(dst_port), e.g.:
 576:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    *
 577:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * #define LWIP_IP_ACCEPT_UDP_PORT(dst_port) ((dst_port) == PP_NTOHS(12345))
 578:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    */
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif == NULL) {
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* remote port is DHCP server? */
 581:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (IPH_PROTO(iphdr) == IP_PROTO_UDP) {
 582:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       const struct udp_hdr *udphdr = (const struct udp_hdr *)((const u8_t *)iphdr + iphdr_hlen);
 583:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE, ("ip4_input: UDP packet to DHCP client port %"U16_F"\n
 584:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                                               lwip_ntohs(udphdr->dest)));
 585:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (IP_ACCEPT_LINK_LAYER_ADDRESSED_PORT(udphdr->dest)) {
 586:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE, ("ip4_input: DHCP packet accepted.\n"));
 587:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = inp;
 588:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         check_ip_src = 0;
 589:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
ARM GAS  /tmp/cc25vxQb.s 			page 17


 590:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 591:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 592:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING */
 593:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 594:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* broadcast or multicast packet source address? Compliant with RFC 1122: 3.2.1.3 */
 595:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP || IP_ACCEPT_LINK_LAYER_ADDRESSING
 596:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (check_ip_src
 597:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_ACCEPT_LINK_LAYER_ADDRESSING
 598:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* DHCP servers need 0.0.0.0 to be allowed as source address (RFC 1.1.2.2: 3.2.1.3/a) */
 599:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       && !ip4_addr_isany_val(*ip4_current_src_addr())
 600:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING */
 601:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****      )
 602:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_IGMP || IP_ACCEPT_LINK_LAYER_ADDRESSING */
 603:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   {
 604:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((ip4_addr_isbroadcast(ip4_current_src_addr(), inp)) ||
 605:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         (ip4_addr_ismulticast(ip4_current_src_addr()))) {
 606:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* packet source is not valid */
 607:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_WARNING, ("ip4_input: packet source is
 608:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* free (drop) packet pbufs */
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       pbuf_free(p);
 610:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 611:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinaddrerrors);
 612:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindiscards);
 613:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 614:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 615:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 616:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 617:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* packet not for us? */
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif == NULL) {
 619:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not for us, route or discard */
 620:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE, ("ip4_input: packet not for us.\n"));
 621:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FORWARD
 622:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* non-broadcast packet? */
 623:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (!ip4_addr_isbroadcast(ip4_current_dest_addr(), inp)) {
 624:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* try to forward IP packet on (other) interfaces */
 625:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_forward(p, (struct ip_hdr *)p->payload, inp);
 626:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else
 627:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FORWARD */
 628:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     {
 629:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 630:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinaddrerrors);
 631:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindiscards);
 632:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 633:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 634:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 635:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 636:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* packet consists of multiple fragments? */
 637:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((IPH_OFFSET(iphdr) & PP_HTONS(IP_OFFMASK | IP_MF)) != 0) {
 638:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_REASSEMBLY /* packet fragment reassembly code present? */
 639:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("IP packet is a fragment (id=0x%04"X16_F" tot_len=%"U16_F" len=%"U16_F" 
 640:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                            lwip_ntohs(IPH_ID(iphdr)), p->tot_len, lwip_ntohs(IPH_LEN(iphdr)), (u16_
 641:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* reassemble the packet*/
 642:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     p = ip4_reass(p);
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not fully reassembled yet? */
 644:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (p == NULL) {
 645:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 646:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
ARM GAS  /tmp/cc25vxQb.s 			page 18


 647:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     iphdr = (const struct ip_hdr *)p->payload;
 648:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_REASSEMBLY == 0, no packet fragment reassembly code present */
 649:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 650:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("IP packet dropped since it was fragmented (0x%
 651:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                 lwip_ntohs(IPH_OFFSET(iphdr))));
 652:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.opterr);
 653:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 654:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* unsupported protocol feature */
 655:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipinunknownprotos);
 656:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 657:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_REASSEMBLY */
 658:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 659:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 660:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_ALLOWED == 0 /* no support for IP options in the IP header? */
 661:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 662:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 663:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* there is an extra "router alert" option in IGMP messages which we allow for but do not police 
 664:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((iphdr_hlen > IP_HLEN) &&  (IPH_PROTO(iphdr) != IP_PROTO_IGMP)) {
 665:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else
 666:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (iphdr_hlen > IP_HLEN) {
 667:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_IGMP */
 668:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("IP packet dropped since there were IP options 
 669:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 670:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.opterr);
 671:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 672:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* unsupported protocol feature */
 673:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipinunknownprotos);
 674:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 675:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 676:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_ALLOWED == 0 */
 677:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 678:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* send to upper layers */
 679:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_input: \n"));
 680:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_debug_print(p);
 681:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_input: p->len %"U16_F" p->tot_len %"U16_F"\n", p->len, p->tot_len));
 682:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 683:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_netif = netif;
 684:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = inp;
 685:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = iphdr;
 686:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = IPH_HL_BYTES(iphdr);
 687:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 688:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_RAW
 689:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* raw input did not eat the packet? */
 690:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   raw_status = raw_input(p, inp);
 691:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (raw_status != RAW_INPUT_EATEN)
 692:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_RAW */
 693:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   {
 694:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_remove_header(p, iphdr_hlen); /* Move to payload, no check necessary. */
 695:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 696:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     switch (IPH_PROTO(iphdr)) {
 697:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_UDP
 698:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       case IP_PROTO_UDP:
 699:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_UDPLITE
 700:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       case IP_PROTO_UDPLITE:
 701:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_UDPLITE */
 702:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         MIB2_STATS_INC(mib2.ipindelivers);
 703:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         udp_input(p, inp);
ARM GAS  /tmp/cc25vxQb.s 			page 19


 704:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         break;
 705:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_UDP */
 706:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_TCP
 707:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       case IP_PROTO_TCP:
 708:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         MIB2_STATS_INC(mib2.ipindelivers);
 709:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         tcp_input(p, inp);
 710:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         break;
 711:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_TCP */
 712:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_ICMP
 713:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       case IP_PROTO_ICMP:
 714:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         MIB2_STATS_INC(mib2.ipindelivers);
 715:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         icmp_input(p, inp);
 716:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         break;
 717:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 718:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 719:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       case IP_PROTO_IGMP:
 720:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         igmp_input(p, inp, ip4_current_dest_addr());
 721:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         break;
 722:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_IGMP */
 723:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       default:
 724:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_RAW
 725:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         if (raw_status == RAW_INPUT_DELIVERED) {
 726:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           MIB2_STATS_INC(mib2.ipindelivers);
 727:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         } else
 728:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_RAW */
 729:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         {
 730:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_ICMP
 731:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           /* send ICMP destination protocol unreachable unless is was a broadcast */
 732:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           if (!ip4_addr_isbroadcast(ip4_current_dest_addr(), netif) &&
 733:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****               !ip4_addr_ismulticast(ip4_current_dest_addr())) {
 734:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             pbuf_header_force(p, (s16_t)iphdr_hlen); /* Move to ip header, no check necessary. */
 735:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             icmp_dest_unreach(p, ICMP_DUR_PROTO);
 736:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           }
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 738:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 739:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("Unsupported transport protocol %"U16_F"\
 740:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 741:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           IP_STATS_INC(ip.proterr);
 742:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           IP_STATS_INC(ip.drop);
 743:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           MIB2_STATS_INC(mib2.ipinunknownprotos);
 744:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         }
 745:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         pbuf_free(p);
 746:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         break;
 747:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 748:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 749:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 750:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* @todo: this is not really necessary... */
 751:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_netif = NULL;
 752:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = NULL;
 753:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = NULL;
 754:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = 0;
 755:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_src_addr());
 756:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_dest_addr());
 757:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 758:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ERR_OK;
 759:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 299              		.loc 1 759 0
ARM GAS  /tmp/cc25vxQb.s 			page 20


 300 0014 0020     		movs	r0, #0
 301 0016 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 302              	.LVL21:
 303              	.L42:
 304 001a 8846     		mov	r8, r1
 464:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* obtain ip length in bytes */
 305              		.loc 1 464 0
 306 001c 03F00F03 		and	r3, r3, #15
 307 0020 9D00     		lsls	r5, r3, #2
 308 0022 1FFA85F9 		uxth	r9, r5
 309              	.LVL22:
 466:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 310              		.loc 1 466 0
 311 0026 7088     		ldrh	r0, [r6, #2]	@ unaligned
 312              	.LVL23:
 313 0028 FFF7FEFF 		bl	lwip_htons
 314              	.LVL24:
 315 002c 0746     		mov	r7, r0
 316              	.LVL25:
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_realloc(p, iphdr_len);
 317              		.loc 1 469 0
 318 002e 2389     		ldrh	r3, [r4, #8]
 319 0030 9842     		cmp	r0, r3
 320 0032 1CD3     		bcc	.L72
 321              	.LVL26:
 322              	.L44:
 474:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 323              		.loc 1 474 0
 324 0034 6389     		ldrh	r3, [r4, #10]
 325 0036 9945     		cmp	r9, r3
 326 0038 1ED8     		bhi	.L45
 474:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 327              		.loc 1 474 0 is_stmt 0 discriminator 1
 328 003a 2389     		ldrh	r3, [r4, #8]
 329 003c 9F42     		cmp	r7, r3
 330 003e 1BD8     		bhi	.L45
 474:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 331              		.loc 1 474 0 discriminator 2
 332 0040 B9F1130F 		cmp	r9, #19
 333 0044 18D9     		bls	.L45
 515:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_addr_copy_from_ip4(ip_data.current_iphdr_src, iphdr->src);
 334              		.loc 1 515 0 is_stmt 1
 335 0046 3369     		ldr	r3, [r6, #16]	@ unaligned
 336 0048 584A     		ldr	r2, .L79
 337 004a 5361     		str	r3, [r2, #20]
 516:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 338              		.loc 1 516 0
 339 004c F168     		ldr	r1, [r6, #12]	@ unaligned
 340 004e 1161     		str	r1, [r2, #16]
 519:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 341              		.loc 1 519 0
 342 0050 03F0F003 		and	r3, r3, #240
 343 0054 E02B     		cmp	r3, #224
 344 0056 13D0     		beq	.L73
 543:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 345              		.loc 1 543 0
 346 0058 4046     		mov	r0, r8
ARM GAS  /tmp/cc25vxQb.s 			page 21


 347 005a FFF7FEFF 		bl	ip4_input_accept
 348              	.LVL27:
 349 005e 38BB     		cbnz	r0, .L65
 350              	.LVL28:
 551:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* !LWIP_NETIF_LOOPBACK || LWIP_HAVE_LOOPIF */
 351              		.loc 1 551 0
 352 0060 524B     		ldr	r3, .L79
 353 0062 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 354 0064 7F2B     		cmp	r3, #127
 355 0066 67D0     		beq	.L66
 555:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           if (netif == inp) {
 356              		.loc 1 555 0
 357 0068 514B     		ldr	r3, .L79+4
 358 006a 1F68     		ldr	r7, [r3]
 359              	.LVL29:
 360 006c 13E0     		b	.L49
 361              	.LVL30:
 362              	.L72:
 470:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 363              		.loc 1 470 0
 364 006e 0146     		mov	r1, r0
 365 0070 2046     		mov	r0, r4
 366              	.LVL31:
 367 0072 FFF7FEFF 		bl	pbuf_realloc
 368              	.LVL32:
 369 0076 DDE7     		b	.L44
 370              	.L45:
 490:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.lenerr);
 371              		.loc 1 490 0
 372 0078 2046     		mov	r0, r4
 373 007a FFF7FEFF 		bl	pbuf_free
 374              	.LVL33:
 494:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 375              		.loc 1 494 0
 376 007e C9E7     		b	.L43
 377              	.L73:
 534:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 378              		.loc 1 534 0
 379 0080 98F83130 		ldrb	r3, [r8, #49]	@ zero_extendqisi2
 380 0084 13F0010F 		tst	r3, #1
 381 0088 0ED0     		beq	.L63
 534:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 382              		.loc 1 534 0 is_stmt 0 discriminator 1
 383 008a D8F80430 		ldr	r3, [r8, #4]
 384 008e 6BB9     		cbnz	r3, .L64
 537:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 385              		.loc 1 537 0 is_stmt 1
 386 0090 0027     		movs	r7, #0
 387 0092 0EE0     		b	.L48
 388              	.LVL34:
 389              	.L50:
 555:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           if (netif == inp) {
 390              		.loc 1 555 0 discriminator 2
 391 0094 3F68     		ldr	r7, [r7]
 392              	.LVL35:
 393              	.L49:
 555:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           if (netif == inp) {
ARM GAS  /tmp/cc25vxQb.s 			page 22


 394              		.loc 1 555 0 is_stmt 0 discriminator 1
 395 0096 67B1     		cbz	r7, .L48
 556:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             /* we checked that before already */
 396              		.loc 1 556 0 is_stmt 1
 397 0098 4745     		cmp	r7, r8
 398 009a FBD0     		beq	.L50
 560:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             break;
 399              		.loc 1 560 0
 400 009c 3846     		mov	r0, r7
 401 009e FFF7FEFF 		bl	ip4_input_accept
 402              	.LVL36:
 403 00a2 0028     		cmp	r0, #0
 404 00a4 F6D0     		beq	.L50
 405 00a6 04E0     		b	.L48
 406              	.LVL37:
 407              	.L63:
 537:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 408              		.loc 1 537 0
 409 00a8 0027     		movs	r7, #0
 410 00aa 02E0     		b	.L48
 411              	.L64:
 535:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 412              		.loc 1 535 0
 413 00ac 4746     		mov	r7, r8
 414 00ae 00E0     		b	.L48
 415              	.L65:
 544:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 416              		.loc 1 544 0
 417 00b0 4746     		mov	r7, r8
 418              	.L48:
 419              	.LVL38:
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* remote port is DHCP server? */
 420              		.loc 1 579 0
 421 00b2 002F     		cmp	r7, #0
 422 00b4 42D0     		beq	.L74
 433:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING || LWIP_IGMP */
 423              		.loc 1 433 0
 424 00b6 0123     		movs	r3, #1
 425              	.LVL39:
 426              	.L52:
 596:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_ACCEPT_LINK_LAYER_ADDRESSING
 427              		.loc 1 596 0
 428 00b8 1BB1     		cbz	r3, .L53
 599:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING */
 429              		.loc 1 599 0
 430 00ba 3C4B     		ldr	r3, .L79
 431              	.LVL40:
 432 00bc 1869     		ldr	r0, [r3, #16]
 433 00be 0028     		cmp	r0, #0
 434 00c0 4BD1     		bne	.L75
 435              	.L53:
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not for us, route or discard */
 436              		.loc 1 618 0
 437 00c2 002F     		cmp	r7, #0
 438 00c4 57D0     		beq	.L76
 637:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_REASSEMBLY /* packet fragment reassembly code present? */
 439              		.loc 1 637 0
ARM GAS  /tmp/cc25vxQb.s 			page 23


 440 00c6 F388     		ldrh	r3, [r6, #6]	@ unaligned
 441 00c8 23F0C003 		bic	r3, r3, #192
 442 00cc 9BB2     		uxth	r3, r3
 443 00ce 33B1     		cbz	r3, .L56
 642:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not fully reassembled yet? */
 444              		.loc 1 642 0
 445 00d0 2046     		mov	r0, r4
 446 00d2 FFF7FEFF 		bl	ip4_reass
 447              	.LVL41:
 644:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 448              		.loc 1 644 0
 449 00d6 0446     		mov	r4, r0
 450 00d8 0028     		cmp	r0, #0
 451 00da 9BD0     		beq	.L43
 647:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_REASSEMBLY == 0, no packet fragment reassembly code present */
 452              		.loc 1 647 0
 453 00dc 4668     		ldr	r6, [r0, #4]
 454              	.LVL42:
 455              	.L56:
 683:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = inp;
 456              		.loc 1 683 0
 457 00de 334A     		ldr	r2, .L79
 458 00e0 1760     		str	r7, [r2]
 684:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = iphdr;
 459              		.loc 1 684 0
 460 00e2 C2F80480 		str	r8, [r2, #4]
 685:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = IPH_HL_BYTES(iphdr);
 461              		.loc 1 685 0
 462 00e6 9660     		str	r6, [r2, #8]
 686:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 463              		.loc 1 686 0
 464 00e8 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 465 00ea 03F00F03 		and	r3, r3, #15
 466 00ee 9B00     		lsls	r3, r3, #2
 467 00f0 9381     		strh	r3, [r2, #12]	@ movhi
 694:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 468              		.loc 1 694 0
 469 00f2 2946     		mov	r1, r5
 470 00f4 2046     		mov	r0, r4
 471 00f6 FFF7FEFF 		bl	pbuf_remove_header
 472              	.LVL43:
 696:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_UDP
 473              		.loc 1 696 0
 474 00fa 737A     		ldrb	r3, [r6, #9]	@ zero_extendqisi2
 475 00fc 062B     		cmp	r3, #6
 476 00fe 4BD0     		beq	.L58
 477 0100 112B     		cmp	r3, #17
 478 0102 3CD0     		beq	.L59
 479 0104 012B     		cmp	r3, #1
 480 0106 4CD0     		beq	.L77
 732:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****               !ip4_addr_ismulticast(ip4_current_dest_addr())) {
 481              		.loc 1 732 0
 482 0108 3946     		mov	r1, r7
 483 010a 284B     		ldr	r3, .L79
 484 010c 5869     		ldr	r0, [r3, #20]
 485 010e FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 486              	.LVL44:
ARM GAS  /tmp/cc25vxQb.s 			page 24


 487 0112 68B9     		cbnz	r0, .L62
 733:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             pbuf_header_force(p, (s16_t)iphdr_hlen); /* Move to ip header, no check necessary. */
 488              		.loc 1 733 0 discriminator 1
 489 0114 254B     		ldr	r3, .L79
 490 0116 5B69     		ldr	r3, [r3, #20]
 491 0118 03F0F003 		and	r3, r3, #240
 732:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****               !ip4_addr_ismulticast(ip4_current_dest_addr())) {
 492              		.loc 1 732 0 discriminator 1
 493 011c E02B     		cmp	r3, #224
 494 011e 07D0     		beq	.L62
 734:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             icmp_dest_unreach(p, ICMP_DUR_PROTO);
 495              		.loc 1 734 0
 496 0120 2946     		mov	r1, r5
 497 0122 2046     		mov	r0, r4
 498 0124 FFF7FEFF 		bl	pbuf_header_force
 499              	.LVL45:
 735:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           }
 500              		.loc 1 735 0
 501 0128 0221     		movs	r1, #2
 502 012a 2046     		mov	r0, r4
 503 012c FFF7FEFF 		bl	icmp_dest_unreach
 504              	.LVL46:
 505              	.L62:
 745:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         break;
 506              		.loc 1 745 0
 507 0130 2046     		mov	r0, r4
 508 0132 FFF7FEFF 		bl	pbuf_free
 509              	.LVL47:
 746:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 510              		.loc 1 746 0
 511 0136 26E0     		b	.L61
 512              	.LVL48:
 513              	.L66:
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_NETIF_LOOPBACK || LWIP_HAVE_LOOPIF
 514              		.loc 1 546 0
 515 0138 0027     		movs	r7, #0
 516 013a BAE7     		b	.L48
 517              	.LVL49:
 518              	.L74:
 581:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       const struct udp_hdr *udphdr = (const struct udp_hdr *)((const u8_t *)iphdr + iphdr_hlen);
 519              		.loc 1 581 0
 520 013c 737A     		ldrb	r3, [r6, #9]	@ zero_extendqisi2
 521 013e 112B     		cmp	r3, #17
 522 0140 01D0     		beq	.L78
 433:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING || LWIP_IGMP */
 523              		.loc 1 433 0
 524 0142 0123     		movs	r3, #1
 525 0144 B8E7     		b	.L52
 526              	.L78:
 527              	.LBB2:
 582:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE, ("ip4_input: UDP packet to DHCP client port %"U16_F"\n
 528              		.loc 1 582 0
 529 0146 7319     		adds	r3, r6, r5
 530              	.LVL50:
 585:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE, ("ip4_input: DHCP packet accepted.\n"));
 531              		.loc 1 585 0
 532 0148 5B88     		ldrh	r3, [r3, #2]	@ unaligned
ARM GAS  /tmp/cc25vxQb.s 			page 25


 533              	.LVL51:
 534 014a B3F5884F 		cmp	r3, #17408
 535 014e 01D0     		beq	.L69
 536              	.LBE2:
 433:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING || LWIP_IGMP */
 537              		.loc 1 433 0
 538 0150 0123     		movs	r3, #1
 539 0152 B1E7     		b	.L52
 540              	.L69:
 541              	.LBB3:
 587:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         check_ip_src = 0;
 542              		.loc 1 587 0
 543 0154 4746     		mov	r7, r8
 544              	.LVL52:
 588:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 545              		.loc 1 588 0
 546 0156 0023     		movs	r3, #0
 547 0158 AEE7     		b	.L52
 548              	.LVL53:
 549              	.L75:
 550              	.LBE3:
 604:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         (ip4_addr_ismulticast(ip4_current_src_addr()))) {
 551              		.loc 1 604 0
 552 015a 4146     		mov	r1, r8
 553 015c FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 554              	.LVL54:
 555 0160 28B9     		cbnz	r0, .L54
 605:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* packet source is not valid */
 556              		.loc 1 605 0 discriminator 1
 557 0162 124B     		ldr	r3, .L79
 558 0164 1B69     		ldr	r3, [r3, #16]
 559 0166 03F0F003 		and	r3, r3, #240
 604:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         (ip4_addr_ismulticast(ip4_current_src_addr()))) {
 560              		.loc 1 604 0 discriminator 1
 561 016a E02B     		cmp	r3, #224
 562 016c A9D1     		bne	.L53
 563              	.L54:
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 564              		.loc 1 609 0
 565 016e 2046     		mov	r0, r4
 566 0170 FFF7FEFF 		bl	pbuf_free
 567              	.LVL55:
 613:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 568              		.loc 1 613 0
 569 0174 4EE7     		b	.L43
 570              	.L76:
 633:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 571              		.loc 1 633 0
 572 0176 2046     		mov	r0, r4
 573 0178 FFF7FEFF 		bl	pbuf_free
 574              	.LVL56:
 634:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 575              		.loc 1 634 0
 576 017c 4AE7     		b	.L43
 577              	.L59:
 703:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         break;
 578              		.loc 1 703 0
ARM GAS  /tmp/cc25vxQb.s 			page 26


 579 017e 4146     		mov	r1, r8
 580 0180 2046     		mov	r0, r4
 581 0182 FFF7FEFF 		bl	udp_input
 582              	.LVL57:
 583              	.L61:
 751:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = NULL;
 584              		.loc 1 751 0
 585 0186 094B     		ldr	r3, .L79
 586 0188 0022     		movs	r2, #0
 587 018a 1A60     		str	r2, [r3]
 752:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = NULL;
 588              		.loc 1 752 0
 589 018c 5A60     		str	r2, [r3, #4]
 753:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = 0;
 590              		.loc 1 753 0
 591 018e 9A60     		str	r2, [r3, #8]
 754:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_src_addr());
 592              		.loc 1 754 0
 593 0190 9A81     		strh	r2, [r3, #12]	@ movhi
 755:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_dest_addr());
 594              		.loc 1 755 0
 595 0192 1A61     		str	r2, [r3, #16]
 756:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 596              		.loc 1 756 0
 597 0194 5A61     		str	r2, [r3, #20]
 758:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 598              		.loc 1 758 0
 599 0196 3DE7     		b	.L43
 600              	.L58:
 709:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         break;
 601              		.loc 1 709 0
 602 0198 4146     		mov	r1, r8
 603 019a 2046     		mov	r0, r4
 604 019c FFF7FEFF 		bl	tcp_input
 605              	.LVL58:
 710:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_TCP */
 606              		.loc 1 710 0
 607 01a0 F1E7     		b	.L61
 608              	.L77:
 715:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         break;
 609              		.loc 1 715 0
 610 01a2 4146     		mov	r1, r8
 611 01a4 2046     		mov	r0, r4
 612 01a6 FFF7FEFF 		bl	icmp_input
 613              	.LVL59:
 716:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 614              		.loc 1 716 0
 615 01aa ECE7     		b	.L61
 616              	.L80:
 617              		.align	2
 618              	.L79:
 619 01ac 00000000 		.word	ip_data
 620 01b0 00000000 		.word	netif_list
 621              		.cfi_endproc
 622              	.LFE160:
 624              		.section	.text.ip4_output_if_src,"ax",%progbits
 625              		.align	1
ARM GAS  /tmp/cc25vxQb.s 			page 27


 626              		.global	ip4_output_if_src
 627              		.syntax unified
 628              		.thumb
 629              		.thumb_func
 630              		.fpu fpv5-d16
 632              	ip4_output_if_src:
 633              	.LFB162:
 760:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 761:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 762:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Sends an IP packet on a network interface. This function constructs
 763:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * the IP header and calculates the IP header checksum. If the source
 764:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * IP address is NULL, the IP address of the outgoing network
 765:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * interface is filled in as source address.
 766:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * If the destination IP address is LWIP_IP_HDRINCL, p is assumed to already
 767:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * include an IP header and p->payload points to it instead of the data.
 768:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 769:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the packet to send (p->payload points to the data, e.g. next
 770:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             protocol header; if dest == LWIP_IP_HDRINCL, p already includes an
 771:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             IP header and p->payload points to that IP header)
 772:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param src the source IP address to send from (if src == IP4_ADDR_ANY, the
 773:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         IP  address of the netif used to send is used as source address)
 774:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param dest the destination IP address to send the packet to
 775:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param ttl the TTL value to be set in the IP header
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param tos the TOS value to be set in the IP header
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param proto the PROTOCOL to be set in the IP header
 778:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param netif the netif on which to send this packet
 779:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return ERR_OK if the packet was sent OK
 780:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         ERR_BUF if p doesn't have enough space for IP/LINK headers
 781:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         returns errors returned by netif->output
 782:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 783:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @note ip_id: RFC791 "some host may be able to simply use
 784:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *  unique identifiers independent of destination"
 785:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 786:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 787:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output_if(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 788:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****               u8_t ttl, u8_t tos,
 789:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****               u8_t proto, struct netif *netif)
 790:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 791:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 792:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if_opt(p, src, dest, ttl, tos, proto, netif, NULL, 0);
 793:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 794:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 795:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 796:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Same as ip_output_if() but with the possibility to include IP options:
 797:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 798:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @ param ip_options pointer to the IP options, copied into the IP header
 799:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @ param optlen length of ip_options
 800:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 801:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 802:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output_if_opt(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 803:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                   u8_t ttl, u8_t tos, u8_t proto, struct netif *netif, void *ip_options,
 804:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                   u16_t optlen)
 805:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 806:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 807:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   const ip4_addr_t *src_used = src;
 808:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (dest != LWIP_IP_HDRINCL) {
 809:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (ip4_addr_isany(src)) {
ARM GAS  /tmp/cc25vxQb.s 			page 28


 810:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       src_used = netif_ip4_addr(netif);
 811:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 812:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 813:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 814:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 815:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if_opt_src(p, src_used, dest, ttl, tos, proto, netif,
 816:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                                ip_options, optlen);
 817:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_OPTIONS_SEND */
 818:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if_src(p, src_used, dest, ttl, tos, proto, netif);
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 820:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 821:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 822:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 823:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Same as ip_output_if() but 'src' address is not replaced by netif address
 824:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * when it is 'any'.
 825:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 826:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 827:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output_if_src(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 828:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                   u8_t ttl, u8_t tos,
 829:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                   u8_t proto, struct netif *netif)
 830:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 634              		.loc 1 830 0
 635              		.cfi_startproc
 636              		@ args = 12, pretend = 0, frame = 8
 637              		@ frame_needed = 0, uses_anonymous_args = 0
 638              	.LVL60:
 639 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 640              	.LCFI8:
 641              		.cfi_def_cfa_offset 28
 642              		.cfi_offset 4, -28
 643              		.cfi_offset 5, -24
 644              		.cfi_offset 6, -20
 645              		.cfi_offset 7, -16
 646              		.cfi_offset 8, -12
 647              		.cfi_offset 9, -8
 648              		.cfi_offset 14, -4
 649 0004 83B0     		sub	sp, sp, #12
 650              	.LCFI9:
 651              		.cfi_def_cfa_offset 40
 652 0006 0546     		mov	r5, r0
 653 0008 8946     		mov	r9, r1
 654 000a 1646     		mov	r6, r2
 655 000c 9846     		mov	r8, r3
 656 000e 0C9F     		ldr	r7, [sp, #48]
 831:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 832:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if_opt_src(p, src, dest, ttl, tos, proto, netif, NULL, 0);
 833:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 834:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 835:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 836:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Same as ip_output_if_opt() but 'src' address is not replaced by netif address
 837:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * when it is 'any'.
 838:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 839:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 840:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output_if_opt_src(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 841:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                       u8_t ttl, u8_t tos, u8_t proto, struct netif *netif, void *ip_options,
 842:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                       u16_t optlen)
 843:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
ARM GAS  /tmp/cc25vxQb.s 			page 29


 844:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 845:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct ip_hdr *iphdr;
 846:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_t dest_addr;
 847:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 848:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   u32_t chk_sum = 0;
 849:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 850:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 851:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_ASSERT_CORE_LOCKED();
 852:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_IP_CHECK_PBUF_REF_COUNT_FOR_TX(p);
 657              		.loc 1 852 0
 658 0010 837B     		ldrb	r3, [r0, #14]	@ zero_extendqisi2
 659              	.LVL61:
 660 0012 012B     		cmp	r3, #1
 661 0014 06D0     		beq	.L82
 662              		.loc 1 852 0 is_stmt 0 discriminator 1
 663 0016 344B     		ldr	r3, .L96
 664 0018 4FF45572 		mov	r2, #852
 665              	.LVL62:
 666 001c 3349     		ldr	r1, .L96+4
 667              	.LVL63:
 668 001e 3448     		ldr	r0, .L96+8
 669              	.LVL64:
 670 0020 FFF7FEFF 		bl	printf
 671              	.LVL65:
 672              	.L82:
 853:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 854:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   MIB2_STATS_INC(mib2.ipoutrequests);
 855:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 856:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Should the IP header be generated or is it already included in p? */
 857:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (dest != LWIP_IP_HDRINCL) {
 673              		.loc 1 857 0 is_stmt 1
 674 0024 002E     		cmp	r6, #0
 675 0026 4AD0     		beq	.L83
 676              	.LVL66:
 677              	.LBB4:
 858:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     u16_t ip_hlen = IP_HLEN;
 859:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     u16_t optlen_aligned = 0;
 861:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (optlen != 0) {
 862:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 863:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       int i;
 864:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 865:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (optlen > (IP_HLEN_MAX - IP_HLEN)) {
 866:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* optlen too long */
 867:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("ip4_output_if_opt: optlen too long\n"));
 868:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         IP_STATS_INC(ip.err);
 869:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         MIB2_STATS_INC(mib2.ipoutdiscards);
 870:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return ERR_VAL;
 871:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 872:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* round up to a multiple of 4 */
 873:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       optlen_aligned = (u16_t)((optlen + 3) & ~3);
 874:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip_hlen = (u16_t)(ip_hlen + optlen_aligned);
 875:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* First write in the IP options */
 876:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (pbuf_add_header(p, optlen_aligned)) {
 877:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("ip4_output_if_opt: not enough room for IP 
 878:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         IP_STATS_INC(ip.err);
 879:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         MIB2_STATS_INC(mib2.ipoutdiscards);
ARM GAS  /tmp/cc25vxQb.s 			page 30


 880:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return ERR_BUF;
 881:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 882:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MEMCPY(p->payload, ip_options, optlen);
 883:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (optlen < optlen_aligned) {
 884:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* zero the remaining bytes */
 885:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         memset(((char *)p->payload) + optlen, 0, (size_t)(optlen_aligned - optlen));
 886:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 887:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 888:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       for (i = 0; i < optlen_aligned / 2; i++) {
 889:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         chk_sum += ((u16_t *)p->payload)[i];
 890:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 891:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 892:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 893:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 894:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* generate IP header */
 895:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (pbuf_add_header(p, IP_HLEN)) {
 678              		.loc 1 895 0
 679 0028 1421     		movs	r1, #20
 680 002a 2846     		mov	r0, r5
 681 002c FFF7FEFF 		bl	pbuf_add_header
 682              	.LVL67:
 683 0030 0028     		cmp	r0, #0
 684 0032 53D1     		bne	.L90
 896:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("ip4_output: not enough room for IP header in
 897:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 898:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.err);
 899:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipoutdiscards);
 900:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_BUF;
 901:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 902:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 903:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     iphdr = (struct ip_hdr *)p->payload;
 685              		.loc 1 903 0
 686 0034 6C68     		ldr	r4, [r5, #4]
 687              	.LVL68:
 904:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_ASSERT("check that first pbuf can hold struct ip_hdr",
 688              		.loc 1 904 0
 689 0036 6B89     		ldrh	r3, [r5, #10]
 690 0038 132B     		cmp	r3, #19
 691 003a 34D9     		bls	.L93
 692              	.L85:
 905:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                 (p->len >= sizeof(struct ip_hdr)));
 906:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 907:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_TTL_SET(iphdr, ttl);
 693              		.loc 1 907 0
 694 003c 84F80880 		strb	r8, [r4, #8]
 908:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_PROTO_SET(iphdr, proto);
 695              		.loc 1 908 0
 696 0040 9DF82C30 		ldrb	r3, [sp, #44]	@ zero_extendqisi2
 697 0044 6372     		strb	r3, [r4, #9]
 909:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 910:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += PP_NTOHS(proto | (ttl << 8));
 911:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 912:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 913:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* dest cannot be NULL here */
 914:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr_copy(iphdr->dest, *dest);
 698              		.loc 1 914 0
 699 0046 3368     		ldr	r3, [r6]
ARM GAS  /tmp/cc25vxQb.s 			page 31


 700 0048 2361     		str	r3, [r4, #16]	@ unaligned
 915:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 916:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += ip4_addr_get_u32(&iphdr->dest) & 0xFFFF;
 917:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += ip4_addr_get_u32(&iphdr->dest) >> 16;
 918:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 919:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 920:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_VHL_SET(iphdr, 4, ip_hlen / 4);
 701              		.loc 1 920 0
 702 004a 4523     		movs	r3, #69
 703 004c 2370     		strb	r3, [r4]
 921:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_TOS_SET(iphdr, tos);
 704              		.loc 1 921 0
 705 004e 9DF82830 		ldrb	r3, [sp, #40]	@ zero_extendqisi2
 706 0052 6370     		strb	r3, [r4, #1]
 922:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 923:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += PP_NTOHS(tos | (iphdr->_v_hl << 8));
 924:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 925:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_LEN_SET(iphdr, lwip_htons(p->tot_len));
 707              		.loc 1 925 0
 708 0054 2889     		ldrh	r0, [r5, #8]
 709 0056 FFF7FEFF 		bl	lwip_htons
 710              	.LVL69:
 711 005a 6080     		strh	r0, [r4, #2]	@ unaligned
 926:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 927:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += iphdr->_len;
 928:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 929:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_OFFSET_SET(iphdr, 0);
 712              		.loc 1 929 0
 713 005c 0023     		movs	r3, #0
 714 005e A371     		strb	r3, [r4, #6]
 715 0060 E371     		strb	r3, [r4, #7]
 930:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_ID_SET(iphdr, lwip_htons(ip_id));
 716              		.loc 1 930 0
 717 0062 DFF89880 		ldr	r8, .L96+20
 718 0066 B8F80000 		ldrh	r0, [r8]
 719 006a FFF7FEFF 		bl	lwip_htons
 720              	.LVL70:
 721 006e A080     		strh	r0, [r4, #4]	@ unaligned
 931:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 932:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += iphdr->_id;
 933:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 934:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ++ip_id;
 722              		.loc 1 934 0
 723 0070 B8F80030 		ldrh	r3, [r8]
 724 0074 0133     		adds	r3, r3, #1
 725 0076 A8F80030 		strh	r3, [r8]	@ movhi
 935:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 936:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (src == NULL) {
 726              		.loc 1 936 0
 727 007a B9F1000F 		cmp	r9, #0
 728 007e 1AD0     		beq	.L94
 937:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_copy(iphdr->src, *IP4_ADDR_ANY4);
 938:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 939:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* src cannot be NULL here */
 940:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_copy(iphdr->src, *src);
 729              		.loc 1 940 0
 730 0080 D9F80030 		ldr	r3, [r9]
ARM GAS  /tmp/cc25vxQb.s 			page 32


 731 0084 E360     		str	r3, [r4, #12]	@ unaligned
 732              	.L87:
 941:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 942:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 943:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 944:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += ip4_addr_get_u32(&iphdr->src) & 0xFFFF;
 945:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += ip4_addr_get_u32(&iphdr->src) >> 16;
 946:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum = (chk_sum >> 16) + (chk_sum & 0xFFFF);
 947:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum = (chk_sum >> 16) + chk_sum;
 948:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum = ~chk_sum;
 949:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_IP) {
 950:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       iphdr->_chksum = (u16_t)chk_sum; /* network order */
 951:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 952:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_CHECKSUM_CTRL_PER_NETIF
 953:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     else {
 954:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IPH_CHKSUM_SET(iphdr, 0);
 955:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 956:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_CHECKSUM_CTRL_PER_NETIF*/
 957:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* CHECKSUM_GEN_IP_INLINE */
 958:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_CHKSUM_SET(iphdr, 0);
 733              		.loc 1 958 0
 734 0086 0023     		movs	r3, #0
 735 0088 A372     		strb	r3, [r4, #10]
 736 008a E372     		strb	r3, [r4, #11]
 737              	.LVL71:
 738              	.L88:
 739              	.LBE4:
 959:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP
 960:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_IP) {
 961:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IPH_CHKSUM_SET(iphdr, inet_chksum(iphdr, ip_hlen));
 962:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 963:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP */
 964:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 965:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   } else {
 966:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* IP header already included in p */
 967:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (p->len < IP_HLEN) {
 968:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("ip4_output: LWIP_IP_HDRINCL but pbuf is too 
 969:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.err);
 970:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipoutdiscards);
 971:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_BUF;
 972:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 973:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     iphdr = (struct ip_hdr *)p->payload;
 974:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr_copy(dest_addr, iphdr->dest);
 975:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     dest = &dest_addr;
 976:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 977:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 978:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IP_STATS_INC(ip.xmit);
 979:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 980:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_output_if: %c%c%"U16_F"\n", netif->name[0], netif->name[1], (u16_t)ne
 981:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_debug_print(p);
 982:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 983:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if ENABLE_LOOPBACK
 984:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_cmp(dest, netif_ip4_addr(netif))
 985:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_HAVE_LOOPIF
 986:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       || ip4_addr_isloopback(dest)
 987:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* !LWIP_HAVE_LOOPIF */
 988:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****      ) {
ARM GAS  /tmp/cc25vxQb.s 			page 33


 989:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* Packet to self, enqueue it for loopback */
 990:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("netif_loop_output()"));
 991:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return netif_loop_output(netif, p);
 992:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 993:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_MULTICAST_TX_OPTIONS
 994:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((p->flags & PBUF_FLAG_MCASTLOOP) != 0) {
 995:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     netif_loop_output(netif, p);
 996:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 997:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
 998:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* ENABLE_LOOPBACK */
 999:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FRAG
1000:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* don't fragment if interface has mtu set to 0 [loopif] */
1001:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif->mtu && (p->tot_len > netif->mtu)) {
 740              		.loc 1 1001 0
 741 008c 3B8D     		ldrh	r3, [r7, #40]
 742 008e 13B1     		cbz	r3, .L89
 743              		.loc 1 1001 0 is_stmt 0 discriminator 1
 744 0090 2A89     		ldrh	r2, [r5, #8]
 745 0092 9342     		cmp	r3, r2
 746 0094 1CD3     		bcc	.L95
 747              	.L89:
1002:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ip4_frag(p, netif, dest);
1003:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
1004:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FRAG */
1005:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
1006:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_output_if: call netif->output()\n"));
1007:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return netif->output(netif, p, dest);
 748              		.loc 1 1007 0 is_stmt 1
 749 0096 7B69     		ldr	r3, [r7, #20]
 750 0098 3246     		mov	r2, r6
 751 009a 2946     		mov	r1, r5
 752 009c 3846     		mov	r0, r7
 753 009e 9847     		blx	r3
 754              	.LVL72:
 755              	.L84:
1008:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 756              		.loc 1 1008 0
 757 00a0 03B0     		add	sp, sp, #12
 758              	.LCFI10:
 759              		.cfi_remember_state
 760              		.cfi_def_cfa_offset 28
 761              		@ sp needed
 762 00a2 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 763              	.LVL73:
 764              	.L93:
 765              	.LCFI11:
 766              		.cfi_restore_state
 767              	.LBB5:
 904:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                 (p->len >= sizeof(struct ip_hdr)));
 768              		.loc 1 904 0 discriminator 1
 769 00a6 104B     		ldr	r3, .L96
 770 00a8 40F28932 		movw	r2, #905
 771 00ac 1149     		ldr	r1, .L96+12
 772 00ae 1048     		ldr	r0, .L96+8
 773 00b0 FFF7FEFF 		bl	printf
 774              	.LVL74:
 775 00b4 C2E7     		b	.L85
ARM GAS  /tmp/cc25vxQb.s 			page 34


 776              	.L94:
 937:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 777              		.loc 1 937 0
 778 00b6 104B     		ldr	r3, .L96+16
 779 00b8 1B68     		ldr	r3, [r3]
 780 00ba E360     		str	r3, [r4, #12]	@ unaligned
 781 00bc E3E7     		b	.L87
 782              	.LVL75:
 783              	.L83:
 784              	.LBE5:
 967:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("ip4_output: LWIP_IP_HDRINCL but pbuf is too 
 785              		.loc 1 967 0
 786 00be 6B89     		ldrh	r3, [r5, #10]
 787 00c0 132B     		cmp	r3, #19
 788 00c2 0ED9     		bls	.L91
 973:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr_copy(dest_addr, iphdr->dest);
 789              		.loc 1 973 0
 790 00c4 6B68     		ldr	r3, [r5, #4]
 791              	.LVL76:
 974:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     dest = &dest_addr;
 792              		.loc 1 974 0
 793 00c6 1B69     		ldr	r3, [r3, #16]	@ unaligned
 794              	.LVL77:
 795 00c8 02AE     		add	r6, sp, #8
 796              	.LVL78:
 797 00ca 46F8043D 		str	r3, [r6, #-4]!
 798              	.LVL79:
 799 00ce DDE7     		b	.L88
 800              	.LVL80:
 801              	.L95:
1002:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 802              		.loc 1 1002 0
 803 00d0 3246     		mov	r2, r6
 804 00d2 3946     		mov	r1, r7
 805 00d4 2846     		mov	r0, r5
 806 00d6 FFF7FEFF 		bl	ip4_frag
 807              	.LVL81:
 808 00da E1E7     		b	.L84
 809              	.LVL82:
 810              	.L90:
 811              	.LBB6:
 900:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 812              		.loc 1 900 0
 813 00dc 6FF00100 		mvn	r0, #1
 814 00e0 DEE7     		b	.L84
 815              	.LVL83:
 816              	.L91:
 817              	.LBE6:
 971:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 818              		.loc 1 971 0
 819 00e2 6FF00100 		mvn	r0, #1
 820 00e6 DBE7     		b	.L84
 821              	.L97:
 822              		.align	2
 823              	.L96:
 824 00e8 00000000 		.word	.LC0
 825 00ec 34000000 		.word	.LC1
ARM GAS  /tmp/cc25vxQb.s 			page 35


 826 00f0 40000000 		.word	.LC2
 827 00f4 68000000 		.word	.LC3
 828 00f8 00000000 		.word	ip_addr_any
 829 00fc 00000000 		.word	.LANCHOR0
 830              		.cfi_endproc
 831              	.LFE162:
 833              		.section	.text.ip4_output_if,"ax",%progbits
 834              		.align	1
 835              		.global	ip4_output_if
 836              		.syntax unified
 837              		.thumb
 838              		.thumb_func
 839              		.fpu fpv5-d16
 841              	ip4_output_if:
 842              	.LFB161:
 790:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 843              		.loc 1 790 0
 844              		.cfi_startproc
 845              		@ args = 12, pretend = 0, frame = 0
 846              		@ frame_needed = 0, uses_anonymous_args = 0
 847              	.LVL84:
 848 0000 30B5     		push	{r4, r5, lr}
 849              	.LCFI12:
 850              		.cfi_def_cfa_offset 12
 851              		.cfi_offset 4, -12
 852              		.cfi_offset 5, -8
 853              		.cfi_offset 14, -4
 854 0002 85B0     		sub	sp, sp, #20
 855              	.LCFI13:
 856              		.cfi_def_cfa_offset 32
 857 0004 0A9C     		ldr	r4, [sp, #40]
 858              	.LVL85:
 808:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (ip4_addr_isany(src)) {
 859              		.loc 1 808 0
 860 0006 1546     		mov	r5, r2
 861 0008 1AB1     		cbz	r2, .L99
 809:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       src_used = netif_ip4_addr(netif);
 862              		.loc 1 809 0
 863 000a 09B1     		cbz	r1, .L100
 809:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       src_used = netif_ip4_addr(netif);
 864              		.loc 1 809 0 is_stmt 0 discriminator 1
 865 000c 0A68     		ldr	r2, [r1]
 866              	.LVL86:
 867 000e 02B9     		cbnz	r2, .L99
 868              	.L100:
 810:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 869              		.loc 1 810 0 is_stmt 1
 870 0010 211D     		adds	r1, r4, #4
 871              	.LVL87:
 872              	.L99:
 818:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 873              		.loc 1 818 0
 874 0012 0294     		str	r4, [sp, #8]
 875 0014 9DF82420 		ldrb	r2, [sp, #36]	@ zero_extendqisi2
 876 0018 0192     		str	r2, [sp, #4]
 877 001a 9DF82020 		ldrb	r2, [sp, #32]	@ zero_extendqisi2
 878 001e 0092     		str	r2, [sp]
ARM GAS  /tmp/cc25vxQb.s 			page 36


 879 0020 2A46     		mov	r2, r5
 880 0022 FFF7FEFF 		bl	ip4_output_if_src
 881              	.LVL88:
 820:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 882              		.loc 1 820 0
 883 0026 05B0     		add	sp, sp, #20
 884              	.LCFI14:
 885              		.cfi_def_cfa_offset 12
 886              		@ sp needed
 887 0028 30BD     		pop	{r4, r5, pc}
 888              		.cfi_endproc
 889              	.LFE161:
 891              		.section	.text.ip4_output,"ax",%progbits
 892              		.align	1
 893              		.global	ip4_output
 894              		.syntax unified
 895              		.thumb
 896              		.thumb_func
 897              		.fpu fpv5-d16
 899              	ip4_output:
 900              	.LFB163:
1009:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
1010:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
1011:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Simple interface to ip_output_if. It finds the outgoing network
1012:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * interface and calls upon ip_output_if to do the actual work.
1013:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
1014:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the packet to send (p->payload points to the data, e.g. next
1015:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             protocol header; if dest == LWIP_IP_HDRINCL, p already includes an
1016:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             IP header and p->payload points to that IP header)
1017:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param src the source IP address to send from (if src == IP4_ADDR_ANY, the
1018:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         IP  address of the netif used to send is used as source address)
1019:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param dest the destination IP address to send the packet to
1020:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param ttl the TTL value to be set in the IP header
1021:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param tos the TOS value to be set in the IP header
1022:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param proto the PROTOCOL to be set in the IP header
1023:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
1024:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return ERR_RTE if no route is found
1025:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         see ip_output_if() for more return values
1026:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
1027:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
1028:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
1029:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****            u8_t ttl, u8_t tos, u8_t proto)
1030:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 901              		.loc 1 1030 0
 902              		.cfi_startproc
 903              		@ args = 8, pretend = 0, frame = 0
 904              		@ frame_needed = 0, uses_anonymous_args = 0
 905              	.LVL89:
 906 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 907              	.LCFI15:
 908              		.cfi_def_cfa_offset 20
 909              		.cfi_offset 4, -20
 910              		.cfi_offset 5, -16
 911              		.cfi_offset 6, -12
 912              		.cfi_offset 7, -8
 913              		.cfi_offset 14, -4
 914 0002 85B0     		sub	sp, sp, #20
ARM GAS  /tmp/cc25vxQb.s 			page 37


 915              	.LCFI16:
 916              		.cfi_def_cfa_offset 40
 917 0004 0446     		mov	r4, r0
 918 0006 0E46     		mov	r6, r1
 919 0008 1546     		mov	r5, r2
 920 000a 1F46     		mov	r7, r3
1031:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
1032:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
1033:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_IP_CHECK_PBUF_REF_COUNT_FOR_TX(p);
 921              		.loc 1 1033 0
 922 000c 837B     		ldrb	r3, [r0, #14]	@ zero_extendqisi2
 923              	.LVL90:
 924 000e 012B     		cmp	r3, #1
 925 0010 06D0     		beq	.L103
 926              		.loc 1 1033 0 is_stmt 0 discriminator 1
 927 0012 0E4B     		ldr	r3, .L107
 928 0014 40F20942 		movw	r2, #1033
 929              	.LVL91:
 930 0018 0D49     		ldr	r1, .L107+4
 931              	.LVL92:
 932 001a 0E48     		ldr	r0, .L107+8
 933              	.LVL93:
 934 001c FFF7FEFF 		bl	printf
 935              	.LVL94:
 936              	.L103:
1034:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
1035:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((netif = ip4_route_src(src, dest)) == NULL) {
 937              		.loc 1 1035 0 is_stmt 1
 938 0020 2846     		mov	r0, r5
 939 0022 FFF7FEFF 		bl	ip4_route
 940              	.LVL95:
 941 0026 70B1     		cbz	r0, .L105
1036:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("ip4_output: No route to %"U16_F".%"U16_F".%"U16_F".%"U16_F"\n",
1037:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                            ip4_addr1_16(dest), ip4_addr2_16(dest), ip4_addr3_16(dest), ip4_addr4_16
1038:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.rterr);
1039:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_RTE;
1040:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
1041:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
1042:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if(p, src, dest, ttl, tos, proto, netif);
 942              		.loc 1 1042 0
 943 0028 0290     		str	r0, [sp, #8]
 944 002a 9DF82C30 		ldrb	r3, [sp, #44]	@ zero_extendqisi2
 945 002e 0193     		str	r3, [sp, #4]
 946 0030 9DF82830 		ldrb	r3, [sp, #40]	@ zero_extendqisi2
 947 0034 0093     		str	r3, [sp]
 948 0036 3B46     		mov	r3, r7
 949 0038 2A46     		mov	r2, r5
 950 003a 3146     		mov	r1, r6
 951 003c 2046     		mov	r0, r4
 952              	.LVL96:
 953 003e FFF7FEFF 		bl	ip4_output_if
 954              	.LVL97:
 955              	.L104:
1043:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 956              		.loc 1 1043 0
 957 0042 05B0     		add	sp, sp, #20
 958              	.LCFI17:
ARM GAS  /tmp/cc25vxQb.s 			page 38


 959              		.cfi_remember_state
 960              		.cfi_def_cfa_offset 20
 961              		@ sp needed
 962 0044 F0BD     		pop	{r4, r5, r6, r7, pc}
 963              	.LVL98:
 964              	.L105:
 965              	.LCFI18:
 966              		.cfi_restore_state
1039:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 967              		.loc 1 1039 0
 968 0046 6FF00300 		mvn	r0, #3
 969              	.LVL99:
 970 004a FAE7     		b	.L104
 971              	.L108:
 972              		.align	2
 973              	.L107:
 974 004c 00000000 		.word	.LC0
 975 0050 34000000 		.word	.LC1
 976 0054 40000000 		.word	.LC2
 977              		.cfi_endproc
 978              	.LFE163:
 980              		.section	.bss.ip_id,"aw",%nobits
 981              		.align	1
 982              		.set	.LANCHOR0,. + 0
 985              	ip_id:
 986 0000 0000     		.space	2
 987              		.section	.rodata.ip4_output_if_src.str1.4,"aMS",%progbits,1
 988              		.align	2
 989              	.LC0:
 990 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c\000"
 990      6C657761 
 990      7265732F 
 990      54686972 
 990      645F5061 
 991 0031 000000   		.space	3
 992              	.LC1:
 993 0034 702D3E72 		.ascii	"p->ref == 1\000"
 993      6566203D 
 993      3D203100 
 994              	.LC2:
 995 0040 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 995      7274696F 
 995      6E202225 
 995      73222066 
 995      61696C65 
 996              	.LC3:
 997 0068 63686563 		.ascii	"check that first pbuf can hold struct ip_hdr\000"
 997      6B207468 
 997      61742066 
 997      69727374 
 997      20706275 
 998              		.text
 999              	.Letext0:
 1000              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 1001              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 1002              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 1003              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
ARM GAS  /tmp/cc25vxQb.s 			page 39


 1004              		.file 6 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal.h"
 1005              		.file 7 "/usr/include/newlib/sys/lock.h"
 1006              		.file 8 "/usr/include/newlib/sys/_types.h"
 1007              		.file 9 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 1008              		.file 10 "/usr/include/newlib/sys/reent.h"
 1009              		.file 11 "/usr/include/newlib/stdlib.h"
 1010              		.file 12 "/usr/include/newlib/time.h"
 1011              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 1012              		.file 14 "/usr/include/newlib/ctype.h"
 1013              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 1014              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 1015              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 1016              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 1017              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 1018              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 1019              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 1020              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 1021              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 1022              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/icmp.h"
 1023              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/udp.h"
 1024              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/udp.h"
 1025              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpbase.h"
 1026              		.file 28 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 1027              		.file 29 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
 1028              		.file 30 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/tcp.h"
 1029              		.file 31 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/iana.h"
 1030              		.file 32 "/usr/include/newlib/stdio.h"
 1031              		.file 33 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 1032              		.file 34 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_frag.h"
ARM GAS  /tmp/cc25vxQb.s 			page 40


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ip4.c
     /tmp/cc25vxQb.s:17     .text.ip4_input_accept:0000000000000000 $t
     /tmp/cc25vxQb.s:23     .text.ip4_input_accept:0000000000000000 ip4_input_accept
     /tmp/cc25vxQb.s:82     .text.ip4_input_accept:0000000000000034 $d
     /tmp/cc25vxQb.s:87     .text.ip4_route:0000000000000000 $t
     /tmp/cc25vxQb.s:94     .text.ip4_route:0000000000000000 ip4_route
     /tmp/cc25vxQb.s:254    .text.ip4_route:00000000000000b0 $d
     /tmp/cc25vxQb.s:260    .text.ip4_input:0000000000000000 $t
     /tmp/cc25vxQb.s:267    .text.ip4_input:0000000000000000 ip4_input
     /tmp/cc25vxQb.s:619    .text.ip4_input:00000000000001ac $d
     /tmp/cc25vxQb.s:625    .text.ip4_output_if_src:0000000000000000 $t
     /tmp/cc25vxQb.s:632    .text.ip4_output_if_src:0000000000000000 ip4_output_if_src
     /tmp/cc25vxQb.s:824    .text.ip4_output_if_src:00000000000000e8 $d
     /tmp/cc25vxQb.s:834    .text.ip4_output_if:0000000000000000 $t
     /tmp/cc25vxQb.s:841    .text.ip4_output_if:0000000000000000 ip4_output_if
     /tmp/cc25vxQb.s:892    .text.ip4_output:0000000000000000 $t
     /tmp/cc25vxQb.s:899    .text.ip4_output:0000000000000000 ip4_output
     /tmp/cc25vxQb.s:974    .text.ip4_output:000000000000004c $d
     /tmp/cc25vxQb.s:981    .bss.ip_id:0000000000000000 $d
     /tmp/cc25vxQb.s:985    .bss.ip_id:0000000000000000 ip_id
     /tmp/cc25vxQb.s:988    .rodata.ip4_output_if_src.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
ip4_addr_isbroadcast_u32
ip_data
netif_list
netif_default
pbuf_free
lwip_htons
pbuf_realloc
ip4_reass
pbuf_remove_header
pbuf_header_force
icmp_dest_unreach
udp_input
tcp_input
icmp_input
printf
pbuf_add_header
ip4_frag
ip_addr_any

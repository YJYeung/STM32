ARM GAS  /tmp/ccX62RBj.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"tcp.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.tcp_new_port,"ax",%progbits
  17              		.align	1
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu fpv5-d16
  23              	tcp_new_port:
  24              	.LFB177:
  25              		.file 1 "Middlewares/Third_Party/LwIP/src/core/tcp.c"
   1:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Transmission Control Protocol for IP
   4:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * See also @ref tcp_raw
   5:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
   6:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @defgroup tcp_raw TCP
   7:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup callbackstyle_api
   8:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Transmission Control Protocol for IP\n
   9:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @see @ref api
  10:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  11:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Common functions for the TCP implementation, such as functions
  12:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * for manipulating the data structures and the TCP timer functions. TCP functions
  13:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * related to input and output is found in tcp_in.c and tcp_out.c respectively.\n
  14:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
  15:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * TCP connection setup
  16:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * --------------------
  17:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The functions used for setting up connections is similar to that of
  18:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the sequential API and of the BSD socket API. A new TCP connection
  19:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * identifier (i.e., a protocol control block - PCB) is created with the
  20:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * tcp_new() function. This PCB can then be either set to listen for new
  21:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * incoming connections or be explicitly connected to another host.
  22:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_new()
  23:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_bind()
  24:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_listen() and tcp_listen_with_backlog()
  25:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_accept()
  26:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_connect()
  27:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
  28:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Sending TCP data
  29:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * ----------------
  30:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * TCP data is sent by enqueueing the data with a call to tcp_write() and
  31:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * triggering to send by calling tcp_output(). When the data is successfully
  32:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * transmitted to the remote host, the application will be notified with a
  33:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * call to a specified callback function.
ARM GAS  /tmp/ccX62RBj.s 			page 2


  34:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_write()
  35:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_output()
  36:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_sent()
  37:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
  38:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Receiving TCP data
  39:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * ------------------
  40:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * TCP data reception is callback based - an application specified
  41:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * callback function is called when new data arrives. When the
  42:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * application has taken the data, it has to call the tcp_recved()
  43:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * function to indicate that TCP can advertise increase the receive
  44:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * window.
  45:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_recv()
  46:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_recved()
  47:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
  48:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Application polling
  49:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * -------------------
  50:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * When a connection is idle (i.e., no data is either transmitted or
  51:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * received), lwIP will repeatedly poll the application by calling a
  52:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * specified callback function. This can be used either as a watchdog
  53:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * timer for killing connections that have stayed idle for too long, or
  54:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * as a method of waiting for memory to become available. For instance,
  55:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * if a call to tcp_write() has failed because memory wasn't available,
  56:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the application may use the polling functionality to call tcp_write()
  57:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * again when the connection has been idle for a while.
  58:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_poll()
  59:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  60:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Closing and aborting connections
  61:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * --------------------------------
  62:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_close()
  63:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_abort()
  64:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_err()
  65:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
  66:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
  67:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
  68:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /*
  69:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  70:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * All rights reserved.
  71:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  72:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Redistribution and use in source and binary forms, with or without modification,
  73:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * are permitted provided that the following conditions are met:
  74:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  75:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  76:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *    this list of conditions and the following disclaimer.
  77:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  78:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *    this list of conditions and the following disclaimer in the documentation
  79:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *    and/or other materials provided with the distribution.
  80:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 3. The name of the author may not be used to endorse or promote products
  81:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *    derived from this software without specific prior written permission.
  82:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  83:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  84:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  85:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  86:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  87:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  88:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  89:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  90:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
ARM GAS  /tmp/ccX62RBj.s 			page 3


  91:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  92:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * OF SUCH DAMAGE.
  93:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  94:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * This file is part of the lwIP TCP/IP stack.
  95:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  96:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Author: Adam Dunkels <adam@sics.se>
  97:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  98:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
  99:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 100:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/opt.h"
 101:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 102:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP /* don't build if not configured for use in lwipopts.h */
 103:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 104:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/def.h"
 105:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/mem.h"
 106:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/memp.h"
 107:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/tcp.h"
 108:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/priv/tcp_priv.h"
 109:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/debug.h"
 110:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/stats.h"
 111:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/ip6.h"
 112:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/ip6_addr.h"
 113:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/nd6.h"
 114:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 115:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include <string.h>
 116:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 117:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #ifdef LWIP_HOOK_FILENAME
 118:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include LWIP_HOOK_FILENAME
 119:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 120:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 121:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #ifndef TCP_LOCAL_PORT_RANGE_START
 122:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* From http://www.iana.org/assignments/port-numbers:
 123:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    "The Dynamic and/or Private Ports are those from 49152 through 65535" */
 124:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_LOCAL_PORT_RANGE_START        0xc000
 125:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_LOCAL_PORT_RANGE_END          0xffff
 126:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_ENSURE_LOCAL_PORT_RANGE(port) ((u16_t)(((port) & (u16_t)~TCP_LOCAL_PORT_RANGE_START) + 
 127:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 128:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 129:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_KEEPALIVE
 130:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_KEEP_DUR(pcb)   ((pcb)->keep_cnt * (pcb)->keep_intvl)
 131:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_KEEP_INTVL(pcb) ((pcb)->keep_intvl)
 132:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* LWIP_TCP_KEEPALIVE */
 133:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_KEEP_DUR(pcb)   TCP_MAXIDLE
 134:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_KEEP_INTVL(pcb) TCP_KEEPINTVL_DEFAULT
 135:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_TCP_KEEPALIVE */
 136:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 137:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* As initial send MSS, we use TCP_MSS but limit it to 536. */
 138:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_MSS > 536
 139:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define INITIAL_MSS 536
 140:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else
 141:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define INITIAL_MSS TCP_MSS
 142:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 143:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 144:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static const char *const tcp_state_str[] = {
 145:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "CLOSED",
 146:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "LISTEN",
 147:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "SYN_SENT",
ARM GAS  /tmp/ccX62RBj.s 			page 4


 148:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "SYN_RCVD",
 149:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "ESTABLISHED",
 150:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "FIN_WAIT_1",
 151:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "FIN_WAIT_2",
 152:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "CLOSE_WAIT",
 153:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "CLOSING",
 154:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "LAST_ACK",
 155:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "TIME_WAIT"
 156:Middlewares/Third_Party/LwIP/src/core/tcp.c **** };
 157:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 158:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* last local TCP port */
 159:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static u16_t tcp_port = TCP_LOCAL_PORT_RANGE_START;
 160:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 161:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* Incremented every coarse grained timer shot (typically every 500 ms). */
 162:Middlewares/Third_Party/LwIP/src/core/tcp.c **** u32_t tcp_ticks;
 163:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static const u8_t tcp_backoff[13] =
 164:Middlewares/Third_Party/LwIP/src/core/tcp.c **** { 1, 2, 3, 4, 5, 6, 7, 7, 7, 7, 7, 7, 7};
 165:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* Times per slowtmr hits */
 166:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static const u8_t tcp_persist_backoff[7] = { 3, 6, 12, 24, 48, 96, 120 };
 167:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 168:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* The TCP PCB lists. */
 169:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 170:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** List of all TCP PCBs bound but not yet (connected || listening) */
 171:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *tcp_bound_pcbs;
 172:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** List of all TCP PCBs in LISTEN state */
 173:Middlewares/Third_Party/LwIP/src/core/tcp.c **** union tcp_listen_pcbs_t tcp_listen_pcbs;
 174:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** List of all TCP PCBs that are in a state in which
 175:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * they accept or send data. */
 176:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *tcp_active_pcbs;
 177:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** List of all TCP PCBs in TIME-WAIT state */
 178:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *tcp_tw_pcbs;
 179:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 180:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** An array with all (non-temporary) PCB lists, mainly used for smaller code size */
 181:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb **const tcp_pcb_lists[] = {&tcp_listen_pcbs.pcbs, &tcp_bound_pcbs,
 182:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          &tcp_active_pcbs, &tcp_tw_pcbs
 183:Middlewares/Third_Party/LwIP/src/core/tcp.c **** };
 184:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 185:Middlewares/Third_Party/LwIP/src/core/tcp.c **** u8_t tcp_active_pcbs_changed;
 186:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 187:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Timer counter to handle calling slow-timer from tcp_tmr() */
 188:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static u8_t tcp_timer;
 189:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static u8_t tcp_timer_ctr;
 190:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static u16_t tcp_new_port(void);
 191:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 192:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static err_t tcp_close_shutdown_fin(struct tcp_pcb *pcb);
 193:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_PCB_NUM_EXT_ARGS
 194:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void tcp_ext_arg_invoke_callbacks_destroyed(struct tcp_pcb_ext_args *ext_args);
 195:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 196:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 197:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 198:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Initialize this module.
 199:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 200:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 201:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_init(void)
 202:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 203:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #ifdef LWIP_RAND
 204:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_port = TCP_ENSURE_LOCAL_PORT_RANGE(LWIP_RAND());
ARM GAS  /tmp/ccX62RBj.s 			page 5


 205:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_RAND */
 206:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 207:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 208:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Free a tcp pcb */
 209:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 210:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_free(struct tcp_pcb *pcb)
 211:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 212:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_free: LISTEN", pcb->state != LISTEN);
 213:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_PCB_NUM_EXT_ARGS
 214:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_ext_arg_invoke_callbacks_destroyed(pcb->ext_args);
 215:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 216:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   memp_free(MEMP_TCP_PCB, pcb);
 217:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 218:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 219:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Free a tcp listen pcb */
 220:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
 221:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_free_listen(struct tcp_pcb *pcb)
 222:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 223:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_free_listen: !LISTEN", pcb->state != LISTEN);
 224:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_PCB_NUM_EXT_ARGS
 225:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_ext_arg_invoke_callbacks_destroyed(pcb->ext_args);
 226:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 227:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   memp_free(MEMP_TCP_PCB_LISTEN, pcb);
 228:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 229:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 230:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 231:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Called periodically to dispatch TCP timers.
 232:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 233:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 234:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_tmr(void)
 235:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 236:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Call tcp_fasttmr() every 250 ms */
 237:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_fasttmr();
 238:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 239:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (++tcp_timer & 1) {
 240:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Call tcp_slowtmr() every 500 ms, i.e., every other timer
 241:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        tcp_tmr() is called. */
 242:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_slowtmr();
 243:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 244:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 245:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 246:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
 247:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Called when a listen pcb is closed. Iterates one pcb list and removes the
 248:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * closed listener pcb from pcb->listener if matching.
 249:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 250:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
 251:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_remove_listener(struct tcp_pcb *list, struct tcp_pcb_listen *lpcb)
 252:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 253:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
 254:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 255:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_remove_listener: invalid listener", lpcb != NULL);
 256:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 257:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (pcb = list; pcb != NULL; pcb = pcb->next) {
 258:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->listener == lpcb) {
 259:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->listener = NULL;
 260:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 261:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
ARM GAS  /tmp/ccX62RBj.s 			page 6


 262:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 263:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 264:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 265:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Called when a listen pcb is closed. Iterates all pcb lists and removes the
 266:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * closed listener pcb from pcb->listener if matching.
 267:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 268:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
 269:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_listen_closed(struct tcp_pcb *pcb)
 270:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 271:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
 272:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   size_t i;
 273:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("pcb != NULL", pcb != NULL);
 274:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("pcb->state == LISTEN", pcb->state == LISTEN);
 275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (i = 1; i < LWIP_ARRAYSIZE(tcp_pcb_lists); i++) {
 276:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_remove_listener(*tcp_pcb_lists[i], (struct tcp_pcb_listen *)pcb);
 277:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 278:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 279:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(pcb);
 280:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 281:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 282:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_LISTEN_BACKLOG
 283:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** @ingroup tcp_raw
 284:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Delay accepting a connection in respect to the listen backlog:
 285:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the number of outstanding connections is increased until
 286:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * tcp_backlog_accepted() is called.
 287:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 288:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * ATTENTION: the caller is responsible for calling tcp_backlog_accepted()
 289:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * or else the backlog feature will get out of sync!
 290:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 291:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the connection pcb which is not fully accepted yet
 292:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 293:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 294:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_backlog_delayed(struct tcp_pcb *pcb)
 295:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 296:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("pcb != NULL", pcb != NULL);
 297:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 298:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if ((pcb->flags & TF_BACKLOGPEND) == 0) {
 299:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->listener != NULL) {
 300:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->listener->accepts_pending++;
 301:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_ASSERT("accepts_pending != 0", pcb->listener->accepts_pending != 0);
 302:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_set_flags(pcb, TF_BACKLOGPEND);
 303:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 304:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 305:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 306:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 307:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** @ingroup tcp_raw
 308:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * A delayed-accept a connection is accepted (or closed/aborted): decreases
 309:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the number of outstanding connections after calling tcp_backlog_delayed().
 310:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 311:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * ATTENTION: the caller is responsible for calling tcp_backlog_accepted()
 312:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * or else the backlog feature will get out of sync!
 313:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 314:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the connection pcb which is now fully accepted (or closed/aborted)
 315:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 316:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 317:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_backlog_accepted(struct tcp_pcb *pcb)
 318:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
ARM GAS  /tmp/ccX62RBj.s 			page 7


 319:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("pcb != NULL", pcb != NULL);
 320:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 321:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if ((pcb->flags & TF_BACKLOGPEND) != 0) {
 322:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->listener != NULL) {
 323:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_ASSERT("accepts_pending != 0", pcb->listener->accepts_pending != 0);
 324:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->listener->accepts_pending--;
 325:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_clear_flags(pcb, TF_BACKLOGPEND);
 326:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 327:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 328:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 329:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_LISTEN_BACKLOG */
 330:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 331:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 332:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Closes the TX side of a connection held by the PCB.
 333:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * For tcp_close(), a RST is sent if the application didn't receive all data
 334:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * (tcp_recved() not called for all data passed to recv callback).
 335:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 336:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Listening pcbs are freed and may not be referenced any more.
 337:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Connection pcbs are freed if not yet connected and may not be referenced
 338:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * any more. If a connection is established (at least SYN received or in
 339:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * a closing state), the connection is closed, and put in a closing state.
 340:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The pcb is then automatically freed in tcp_slowtmr(). It is therefore
 341:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * unsafe to reference it.
 342:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 343:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to close
 344:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return ERR_OK if connection has been closed
 345:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         another err_t if closing failed and pcb is not freed
 346:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 347:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static err_t
 348:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_close_shutdown(struct tcp_pcb *pcb, u8_t rst_on_unacked_data)
 349:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 350:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_close_shutdown: invalid pcb", pcb != NULL);
 351:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 352:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (rst_on_unacked_data && ((pcb->state == ESTABLISHED) || (pcb->state == CLOSE_WAIT))) {
 353:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((pcb->refused_data != NULL) || (pcb->rcv_wnd != TCP_WND_MAX(pcb))) {
 354:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Not all data received by application, send RST to tell the remote
 355:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          side about this. */
 356:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_ASSERT("pcb->flags & TF_RXCLOSED", pcb->flags & TF_RXCLOSED);
 357:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 358:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* don't call tcp_abort here: we must not deallocate the pcb since
 359:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          that might not be expected when calling tcp_close */
 360:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_rst(pcb, pcb->snd_nxt, pcb->rcv_nxt, &pcb->local_ip, &pcb->remote_ip,
 361:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->local_port, pcb->remote_port);
 362:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 363:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_pcb_purge(pcb);
 364:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_RMV_ACTIVE(pcb);
 365:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Deallocate the pcb since we already sent a RST for it */
 366:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (tcp_input_pcb == pcb) {
 367:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* prevent using a deallocated pcb: free it from tcp_input later */
 368:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_trigger_input_pcb_close();
 369:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
 370:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_free(pcb);
 371:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 372:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_OK;
 373:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 374:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 375:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
ARM GAS  /tmp/ccX62RBj.s 			page 8


 376:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* - states which free the pcb are handled here,
 377:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      - states which send FIN and change state are handled in tcp_close_shutdown_fin() */
 378:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   switch (pcb->state) {
 379:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case CLOSED:
 380:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Closing a pcb in the CLOSED state might seem erroneous,
 381:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        * however, it is in this state once allocated and as yet unused
 382:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        * and the user needs some way to free it should the need arise.
 383:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        * Calling tcp_close() with a pcb that has already been closed, (i.e. twice)
 384:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        * or for a pcb that has been used and then entered the CLOSED state
 385:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        * is erroneous, but this should never happen as the pcb has in those cases
 386:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        * been freed, and so any remaining handles are bogus. */
 387:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port != 0) {
 388:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         TCP_RMV(&tcp_bound_pcbs, pcb);
 389:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 390:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free(pcb);
 391:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       break;
 392:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case LISTEN:
 393:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_listen_closed(pcb);
 394:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_pcb_remove(&tcp_listen_pcbs.pcbs, pcb);
 395:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free_listen(pcb);
 396:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       break;
 397:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case SYN_SENT:
 398:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_PCB_REMOVE_ACTIVE(pcb);
 399:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free(pcb);
 400:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       MIB2_STATS_INC(mib2.tcpattemptfails);
 401:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       break;
 402:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     default:
 403:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return tcp_close_shutdown_fin(pcb);
 404:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 405:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_OK;
 406:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 407:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 408:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static err_t
 409:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_close_shutdown_fin(struct tcp_pcb *pcb)
 410:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 411:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err_t err;
 412:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("pcb != NULL", pcb != NULL);
 413:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 414:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   switch (pcb->state) {
 415:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case SYN_RCVD:
 416:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       err = tcp_send_fin(pcb);
 417:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (err == ERR_OK) {
 418:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_backlog_accepted(pcb);
 419:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         MIB2_STATS_INC(mib2.tcpattemptfails);
 420:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         pcb->state = FIN_WAIT_1;
 421:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 422:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       break;
 423:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case ESTABLISHED:
 424:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       err = tcp_send_fin(pcb);
 425:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (err == ERR_OK) {
 426:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         MIB2_STATS_INC(mib2.tcpestabresets);
 427:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         pcb->state = FIN_WAIT_1;
 428:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 429:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       break;
 430:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case CLOSE_WAIT:
 431:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       err = tcp_send_fin(pcb);
 432:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (err == ERR_OK) {
ARM GAS  /tmp/ccX62RBj.s 			page 9


 433:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         MIB2_STATS_INC(mib2.tcpestabresets);
 434:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         pcb->state = LAST_ACK;
 435:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 436:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       break;
 437:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     default:
 438:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Has already been closed, do nothing. */
 439:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_OK;
 440:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 441:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 442:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (err == ERR_OK) {
 443:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* To ensure all data has been sent when tcp_close returns, we have
 444:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        to make sure tcp_output doesn't fail.
 445:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        Since we don't really have to ensure all data has been sent when tcp_close
 446:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        returns (unsent data is sent from tcp timer functions, also), we don't care
 447:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        for the return value of tcp_output for now. */
 448:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_output(pcb);
 449:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else if (err == ERR_MEM) {
 450:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Mark this pcb for closing. Closing is retried from tcp_tmr. */
 451:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_set_flags(pcb, TF_CLOSEPEND);
 452:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* We have to return ERR_OK from here to indicate to the callers that this
 453:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        pcb should not be used any more as it will be freed soon via tcp_tmr.
 454:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        This is OK here since sending FIN does not guarantee a time frime for
 455:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        actually freeing the pcb, either (it is left in closure states for
 456:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        remote ACK or timeout) */
 457:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return ERR_OK;
 458:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 459:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return err;
 460:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 461:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 462:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 463:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 464:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Closes the connection held by the PCB.
 465:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 466:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Listening pcbs are freed and may not be referenced any more.
 467:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Connection pcbs are freed if not yet connected and may not be referenced
 468:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * any more. If a connection is established (at least SYN received or in
 469:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * a closing state), the connection is closed, and put in a closing state.
 470:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The pcb is then automatically freed in tcp_slowtmr(). It is therefore
 471:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * unsafe to reference it (unless an error is returned).
 472:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
 473:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The function may return ERR_MEM if no memory
 474:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * was available for closing the connection. If so, the application
 475:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * should wait and try again either by using the acknowledgment
 476:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * callback or the polling functionality. If the close succeeds, the
 477:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * function returns ERR_OK.
 478:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 479:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to close
 480:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return ERR_OK if connection has been closed
 481:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         another err_t if closing failed and pcb is not freed
 482:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 483:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
 484:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_close(struct tcp_pcb *pcb)
 485:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 486:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 487:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 488:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_close: invalid pcb", pcb != NULL, return ERR_ARG);
 489:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_close: closing in "));
ARM GAS  /tmp/ccX62RBj.s 			page 10


 490:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 491:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_debug_print_state(pcb->state);
 492:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 493:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state != LISTEN) {
 494:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Set a flag not to receive any more data... */
 495:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_set_flags(pcb, TF_RXCLOSED);
 496:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 497:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* ... and close */
 498:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return tcp_close_shutdown(pcb, 1);
 499:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 500:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 501:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 502:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 503:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Causes all or part of a full-duplex connection of this PCB to be shut down.
 504:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * This doesn't deallocate the PCB unless shutting down both sides!
 505:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Shutting down both sides is the same as calling tcp_close, so if it succeds
 506:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * (i.e. returns ER_OK), the PCB must not be referenced any more!
 507:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 508:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb PCB to shutdown
 509:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param shut_rx shut down receive side if this is != 0
 510:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param shut_tx shut down send side if this is != 0
 511:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return ERR_OK if shutdown succeeded (or the PCB has already been shut down)
 512:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         another err_t on error.
 513:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 514:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
 515:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_shutdown(struct tcp_pcb *pcb, int shut_rx, int shut_tx)
 516:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 517:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 518:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 519:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_shutdown: invalid pcb", pcb != NULL, return ERR_ARG);
 520:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 521:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state == LISTEN) {
 522:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return ERR_CONN;
 523:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 524:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (shut_rx) {
 525:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* shut down the receive side: set a flag not to receive any more data... */
 526:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_set_flags(pcb, TF_RXCLOSED);
 527:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (shut_tx) {
 528:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* shutting down the tx AND rx side is the same as closing for the raw API */
 529:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return tcp_close_shutdown(pcb, 1);
 530:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 531:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* ... and free buffered data */
 532:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->refused_data != NULL) {
 533:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pbuf_free(pcb->refused_data);
 534:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->refused_data = NULL;
 535:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 536:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 537:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (shut_tx) {
 538:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* This can't happen twice since if it succeeds, the pcb's state is changed.
 539:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        Only close in these states as the others directly deallocate the PCB */
 540:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     switch (pcb->state) {
 541:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       case SYN_RCVD:
 542:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       case ESTABLISHED:
 543:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       case CLOSE_WAIT:
 544:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         return tcp_close_shutdown(pcb, (u8_t)shut_rx);
 545:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       default:
 546:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* Not (yet?) connected, cannot shutdown the TX side as that would bring us
ARM GAS  /tmp/ccX62RBj.s 			page 11


 547:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           into CLOSED state, where the PCB is deallocated. */
 548:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         return ERR_CONN;
 549:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 550:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 551:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_OK;
 552:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 553:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 554:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 555:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Abandons a connection and optionally sends a RST to the remote
 556:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * host.  Deletes the local protocol control block. This is done when
 557:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * a connection is killed because of shortage of memory.
 558:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 559:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to abort
 560:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param reset boolean to indicate whether a reset should be sent
 561:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 562:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 563:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_abandon(struct tcp_pcb *pcb, int reset)
 564:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 565:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t seqno, ackno;
 566:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 567:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_err_fn errf;
 568:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 569:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   void *errf_arg;
 570:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 571:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 572:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 573:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_abandon: invalid pcb", pcb != NULL, return);
 574:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 575:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* pcb->state LISTEN not allowed here */
 576:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("don't call tcp_abort/tcp_abandon for listen-pcbs",
 577:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->state != LISTEN);
 578:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Figure out on which TCP PCB list we are, and remove us. If we
 579:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      are in an active state, call the receive function associated with
 580:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      the PCB with a NULL argument, and send an RST to the remote end. */
 581:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state == TIME_WAIT) {
 582:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_pcb_remove(&tcp_tw_pcbs, pcb);
 583:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_free(pcb);
 584:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 585:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     int send_rst = 0;
 586:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     u16_t local_port = 0;
 587:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     enum tcp_state last_state;
 588:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     seqno = pcb->snd_nxt;
 589:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ackno = pcb->rcv_nxt;
 590:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 591:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     errf = pcb->errf;
 592:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 593:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     errf_arg = pcb->callback_arg;
 594:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == CLOSED) {
 595:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port != 0) {
 596:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* bound, not yet opened */
 597:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         TCP_RMV(&tcp_bound_pcbs, pcb);
 598:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 599:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
 600:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       send_rst = reset;
 601:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       local_port = pcb->local_port;
 602:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_PCB_REMOVE_ACTIVE(pcb);
 603:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
ARM GAS  /tmp/ccX62RBj.s 			page 12


 604:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->unacked != NULL) {
 605:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->unacked);
 606:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 607:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->unsent != NULL) {
 608:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->unsent);
 609:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 610:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
 611:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->ooseq != NULL) {
 612:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->ooseq);
 613:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 614:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
 615:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_backlog_accepted(pcb);
 616:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (send_rst) {
 617:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_RST_DEBUG, ("tcp_abandon: sending RST\n"));
 618:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_rst(pcb, seqno, ackno, &pcb->local_ip, &pcb->remote_ip, local_port, pcb->remote_port);
 619:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 620:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     last_state = pcb->state;
 621:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_free(pcb);
 622:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_EVENT_ERR(last_state, errf, errf_arg, ERR_ABRT);
 623:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 624:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 625:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 626:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 627:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 628:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Aborts the connection by sending a RST (reset) segment to the remote
 629:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * host. The pcb is deallocated. This function never fails.
 630:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 631:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * ATTENTION: When calling this from one of the TCP callbacks, make
 632:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * sure you always return ERR_ABRT (and never return ERR_ABRT otherwise
 633:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * or you will risk accessing deallocated memory or memory leaks!
 634:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 635:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp pcb to abort
 636:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 637:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 638:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_abort(struct tcp_pcb *pcb)
 639:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 640:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_abandon(pcb, 1);
 641:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 642:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 643:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 644:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 645:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Binds the connection to a local port number and IP address. If the
 646:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * IP address is not given (i.e., ipaddr == IP_ANY_TYPE), the connection is
 647:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * bound to all local IP addresses.
 648:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * If another connection is bound to the same port, the function will
 649:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * return ERR_USE, otherwise ERR_OK is returned.
 650:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 651:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to bind (no check is done whether this pcb is
 652:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *        already bound!)
 653:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param ipaddr the local ip address to bind to (use IPx_ADDR_ANY to bind
 654:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *        to any local address
 655:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param port the local port to bind to
 656:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return ERR_USE if the port is already in use
 657:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         ERR_VAL if bind failed because the PCB is not in a valid state
 658:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         ERR_OK if bound
 659:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 660:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
ARM GAS  /tmp/ccX62RBj.s 			page 13


 661:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_bind(struct tcp_pcb *pcb, const ip_addr_t *ipaddr, u16_t port)
 662:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 663:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   int i;
 664:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   int max_pcb_list = NUM_TCP_PCB_LISTS;
 665:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *cpcb;
 666:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV6 && LWIP_IPV6_SCOPES
 667:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ip_addr_t zoned_ipaddr;
 668:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV6 && LWIP_IPV6_SCOPES */
 669:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 670:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 671:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 672:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
 673:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Don't propagate NULL pointer (IPv4 ANY) to subsequent functions */
 674:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ipaddr == NULL) {
 675:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ipaddr = IP4_ADDR_ANY;
 676:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 677:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* LWIP_IPV4 */
 678:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_bind: invalid ipaddr", ipaddr != NULL, return ERR_ARG);
 679:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
 680:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 681:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_bind: invalid pcb", pcb != NULL, return ERR_ARG);
 682:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 683:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_bind: can only bind in state CLOSED", pcb->state == CLOSED, return ERR_VAL);
 684:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 685:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if SO_REUSE
 686:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Unless the REUSEADDR flag is set,
 687:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      we have to check the pcbs in TIME-WAIT state, also.
 688:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      We do not dump TIME_WAIT pcb's; they can still be matched by incoming
 689:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      packets using both local and remote IP addresses and ports to distinguish.
 690:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    */
 691:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ip_get_option(pcb, SOF_REUSEADDR)) {
 692:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     max_pcb_list = NUM_TCP_PCB_LISTS_NO_TIME_WAIT;
 693:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 694:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* SO_REUSE */
 695:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 696:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV6 && LWIP_IPV6_SCOPES
 697:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* If the given IP address should have a zone but doesn't, assign one now.
 698:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * This is legacy support: scope-aware callers should always provide properly
 699:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * zoned source addresses. Do the zone selection before the address-in-use
 700:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * check below; as such we have to make a temporary copy of the address. */
 701:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (IP_IS_V6(ipaddr) && ip6_addr_lacks_zone(ip_2_ip6(ipaddr), IP6_UNICAST)) {
 702:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ip_addr_copy(zoned_ipaddr, *ipaddr);
 703:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ip6_addr_select_zone(ip_2_ip6(&zoned_ipaddr), ip_2_ip6(&zoned_ipaddr));
 704:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ipaddr = &zoned_ipaddr;
 705:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 706:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV6 && LWIP_IPV6_SCOPES */
 707:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 708:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (port == 0) {
 709:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     port = tcp_new_port();
 710:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (port == 0) {
 711:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_BUF;
 712:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 713:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 714:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if the address already is in use (on all lists) */
 715:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (i = 0; i < max_pcb_list; i++) {
 716:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       for (cpcb = *tcp_pcb_lists[i]; cpcb != NULL; cpcb = cpcb->next) {
 717:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (cpcb->local_port == port) {
ARM GAS  /tmp/ccX62RBj.s 			page 14


 718:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if SO_REUSE
 719:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Omit checking for the same port if both pcbs have REUSEADDR set.
 720:Middlewares/Third_Party/LwIP/src/core/tcp.c ****              For SO_REUSEADDR, the duplicate-check for a 5-tuple is done in
 721:Middlewares/Third_Party/LwIP/src/core/tcp.c ****              tcp_connect. */
 722:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (!ip_get_option(pcb, SOF_REUSEADDR) ||
 723:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               !ip_get_option(cpcb, SOF_REUSEADDR))
 724:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* SO_REUSE */
 725:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           {
 726:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* @todo: check accept_any_ip_version */
 727:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             if ((IP_IS_V6(ipaddr) == IP_IS_V6_VAL(cpcb->local_ip)) &&
 728:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 (ip_addr_isany(&cpcb->local_ip) ||
 729:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                  ip_addr_isany(ipaddr) ||
 730:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                  ip_addr_cmp(&cpcb->local_ip, ipaddr))) {
 731:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               return ERR_USE;
 732:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
 733:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
 734:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 735:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 736:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 737:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 738:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 739:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (!ip_addr_isany(ipaddr)
 740:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4 && LWIP_IPV6
 741:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       || (IP_GET_TYPE(ipaddr) != IP_GET_TYPE(&pcb->local_ip))
 742:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 743:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      ) {
 744:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ip_addr_set(&pcb->local_ip, ipaddr);
 745:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 746:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->local_port = port;
 747:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   TCP_REG(&tcp_bound_pcbs, pcb);
 748:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_bind: bind to port %"U16_F"\n", port));
 749:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_OK;
 750:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 751:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 752:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 753:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 754:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Binds the connection to a netif and IP address.
 755:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * After calling this function, all packets received via this PCB
 756:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * are guaranteed to have come in via the specified netif, and all
 757:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * outgoing packets will go out via the specified netif.
 758:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 759:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to bind.
 760:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param netif the netif to bind to. Can be NULL.
 761:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 762:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 763:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_bind_netif(struct tcp_pcb *pcb, const struct netif *netif)
 764:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 765:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 766:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (netif != NULL) {
 767:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->netif_idx = netif_get_index(netif);
 768:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 769:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->netif_idx = NETIF_NO_INDEX;
 770:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 771:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 772:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 773:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 774:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
ARM GAS  /tmp/ccX62RBj.s 			page 15


 775:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Default accept callback if no accept callback is specified by the user.
 776:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 777:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static err_t
 778:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_accept_null(void *arg, struct tcp_pcb *pcb, err_t err)
 779:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 780:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(arg);
 781:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(err);
 782:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 783:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_accept_null: invalid pcb", pcb != NULL);
 784:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 785:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_abort(pcb);
 786:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 787:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_ABRT;
 788:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 789:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 790:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 791:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 792:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 793:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Set the state of the connection to be LISTEN, which means that it
 794:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * is able to accept incoming connections. The protocol control block
 795:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * is reallocated in order to consume less memory. Setting the
 796:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * connection to LISTEN is an irreversible process.
 797:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * When an incoming connection is accepted, the function specified with
 798:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the tcp_accept() function will be called. The pcb has to be bound
 799:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * to a local port with the tcp_bind() function.
 800:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
 801:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The tcp_listen() function returns a new connection identifier, and
 802:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the one passed as an argument to the function will be
 803:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * deallocated. The reason for this behavior is that less memory is
 804:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * needed for a connection that is listening, so tcp_listen() will
 805:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * reclaim the memory needed for the original connection and allocate a
 806:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * new smaller memory block for the listening connection.
 807:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 808:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * tcp_listen() may return NULL if no memory was available for the
 809:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * listening connection. If so, the memory associated with the pcb
 810:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * passed as an argument to tcp_listen() will not be deallocated.
 811:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 812:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The backlog limits the number of outstanding connections
 813:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * in the listen queue to the value specified by the backlog argument.
 814:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * To use it, your need to set TCP_LISTEN_BACKLOG=1 in your lwipopts.h.
 815:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
 816:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the original tcp_pcb
 817:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param backlog the incoming connections queue limit
 818:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return tcp_pcb used for listening, consumes less memory.
 819:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 820:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @note The original tcp_pcb is freed. This function therefore has to be
 821:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *       called like this:
 822:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *             tpcb = tcp_listen_with_backlog(tpcb, backlog);
 823:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 824:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *
 825:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_listen_with_backlog(struct tcp_pcb *pcb, u8_t backlog)
 826:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 827:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 828:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return tcp_listen_with_backlog_and_err(pcb, backlog, NULL);
 829:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 830:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 831:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
ARM GAS  /tmp/ccX62RBj.s 			page 16


 832:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 833:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Set the state of the connection to be LISTEN, which means that it
 834:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * is able to accept incoming connections. The protocol control block
 835:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * is reallocated in order to consume less memory. Setting the
 836:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * connection to LISTEN is an irreversible process.
 837:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 838:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the original tcp_pcb
 839:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param backlog the incoming connections queue limit
 840:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param err when NULL is returned, this contains the error reason
 841:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return tcp_pcb used for listening, consumes less memory.
 842:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 843:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @note The original tcp_pcb is freed. This function therefore has to be
 844:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *       called like this:
 845:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *             tpcb = tcp_listen_with_backlog_and_err(tpcb, backlog, &err);
 846:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 847:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *
 848:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_listen_with_backlog_and_err(struct tcp_pcb *pcb, u8_t backlog, err_t *err)
 849:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 850:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb_listen *lpcb = NULL;
 851:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err_t res;
 852:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 853:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(backlog);
 854:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 855:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 856:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 857:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_listen_with_backlog_and_err: invalid pcb", pcb != NULL, res = ERR_ARG; goto done)
 858:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_listen_with_backlog_and_err: pcb already connected", pcb->state == CLOSED, res = 
 859:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 860:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* already listening? */
 861:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state == LISTEN) {
 862:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     lpcb = (struct tcp_pcb_listen *)pcb;
 863:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     res = ERR_ALREADY;
 864:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     goto done;
 865:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 866:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if SO_REUSE
 867:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ip_get_option(pcb, SOF_REUSEADDR)) {
 868:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Since SOF_REUSEADDR allows reusing a local address before the pcb's usage
 869:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        is declared (listen-/connection-pcb), we have to make sure now that
 870:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        this port is only used once for every local IP. */
 871:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (lpcb = tcp_listen_pcbs.listen_pcbs; lpcb != NULL; lpcb = lpcb->next) {
 872:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((lpcb->local_port == pcb->local_port) &&
 873:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ip_addr_cmp(&lpcb->local_ip, &pcb->local_ip)) {
 874:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* this address/port is already used */
 875:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         lpcb = NULL;
 876:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         res = ERR_USE;
 877:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         goto done;
 878:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 879:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 880:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 881:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* SO_REUSE */
 882:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb = (struct tcp_pcb_listen *)memp_malloc(MEMP_TCP_PCB_LISTEN);
 883:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (lpcb == NULL) {
 884:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     res = ERR_MEM;
 885:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     goto done;
 886:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 887:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->callback_arg = pcb->callback_arg;
 888:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->local_port = pcb->local_port;
ARM GAS  /tmp/ccX62RBj.s 			page 17


 889:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->state = LISTEN;
 890:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->prio = pcb->prio;
 891:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->so_options = pcb->so_options;
 892:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->netif_idx = NETIF_NO_INDEX;
 893:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->ttl = pcb->ttl;
 894:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->tos = pcb->tos;
 895:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4 && LWIP_IPV6
 896:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   IP_SET_TYPE_VAL(lpcb->remote_ip, pcb->local_ip.type);
 897:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 898:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ip_addr_copy(lpcb->local_ip, pcb->local_ip);
 899:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->local_port != 0) {
 900:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_RMV(&tcp_bound_pcbs, pcb);
 901:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 902:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_PCB_NUM_EXT_ARGS
 903:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* copy over ext_args to listening pcb  */
 904:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   memcpy(&lpcb->ext_args, &pcb->ext_args, sizeof(pcb->ext_args));
 905:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 906:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_free(pcb);
 907:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 908:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->accept = tcp_accept_null;
 909:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 910:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_LISTEN_BACKLOG
 911:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->accepts_pending = 0;
 912:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_backlog_set(lpcb, backlog);
 913:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_LISTEN_BACKLOG */
 914:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   TCP_REG(&tcp_listen_pcbs.pcbs, (struct tcp_pcb *)lpcb);
 915:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   res = ERR_OK;
 916:Middlewares/Third_Party/LwIP/src/core/tcp.c **** done:
 917:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (err != NULL) {
 918:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     *err = res;
 919:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 920:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return (struct tcp_pcb *)lpcb;
 921:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 922:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 923:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 924:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Update the state that tracks the available window space to advertise.
 925:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 926:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Returns how much extra window would be advertised if we sent an
 927:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * update now.
 928:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 929:Middlewares/Third_Party/LwIP/src/core/tcp.c **** u32_t
 930:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_update_rcv_ann_wnd(struct tcp_pcb *pcb)
 931:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 932:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t new_right_edge;
 933:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 934:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_update_rcv_ann_wnd: invalid pcb", pcb != NULL);
 935:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   new_right_edge = pcb->rcv_nxt + pcb->rcv_wnd;
 936:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 937:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (TCP_SEQ_GEQ(new_right_edge, pcb->rcv_ann_right_edge + LWIP_MIN((TCP_WND / 2), pcb->mss))) {
 938:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* we can advertise more window */
 939:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rcv_ann_wnd = pcb->rcv_wnd;
 940:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return new_right_edge - pcb->rcv_ann_right_edge;
 941:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 942:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (TCP_SEQ_GT(pcb->rcv_nxt, pcb->rcv_ann_right_edge)) {
 943:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Can happen due to other end sending out of advertised window,
 944:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        * but within actual available (but not yet advertised) window */
 945:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->rcv_ann_wnd = 0;
ARM GAS  /tmp/ccX62RBj.s 			page 18


 946:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
 947:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* keep the right edge of window constant */
 948:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       u32_t new_rcv_ann_wnd = pcb->rcv_ann_right_edge - pcb->rcv_nxt;
 949:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if !LWIP_WND_SCALE
 950:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_ASSERT("new_rcv_ann_wnd <= 0xffff", new_rcv_ann_wnd <= 0xffff);
 951:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 952:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->rcv_ann_wnd = (tcpwnd_size_t)new_rcv_ann_wnd;
 953:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 954:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return 0;
 955:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 956:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 957:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 958:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 959:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 960:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * This function should be called by the application when it has
 961:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * processed the data. The purpose is to advertise a larger window
 962:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * when the data has been processed.
 963:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 964:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb for which data is read
 965:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param len the amount of bytes that have been read by the application
 966:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 967:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 968:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_recved(struct tcp_pcb *pcb, u16_t len)
 969:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 970:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t wnd_inflation;
 971:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcpwnd_size_t rcv_wnd;
 972:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 973:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 974:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 975:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_recved: invalid pcb", pcb != NULL, return);
 976:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 977:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* pcb->state LISTEN not allowed here */
 978:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("don't call tcp_recved for listen-pcbs",
 979:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->state != LISTEN);
 980:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 981:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   rcv_wnd = (tcpwnd_size_t)(pcb->rcv_wnd + len);
 982:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if ((rcv_wnd > TCP_WND_MAX(pcb)) || (rcv_wnd < pcb->rcv_wnd)) {
 983:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* window got too big or tcpwnd_size_t overflow */
 984:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_recved: window got too big or tcpwnd_size_t overflow\n"));
 985:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rcv_wnd = TCP_WND_MAX(pcb);
 986:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else  {
 987:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rcv_wnd = rcv_wnd;
 988:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 989:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 990:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   wnd_inflation = tcp_update_rcv_ann_wnd(pcb);
 991:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 992:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* If the change in the right edge of window is significant (default
 993:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * watermark is TCP_WND/4), then send an explicit update now.
 994:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * Otherwise wait for a packet to be sent in the normal course of
 995:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * events (or more window to be available later) */
 996:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (wnd_inflation >= TCP_WND_UPDATE_THRESHOLD) {
 997:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_ack_now(pcb);
 998:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_output(pcb);
 999:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1000:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1001:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_recved: received %"U16_F" bytes, wnd %"TCPWNDSIZE_F" (%"TCPWNDSIZE_F
1002:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                           len, pcb->rcv_wnd, (u16_t)(TCP_WND_MAX(pcb) - pcb->rcv_wnd)));
ARM GAS  /tmp/ccX62RBj.s 			page 19


1003:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1004:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1005:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1006:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Allocate a new local TCP port.
1007:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1008:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return a new (free) local TCP port number
1009:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1010:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static u16_t
1011:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_new_port(void)
1012:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
  26              		.loc 1 1012 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
  31 0000 10B4     		push	{r4}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 4
  34              		.cfi_offset 4, -4
  35              	.LVL0:
1013:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u8_t i;
1014:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u16_t n = 0;
  36              		.loc 1 1014 0
  37 0002 0024     		movs	r4, #0
  38 0004 09E0     		b	.L2
  39              	.LVL1:
  40              	.L13:
1015:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
1016:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1017:Middlewares/Third_Party/LwIP/src/core/tcp.c **** again:
1018:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_port++;
1019:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (tcp_port == TCP_LOCAL_PORT_RANGE_END) {
1020:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_port = TCP_LOCAL_PORT_RANGE_START;
  41              		.loc 1 1020 0
  42 0006 4FF44042 		mov	r2, #49152
  43 000a 154B     		ldr	r3, .L17
  44 000c 1A80     		strh	r2, [r3]	@ movhi
  45 000e 0DE0     		b	.L3
  46              	.LVL2:
  47              	.L16:
1021:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1022:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Check all PCB lists. */
1023:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (i = 0; i < NUM_TCP_PCB_LISTS; i++) {
1024:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (pcb = *tcp_pcb_lists[i]; pcb != NULL; pcb = pcb->next) {
1025:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port == tcp_port) {
1026:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         n++;
  48              		.loc 1 1026 0
  49 0010 0134     		adds	r4, r4, #1
  50              	.LVL3:
  51 0012 A4B2     		uxth	r4, r4
  52              	.LVL4:
1027:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (n > (TCP_LOCAL_PORT_RANGE_END - TCP_LOCAL_PORT_RANGE_START)) {
  53              		.loc 1 1027 0
  54 0014 B4F5804F 		cmp	r4, #16384
  55 0018 1FD2     		bcs	.L12
  56              	.LVL5:
  57              	.L2:
ARM GAS  /tmp/ccX62RBj.s 			page 20


1018:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (tcp_port == TCP_LOCAL_PORT_RANGE_END) {
  58              		.loc 1 1018 0
  59 001a 114A     		ldr	r2, .L17
  60 001c 1388     		ldrh	r3, [r2]
  61 001e 0133     		adds	r3, r3, #1
  62 0020 9BB2     		uxth	r3, r3
  63 0022 1380     		strh	r3, [r2]	@ movhi
1019:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_port = TCP_LOCAL_PORT_RANGE_START;
  64              		.loc 1 1019 0
  65 0024 4FF6FF72 		movw	r2, #65535
  66 0028 9342     		cmp	r3, r2
  67 002a ECD0     		beq	.L13
  68              	.L3:
  69              	.LVL6:
1023:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (pcb = *tcp_pcb_lists[i]; pcb != NULL; pcb = pcb->next) {
  70              		.loc 1 1023 0
  71 002c 0020     		movs	r0, #0
  72              	.LVL7:
  73              	.L4:
1023:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (pcb = *tcp_pcb_lists[i]; pcb != NULL; pcb = pcb->next) {
  74              		.loc 1 1023 0 is_stmt 0 discriminator 1
  75 002e 0328     		cmp	r0, #3
  76 0030 0ED8     		bhi	.L14
1024:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port == tcp_port) {
  77              		.loc 1 1024 0 is_stmt 1
  78 0032 0C4B     		ldr	r3, .L17+4
  79 0034 53F82030 		ldr	r3, [r3, r0, lsl #2]
  80 0038 1B68     		ldr	r3, [r3]
  81              	.LVL8:
  82              	.L5:
1024:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port == tcp_port) {
  83              		.loc 1 1024 0 is_stmt 0 discriminator 1
  84 003a 33B1     		cbz	r3, .L15
1025:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         n++;
  85              		.loc 1 1025 0 is_stmt 1
  86 003c D98A     		ldrh	r1, [r3, #22]
  87 003e 084A     		ldr	r2, .L17
  88 0040 1288     		ldrh	r2, [r2]
  89 0042 9142     		cmp	r1, r2
  90 0044 E4D0     		beq	.L16
1024:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port == tcp_port) {
  91              		.loc 1 1024 0 discriminator 2
  92 0046 DB68     		ldr	r3, [r3, #12]
  93              	.LVL9:
  94 0048 F7E7     		b	.L5
  95              	.L15:
1023:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (pcb = *tcp_pcb_lists[i]; pcb != NULL; pcb = pcb->next) {
  96              		.loc 1 1023 0 discriminator 2
  97 004a 0130     		adds	r0, r0, #1
  98              	.LVL10:
  99 004c C0B2     		uxtb	r0, r0
 100              	.LVL11:
 101 004e EEE7     		b	.L4
 102              	.LVL12:
 103              	.L14:
1028:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           return 0;
1029:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
ARM GAS  /tmp/ccX62RBj.s 			page 21


1030:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         goto again;
1031:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1032:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1033:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1034:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return tcp_port;
 104              		.loc 1 1034 0
 105 0050 034B     		ldr	r3, .L17
 106 0052 1888     		ldrh	r0, [r3]
 107              	.LVL13:
 108              	.L7:
1035:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 109              		.loc 1 1035 0
 110 0054 5DF8044B 		ldr	r4, [sp], #4
 111              	.LCFI1:
 112              		.cfi_remember_state
 113              		.cfi_restore 4
 114              		.cfi_def_cfa_offset 0
 115              	.LVL14:
 116 0058 7047     		bx	lr
 117              	.LVL15:
 118              	.L12:
 119              	.LCFI2:
 120              		.cfi_restore_state
1028:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           return 0;
 121              		.loc 1 1028 0
 122 005a 0020     		movs	r0, #0
 123              	.LVL16:
 124 005c FAE7     		b	.L7
 125              	.L18:
 126 005e 00BF     		.align	2
 127              	.L17:
 128 0060 00000000 		.word	.LANCHOR0
 129 0064 00000000 		.word	.LANCHOR1
 130              		.cfi_endproc
 131              	.LFE177:
 133              		.section	.text.tcp_remove_listener,"ax",%progbits
 134              		.align	1
 135              		.syntax unified
 136              		.thumb
 137              		.thumb_func
 138              		.fpu fpv5-d16
 140              	tcp_remove_listener:
 141              	.LFB162:
 252:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
 142              		.loc 1 252 0
 143              		.cfi_startproc
 144              		@ args = 0, pretend = 0, frame = 0
 145              		@ frame_needed = 0, uses_anonymous_args = 0
 146              	.LVL17:
 147 0000 38B5     		push	{r3, r4, r5, lr}
 148              	.LCFI3:
 149              		.cfi_def_cfa_offset 16
 150              		.cfi_offset 3, -16
 151              		.cfi_offset 4, -12
 152              		.cfi_offset 5, -8
 153              		.cfi_offset 14, -4
 154 0002 0446     		mov	r4, r0
ARM GAS  /tmp/ccX62RBj.s 			page 22


 255:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 155              		.loc 1 255 0
 156 0004 0D46     		mov	r5, r1
 157 0006 39B9     		cbnz	r1, .L21
 255:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 158              		.loc 1 255 0 is_stmt 0 discriminator 1
 159 0008 074B     		ldr	r3, .L26
 160 000a FF22     		movs	r2, #255
 161 000c 0749     		ldr	r1, .L26+4
 162              	.LVL18:
 163 000e 0848     		ldr	r0, .L26+8
 164              	.LVL19:
 165 0010 FFF7FEFF 		bl	printf
 166              	.LVL20:
 167 0014 00E0     		b	.L21
 168              	.LVL21:
 169              	.L22:
 257:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->listener == lpcb) {
 170              		.loc 1 257 0 is_stmt 1 discriminator 2
 171 0016 E468     		ldr	r4, [r4, #12]
 172              	.LVL22:
 173              	.L21:
 257:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->listener == lpcb) {
 174              		.loc 1 257 0 is_stmt 0 discriminator 1
 175 0018 2CB1     		cbz	r4, .L25
 258:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->listener = NULL;
 176              		.loc 1 258 0 is_stmt 1
 177 001a E36F     		ldr	r3, [r4, #124]
 178 001c 9D42     		cmp	r5, r3
 179 001e FAD1     		bne	.L22
 259:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 180              		.loc 1 259 0
 181 0020 0023     		movs	r3, #0
 182 0022 E367     		str	r3, [r4, #124]
 183 0024 F7E7     		b	.L22
 184              	.L25:
 262:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 185              		.loc 1 262 0
 186 0026 38BD     		pop	{r3, r4, r5, pc}
 187              	.LVL23:
 188              	.L27:
 189              		.align	2
 190              	.L26:
 191 0028 00000000 		.word	.LC0
 192 002c 2C000000 		.word	.LC1
 193 0030 54000000 		.word	.LC2
 194              		.cfi_endproc
 195              	.LFE162:
 197              		.section	.text.tcp_listen_closed,"ax",%progbits
 198              		.align	1
 199              		.syntax unified
 200              		.thumb
 201              		.thumb_func
 202              		.fpu fpv5-d16
 204              	tcp_listen_closed:
 205              	.LFB163:
 270:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
ARM GAS  /tmp/ccX62RBj.s 			page 23


 206              		.loc 1 270 0
 207              		.cfi_startproc
 208              		@ args = 0, pretend = 0, frame = 0
 209              		@ frame_needed = 0, uses_anonymous_args = 0
 210              	.LVL24:
 211 0000 38B5     		push	{r3, r4, r5, lr}
 212              	.LCFI4:
 213              		.cfi_def_cfa_offset 16
 214              		.cfi_offset 3, -16
 215              		.cfi_offset 4, -12
 216              		.cfi_offset 5, -8
 217              		.cfi_offset 14, -4
 273:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("pcb->state == LISTEN", pcb->state == LISTEN);
 218              		.loc 1 273 0
 219 0002 0546     		mov	r5, r0
 220 0004 58B1     		cbz	r0, .L34
 221              	.LVL25:
 222              	.L29:
 274:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (i = 1; i < LWIP_ARRAYSIZE(tcp_pcb_lists); i++) {
 223              		.loc 1 274 0
 224 0006 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 225 0008 012B     		cmp	r3, #1
 226 000a 06D0     		beq	.L30
 274:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (i = 1; i < LWIP_ARRAYSIZE(tcp_pcb_lists); i++) {
 227              		.loc 1 274 0 is_stmt 0 discriminator 1
 228 000c 0D4B     		ldr	r3, .L35
 229 000e 4FF48972 		mov	r2, #274
 230 0012 0D49     		ldr	r1, .L35+4
 231 0014 0D48     		ldr	r0, .L35+8
 232 0016 FFF7FEFF 		bl	printf
 233              	.LVL26:
 234              	.L30:
 270:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
 235              		.loc 1 270 0 is_stmt 1 discriminator 1
 236 001a 0124     		movs	r4, #1
 237 001c 0FE0     		b	.L31
 238              	.LVL27:
 239              	.L34:
 273:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("pcb->state == LISTEN", pcb->state == LISTEN);
 240              		.loc 1 273 0 discriminator 1
 241 001e 094B     		ldr	r3, .L35
 242 0020 40F21112 		movw	r2, #273
 243 0024 0A49     		ldr	r1, .L35+12
 244 0026 0948     		ldr	r0, .L35+8
 245              	.LVL28:
 246 0028 FFF7FEFF 		bl	printf
 247              	.LVL29:
 248 002c EBE7     		b	.L29
 249              	.LVL30:
 250              	.L32:
 276:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 251              		.loc 1 276 0 discriminator 3
 252 002e 094B     		ldr	r3, .L35+16
 253 0030 53F82430 		ldr	r3, [r3, r4, lsl #2]
 254 0034 2946     		mov	r1, r5
 255 0036 1868     		ldr	r0, [r3]
 256 0038 FFF7FEFF 		bl	tcp_remove_listener
ARM GAS  /tmp/ccX62RBj.s 			page 24


 257              	.LVL31:
 275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_remove_listener(*tcp_pcb_lists[i], (struct tcp_pcb_listen *)pcb);
 258              		.loc 1 275 0 discriminator 3
 259 003c 0134     		adds	r4, r4, #1
 260              	.LVL32:
 261              	.L31:
 275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_remove_listener(*tcp_pcb_lists[i], (struct tcp_pcb_listen *)pcb);
 262              		.loc 1 275 0 is_stmt 0 discriminator 1
 263 003e 032C     		cmp	r4, #3
 264 0040 F5D9     		bls	.L32
 280:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 265              		.loc 1 280 0 is_stmt 1
 266 0042 38BD     		pop	{r3, r4, r5, pc}
 267              	.LVL33:
 268              	.L36:
 269              		.align	2
 270              	.L35:
 271 0044 00000000 		.word	.LC0
 272 0048 0C000000 		.word	.LC4
 273 004c 54000000 		.word	.LC2
 274 0050 00000000 		.word	.LC3
 275 0054 00000000 		.word	.LANCHOR1
 276              		.cfi_endproc
 277              	.LFE163:
 279              		.section	.text.tcp_free_listen,"ax",%progbits
 280              		.align	1
 281              		.syntax unified
 282              		.thumb
 283              		.thumb_func
 284              		.fpu fpv5-d16
 286              	tcp_free_listen:
 287              	.LFB160:
 222:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_free_listen: !LISTEN", pcb->state != LISTEN);
 288              		.loc 1 222 0
 289              		.cfi_startproc
 290              		@ args = 0, pretend = 0, frame = 0
 291              		@ frame_needed = 0, uses_anonymous_args = 0
 292              	.LVL34:
 293 0000 10B5     		push	{r4, lr}
 294              	.LCFI5:
 295              		.cfi_def_cfa_offset 8
 296              		.cfi_offset 4, -8
 297              		.cfi_offset 14, -4
 298 0002 0446     		mov	r4, r0
 223:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_PCB_NUM_EXT_ARGS
 299              		.loc 1 223 0
 300 0004 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 301 0006 012B     		cmp	r3, #1
 302 0008 04D0     		beq	.L40
 303              	.LVL35:
 304              	.L38:
 227:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 305              		.loc 1 227 0
 306 000a 2146     		mov	r1, r4
 307 000c 0220     		movs	r0, #2
 308 000e FFF7FEFF 		bl	memp_free
 309              	.LVL36:
ARM GAS  /tmp/ccX62RBj.s 			page 25


 310 0012 10BD     		pop	{r4, pc}
 311              	.LVL37:
 312              	.L40:
 223:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_PCB_NUM_EXT_ARGS
 313              		.loc 1 223 0 discriminator 1
 314 0014 034B     		ldr	r3, .L41
 315 0016 DF22     		movs	r2, #223
 316 0018 0349     		ldr	r1, .L41+4
 317 001a 0448     		ldr	r0, .L41+8
 318              	.LVL38:
 319 001c FFF7FEFF 		bl	printf
 320              	.LVL39:
 321 0020 F3E7     		b	.L38
 322              	.L42:
 323 0022 00BF     		.align	2
 324              	.L41:
 325 0024 00000000 		.word	.LC0
 326 0028 00000000 		.word	.LC5
 327 002c 54000000 		.word	.LC2
 328              		.cfi_endproc
 329              	.LFE160:
 331              		.section	.text.tcp_close_shutdown_fin,"ax",%progbits
 332              		.align	1
 333              		.syntax unified
 334              		.thumb
 335              		.thumb_func
 336              		.fpu fpv5-d16
 338              	tcp_close_shutdown_fin:
 339              	.LFB165:
 410:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err_t err;
 340              		.loc 1 410 0
 341              		.cfi_startproc
 342              		@ args = 0, pretend = 0, frame = 0
 343              		@ frame_needed = 0, uses_anonymous_args = 0
 344              	.LVL40:
 345 0000 38B5     		push	{r3, r4, r5, lr}
 346              	.LCFI6:
 347              		.cfi_def_cfa_offset 16
 348              		.cfi_offset 3, -16
 349              		.cfi_offset 4, -12
 350              		.cfi_offset 5, -8
 351              		.cfi_offset 14, -4
 412:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 352              		.loc 1 412 0
 353 0002 0446     		mov	r4, r0
 354 0004 40B1     		cbz	r0, .L54
 355              	.LVL41:
 356              	.L44:
 414:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case SYN_RCVD:
 357              		.loc 1 414 0
 358 0006 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 359 0008 042B     		cmp	r3, #4
 360 000a 1AD0     		beq	.L46
 361 000c 072B     		cmp	r3, #7
 362 000e 21D0     		beq	.L47
 363 0010 032B     		cmp	r3, #3
 364 0012 09D0     		beq	.L55
ARM GAS  /tmp/ccX62RBj.s 			page 26


 439:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 365              		.loc 1 439 0
 366 0014 0025     		movs	r5, #0
 367 0016 12E0     		b	.L45
 368              	.LVL42:
 369              	.L54:
 412:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 370              		.loc 1 412 0 discriminator 1
 371 0018 184B     		ldr	r3, .L58
 372 001a 4FF4CE72 		mov	r2, #412
 373 001e 1849     		ldr	r1, .L58+4
 374 0020 1848     		ldr	r0, .L58+8
 375              	.LVL43:
 376 0022 FFF7FEFF 		bl	printf
 377              	.LVL44:
 378 0026 EEE7     		b	.L44
 379              	.L55:
 416:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (err == ERR_OK) {
 380              		.loc 1 416 0
 381 0028 2046     		mov	r0, r4
 382 002a FFF7FEFF 		bl	tcp_send_fin
 383              	.LVL45:
 417:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_backlog_accepted(pcb);
 384              		.loc 1 417 0
 385 002e 0546     		mov	r5, r0
 386 0030 08B9     		cbnz	r0, .L49
 420:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 387              		.loc 1 420 0
 388 0032 0523     		movs	r3, #5
 389 0034 2375     		strb	r3, [r4, #20]
 390              	.L49:
 391              	.LVL46:
 442:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* To ensure all data has been sent when tcp_close returns, we have
 392              		.loc 1 442 0
 393 0036 B5B1     		cbz	r5, .L56
 449:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Mark this pcb for closing. Closing is retried from tcp_tmr. */
 394              		.loc 1 449 0
 395 0038 B5F1FF3F 		cmp	r5, #-1
 396 003c 17D0     		beq	.L57
 397              	.LVL47:
 398              	.L45:
 460:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 399              		.loc 1 460 0
 400 003e 2846     		mov	r0, r5
 401 0040 38BD     		pop	{r3, r4, r5, pc}
 402              	.LVL48:
 403              	.L46:
 424:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (err == ERR_OK) {
 404              		.loc 1 424 0
 405 0042 2046     		mov	r0, r4
 406 0044 FFF7FEFF 		bl	tcp_send_fin
 407              	.LVL49:
 425:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         MIB2_STATS_INC(mib2.tcpestabresets);
 408              		.loc 1 425 0
 409 0048 0546     		mov	r5, r0
 410 004a 0028     		cmp	r0, #0
 411 004c F3D1     		bne	.L49
ARM GAS  /tmp/ccX62RBj.s 			page 27


 427:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 412              		.loc 1 427 0
 413 004e 0523     		movs	r3, #5
 414 0050 2375     		strb	r3, [r4, #20]
 415 0052 F0E7     		b	.L49
 416              	.LVL50:
 417              	.L47:
 431:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (err == ERR_OK) {
 418              		.loc 1 431 0
 419 0054 2046     		mov	r0, r4
 420 0056 FFF7FEFF 		bl	tcp_send_fin
 421              	.LVL51:
 432:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         MIB2_STATS_INC(mib2.tcpestabresets);
 422              		.loc 1 432 0
 423 005a 0546     		mov	r5, r0
 424 005c 0028     		cmp	r0, #0
 425 005e EAD1     		bne	.L49
 434:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 426              		.loc 1 434 0
 427 0060 0923     		movs	r3, #9
 428 0062 2375     		strb	r3, [r4, #20]
 429 0064 E7E7     		b	.L49
 430              	.LVL52:
 431              	.L56:
 448:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else if (err == ERR_MEM) {
 432              		.loc 1 448 0
 433 0066 2046     		mov	r0, r4
 434 0068 FFF7FEFF 		bl	tcp_output
 435              	.LVL53:
 436 006c E7E7     		b	.L45
 437              	.L57:
 451:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* We have to return ERR_OK from here to indicate to the callers that this
 438              		.loc 1 451 0
 439 006e 638B     		ldrh	r3, [r4, #26]
 440 0070 43F00803 		orr	r3, r3, #8
 441 0074 6383     		strh	r3, [r4, #26]	@ movhi
 457:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 442              		.loc 1 457 0
 443 0076 0025     		movs	r5, #0
 444              	.LVL54:
 445 0078 E1E7     		b	.L45
 446              	.L59:
 447 007a 00BF     		.align	2
 448              	.L58:
 449 007c 00000000 		.word	.LC0
 450 0080 00000000 		.word	.LC3
 451 0084 54000000 		.word	.LC2
 452              		.cfi_endproc
 453              	.LFE165:
 455              		.section	.text.tcp_handle_closepend,"ax",%progbits
 456              		.align	1
 457              		.syntax unified
 458              		.thumb
 459              		.thumb_func
 460              		.fpu fpv5-d16
 462              	tcp_handle_closepend:
 463              	.LFB191:
ARM GAS  /tmp/ccX62RBj.s 			page 28


1036:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1037:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1038:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
1039:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Connects to another host. The function given as the "connected"
1040:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * argument will be called when the connection has been established.
1041:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *  Sets up the pcb to connect to the remote host and sends the
1042:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * initial SYN segment which opens the connection. 
1043:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1044:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The tcp_connect() function returns immediately; it does not wait for
1045:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the connection to be properly setup. Instead, it will call the
1046:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * function specified as the fourth argument (the "connected" argument)
1047:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * when the connection is established. If the connection could not be
1048:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * properly established, either because the other host refused the
1049:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * connection or because the other host didn't answer, the "err"
1050:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * callback function of this pcb (registered with tcp_err, see below)
1051:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * will be called.
1052:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1053:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The tcp_connect() function can return ERR_MEM if no memory is
1054:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * available for enqueueing the SYN segment. If the SYN indeed was
1055:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * enqueued successfully, the tcp_connect() function returns ERR_OK.
1056:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1057:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb used to establish the connection
1058:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param ipaddr the remote ip address to connect to
1059:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param port the remote tcp port to connect to
1060:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param connected callback function to call when connected (on error,
1061:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                     the err calback will be called)
1062:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return ERR_VAL if invalid arguments are given
1063:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         ERR_OK if connect request has been sent
1064:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         other err_t values if connect request couldn't be sent
1065:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1066:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
1067:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_connect(struct tcp_pcb *pcb, const ip_addr_t *ipaddr, u16_t port,
1068:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             tcp_connected_fn connected)
1069:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1070:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct netif *netif = NULL;
1071:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err_t ret;
1072:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t iss;
1073:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u16_t old_local_port;
1074:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1075:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
1076:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1077:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_connect: invalid pcb", pcb != NULL, return ERR_ARG);
1078:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_connect: invalid ipaddr", ipaddr != NULL, return ERR_ARG);
1079:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1080:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_connect: can only connect from state CLOSED", pcb->state == CLOSED, return ERR_IS
1081:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1082:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_connect to port %"U16_F"\n", port));
1083:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ip_addr_set(&pcb->remote_ip, ipaddr);
1084:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->remote_port = port;
1085:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1086:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->netif_idx != NETIF_NO_INDEX) {
1087:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     netif = netif_get_by_index(pcb->netif_idx);
1088:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
1089:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* check if we have a route to the remote host */
1090:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     netif = ip_route(&pcb->local_ip, &pcb->remote_ip);
1091:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1092:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (netif == NULL) {
ARM GAS  /tmp/ccX62RBj.s 			page 29


1093:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Don't even try to send a SYN packet if we have no route since that will fail. */
1094:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return ERR_RTE;
1095:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1096:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1097:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* check if local IP has been assigned to pcb, if not, get one */
1098:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ip_addr_isany(&pcb->local_ip)) {
1099:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     const ip_addr_t *local_ip = ip_netif_get_local_ip(netif, ipaddr);
1100:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (local_ip == NULL) {
1101:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_RTE;
1102:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1103:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ip_addr_copy(pcb->local_ip, *local_ip);
1104:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1105:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1106:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV6 && LWIP_IPV6_SCOPES
1107:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* If the given IP address should have a zone but doesn't, assign one now.
1108:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * Given that we already have the target netif, this is easy and cheap. */
1109:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (IP_IS_V6(&pcb->remote_ip) &&
1110:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ip6_addr_lacks_zone(ip_2_ip6(&pcb->remote_ip), IP6_UNICAST)) {
1111:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ip6_addr_assign_zone(ip_2_ip6(&pcb->remote_ip), IP6_UNICAST, netif);
1112:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1113:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV6 && LWIP_IPV6_SCOPES */
1114:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1115:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   old_local_port = pcb->local_port;
1116:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->local_port == 0) {
1117:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->local_port = tcp_new_port();
1118:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->local_port == 0) {
1119:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_BUF;
1120:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1121:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
1122:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if SO_REUSE
1123:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (ip_get_option(pcb, SOF_REUSEADDR)) {
1124:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Since SOF_REUSEADDR allows reusing a local address, we have to make sure
1125:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          now that the 5-tuple is unique. */
1126:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *cpcb;
1127:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       int i;
1128:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Don't check listen- and bound-PCBs, check active- and TIME-WAIT PCBs. */
1129:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       for (i = 2; i < NUM_TCP_PCB_LISTS; i++) {
1130:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         for (cpcb = *tcp_pcb_lists[i]; cpcb != NULL; cpcb = cpcb->next) {
1131:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if ((cpcb->local_port == pcb->local_port) &&
1132:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               (cpcb->remote_port == port) &&
1133:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               ip_addr_cmp(&cpcb->local_ip, &pcb->local_ip) &&
1134:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               ip_addr_cmp(&cpcb->remote_ip, ipaddr)) {
1135:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* linux returns EISCONN here, but ERR_USE should be OK for us */
1136:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             return ERR_USE;
1137:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
1138:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1139:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1140:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1141:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* SO_REUSE */
1142:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1143:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1144:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   iss = tcp_next_iss(pcb);
1145:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->rcv_nxt = 0;
1146:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_nxt = iss;
1147:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->lastack = iss - 1;
1148:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_wl2 = iss - 1;
1149:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_lbb = iss - 1;
ARM GAS  /tmp/ccX62RBj.s 			page 30


1150:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Start with a window that does not need scaling. When window scaling is
1151:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      enabled and used, the window is enlarged when both sides agree on scaling. */
1152:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->rcv_wnd = pcb->rcv_ann_wnd = TCPWND_MIN16(TCP_WND);
1153:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->rcv_ann_right_edge = pcb->rcv_nxt;
1154:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_wnd = TCP_WND;
1155:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* As initial send MSS, we use TCP_MSS but limit it to 536.
1156:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      The send MSS is updated when an MSS option is received. */
1157:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->mss = INITIAL_MSS;
1158:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_CALCULATE_EFF_SEND_MSS
1159:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->mss = tcp_eff_send_mss_netif(pcb->mss, netif, &pcb->remote_ip);
1160:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
1161:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->cwnd = 1;
1162:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
1163:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->connected = connected;
1164:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* LWIP_CALLBACK_API */
1165:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(connected);
1166:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
1167:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1168:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Send a SYN together with the MSS option. */
1169:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ret = tcp_enqueue_flags(pcb, TCP_SYN);
1170:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ret == ERR_OK) {
1171:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* SYN segment was enqueued, changed the pcbs state now */
1172:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->state = SYN_SENT;
1173:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (old_local_port != 0) {
1174:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_RMV(&tcp_bound_pcbs, pcb);
1175:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1176:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_REG_ACTIVE(pcb);
1177:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     MIB2_STATS_INC(mib2.tcpactiveopens);
1178:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1179:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_output(pcb);
1180:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1181:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ret;
1182:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1183:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1184:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1185:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Called every 500 ms and implements the retransmission timer and the timer that
1186:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * removes PCBs that have been in TIME-WAIT for enough time. It also increments
1187:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * various timers such as the inactivity timer in each PCB.
1188:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1189:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Automatically called from tcp_tmr().
1190:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1191:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1192:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_slowtmr(void)
1193:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1194:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *prev;
1195:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcpwnd_size_t eff_wnd;
1196:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u8_t pcb_remove;      /* flag if a PCB should be removed */
1197:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u8_t pcb_reset;       /* flag if a RST should be sent when removing */
1198:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err_t err;
1199:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1200:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err = ERR_OK;
1201:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1202:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ++tcp_ticks;
1203:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ++tcp_timer_ctr;
1204:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1205:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_slowtmr_start:
1206:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Steps through all of the active PCBs. */
ARM GAS  /tmp/ccX62RBj.s 			page 31


1207:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   prev = NULL;
1208:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = tcp_active_pcbs;
1209:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb == NULL) {
1210:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: no active pcbs\n"));
1211:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1212:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb != NULL) {
1213:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: processing active pcb\n"));
1214:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: active pcb->state != CLOSED\n", pcb->state != CLOSED);
1215:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: active pcb->state != LISTEN\n", pcb->state != LISTEN);
1216:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: active pcb->state != TIME-WAIT\n", pcb->state != TIME_WAIT);
1217:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->last_timer == tcp_timer_ctr) {
1218:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* skip this pcb, we have already processed it */
1219:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       prev = pcb;
1220:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
1221:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       continue;
1222:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1223:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->last_timer = tcp_timer_ctr;
1224:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1225:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb_remove = 0;
1226:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb_reset = 0;
1227:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1228:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == SYN_SENT && pcb->nrtx >= TCP_SYNMAXRTX) {
1229:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
1230:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: max SYN retries reached\n"));
1231:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else if (pcb->nrtx >= TCP_MAXRTX) {
1232:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
1233:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: max DATA retries reached\n"));
1234:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
1235:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->persist_backoff > 0) {
1236:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtimr: persist ticking with in-flight data", pcb->unacked == NULL);
1237:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtimr: persist ticking with empty send buffer", pcb->unsent != NULL);
1238:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb->persist_probe >= TCP_MAXRTX) {
1239:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ++pcb_remove; /* max probes reached */
1240:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         } else {
1241:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           u8_t backoff_cnt = tcp_persist_backoff[pcb->persist_backoff - 1];
1242:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (pcb->persist_cnt < backoff_cnt) {
1243:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->persist_cnt++;
1244:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
1245:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (pcb->persist_cnt >= backoff_cnt) {
1246:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             int next_slot = 1; /* increment timer to next slot */
1247:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* If snd_wnd is zero, send 1 byte probes */
1248:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             if (pcb->snd_wnd == 0) {
1249:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               if (tcp_zero_window_probe(pcb) != ERR_OK) {
1250:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 next_slot = 0; /* try probe again with current slot */
1251:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               }
1252:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               /* snd_wnd not fully closed, split unsent head and fill window */
1253:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             } else {
1254:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               if (tcp_split_unsent_seg(pcb, (u16_t)pcb->snd_wnd) == ERR_OK) {
1255:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 if (tcp_output(pcb) == ERR_OK) {
1256:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                   /* sending will cancel persist timer, else retry with current slot */
1257:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                   next_slot = 0;
1258:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 }
1259:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               }
1260:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
1261:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             if (next_slot) {
1262:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->persist_cnt = 0;
1263:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               if (pcb->persist_backoff < sizeof(tcp_persist_backoff)) {
ARM GAS  /tmp/ccX62RBj.s 			page 32


1264:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 pcb->persist_backoff++;
1265:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               }
1266:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
1267:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
1268:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1269:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
1270:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* Increase the retransmission timer if it is running */
1271:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if ((pcb->rtime >= 0) && (pcb->rtime < 0x7FFF)) {
1272:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ++pcb->rtime;
1273:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1274:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb->rtime >= pcb->rto) {
1276:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Time for a retransmission. */
1277:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           LWIP_DEBUGF(TCP_RTO_DEBUG, ("tcp_slowtmr: rtime %"S16_F
1278:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                                       " pcb->rto %"S16_F"\n",
1279:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                                       pcb->rtime, pcb->rto));
1280:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* If prepare phase fails but we have unsent data but no unacked data,
1281:Middlewares/Third_Party/LwIP/src/core/tcp.c ****              still execute the backoff calculations below, as this means we somehow
1282:Middlewares/Third_Party/LwIP/src/core/tcp.c ****              failed to send segment. */
1283:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if ((tcp_rexmit_rto_prepare(pcb) == ERR_OK) || ((pcb->unacked == NULL) && (pcb->unsent !=
1284:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* Double retransmission time-out unless we are trying to
1285:Middlewares/Third_Party/LwIP/src/core/tcp.c ****              * connect to somebody (i.e., we are in SYN_SENT). */
1286:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             if (pcb->state != SYN_SENT) {
1287:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               u8_t backoff_idx = LWIP_MIN(pcb->nrtx, sizeof(tcp_backoff) - 1);
1288:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               int calc_rto = ((pcb->sa >> 3) + pcb->sv) << tcp_backoff[backoff_idx];
1289:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->rto = (s16_t)LWIP_MIN(calc_rto, 0x7FFF);
1290:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
1291:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1292:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* Reset the retransmission timer. */
1293:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->rtime = 0;
1294:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1295:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* Reduce congestion window and ssthresh. */
1296:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             eff_wnd = LWIP_MIN(pcb->cwnd, pcb->snd_wnd);
1297:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->ssthresh = eff_wnd >> 1;
1298:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             if (pcb->ssthresh < (tcpwnd_size_t)(pcb->mss << 1)) {
1299:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->ssthresh = (tcpwnd_size_t)(pcb->mss << 1);
1300:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
1301:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->cwnd = pcb->mss;
1302:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_slowtmr: cwnd %"TCPWNDSIZE_F
1303:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                                          " ssthresh %"TCPWNDSIZE_F"\n",
1304:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                                          pcb->cwnd, pcb->ssthresh));
1305:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->bytes_acked = 0;
1306:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1307:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* The following needs to be called AFTER cwnd is set to one
1308:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                mss - STJ */
1309:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             tcp_rexmit_rto_commit(pcb);
1310:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
1311:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1312:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1313:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1314:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if this PCB has stayed too long in FIN-WAIT-2 */
1315:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == FIN_WAIT_2) {
1316:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* If this PCB is in FIN_WAIT_2 because of SHUT_WR don't let it time out. */
1317:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->flags & TF_RXCLOSED) {
1318:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* PCB was fully closed (either through close() or SHUT_RDWR):
1319:Middlewares/Third_Party/LwIP/src/core/tcp.c ****            normal FIN-WAIT timeout handling. */
1320:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if ((u32_t)(tcp_ticks - pcb->tmr) >
ARM GAS  /tmp/ccX62RBj.s 			page 33


1321:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             TCP_FIN_WAIT_TIMEOUT / TCP_SLOW_INTERVAL) {
1322:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ++pcb_remove;
1323:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: removing pcb stuck in FIN-WAIT-2\n"));
1324:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1325:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1326:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1327:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1328:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if KEEPALIVE should be sent */
1329:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (ip_get_option(pcb, SOF_KEEPALIVE) &&
1330:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ((pcb->state == ESTABLISHED) ||
1331:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          (pcb->state == CLOSE_WAIT))) {
1332:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) >
1333:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           (pcb->keep_idle + TCP_KEEP_DUR(pcb)) / TCP_SLOW_INTERVAL) {
1334:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: KEEPALIVE timeout. Aborting connection to "));
1335:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ip_addr_debug_print_val(TCP_DEBUG, pcb->remote_ip);
1336:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("\n"));
1337:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1338:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ++pcb_remove;
1339:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ++pcb_reset;
1340:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else if ((u32_t)(tcp_ticks - pcb->tmr) >
1341:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                  (pcb->keep_idle + pcb->keep_cnt_sent * TCP_KEEP_INTVL(pcb))
1342:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                  / TCP_SLOW_INTERVAL) {
1343:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         err = tcp_keepalive(pcb);
1344:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_OK) {
1345:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb->keep_cnt_sent++;
1346:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1347:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1348:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1349:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1350:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* If this PCB has queued out of sequence data, but has been
1351:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        inactive for too long, will drop the data (it will eventually
1352:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        be retransmitted). */
1353:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
1354:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->ooseq != NULL &&
1355:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         (tcp_ticks - pcb->tmr >= (u32_t)pcb->rto * TCP_OOSEQ_TIMEOUT)) {
1356:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_slowtmr: dropping OOSEQ queued data\n"));
1357:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free_ooseq(pcb);
1358:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1359:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
1360:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1361:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if this PCB has stayed too long in SYN-RCVD */
1362:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == SYN_RCVD) {
1363:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) >
1364:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           TCP_SYN_RCVD_TIMEOUT / TCP_SLOW_INTERVAL) {
1365:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ++pcb_remove;
1366:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: removing pcb stuck in SYN-RCVD\n"));
1367:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1368:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1369:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1370:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if this PCB has stayed too long in LAST-ACK */
1371:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == LAST_ACK) {
1372:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) > 2 * TCP_MSL / TCP_SLOW_INTERVAL) {
1373:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ++pcb_remove;
1374:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: removing pcb stuck in LAST-ACK\n"));
1375:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1376:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1377:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
ARM GAS  /tmp/ccX62RBj.s 			page 34


1378:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* If the PCB should be removed, do it. */
1379:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb_remove) {
1380:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *pcb2;
1381:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
1382:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_err_fn err_fn = pcb->errf;
1383:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
1384:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       void *err_arg;
1385:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       enum tcp_state last_state;
1386:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_pcb_purge(pcb);
1387:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Remove PCB from tcp_active_pcbs list. */
1388:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (prev != NULL) {
1389:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtmr: middle tcp != tcp_active_pcbs", pcb != tcp_active_pcbs);
1390:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         prev->next = pcb->next;
1391:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
1392:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* This PCB was the first. */
1393:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtmr: first pcb == tcp_active_pcbs", tcp_active_pcbs == pcb);
1394:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_active_pcbs = pcb->next;
1395:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1396:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1397:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb_reset) {
1398:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_rst(pcb, pcb->snd_nxt, pcb->rcv_nxt, &pcb->local_ip, &pcb->remote_ip,
1399:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 pcb->local_port, pcb->remote_port);
1400:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1401:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1402:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       err_arg = pcb->callback_arg;
1403:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       last_state = pcb->state;
1404:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb2 = pcb;
1405:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
1406:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free(pcb2);
1407:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1408:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_active_pcbs_changed = 0;
1409:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_EVENT_ERR(last_state, err_fn, err_arg, ERR_ABRT);
1410:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (tcp_active_pcbs_changed) {
1411:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         goto tcp_slowtmr_start;
1412:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1413:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
1414:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* get the 'next' element now and work with 'prev' below (in case of abort) */
1415:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       prev = pcb;
1416:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
1417:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1418:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* We check if we should poll the connection. */
1419:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++prev->polltmr;
1420:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (prev->polltmr >= prev->pollinterval) {
1421:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         prev->polltmr = 0;
1422:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: polling application\n"));
1423:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_active_pcbs_changed = 0;
1424:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         TCP_EVENT_POLL(prev, err);
1425:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (tcp_active_pcbs_changed) {
1426:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           goto tcp_slowtmr_start;
1427:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1428:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* if err == ERR_ABRT, 'prev' is already deallocated */
1429:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_OK) {
1430:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           tcp_output(prev);
1431:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1432:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1433:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1434:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
ARM GAS  /tmp/ccX62RBj.s 			page 35


1435:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1436:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1437:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Steps through all of the TIME-WAIT PCBs. */
1438:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   prev = NULL;
1439:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = tcp_tw_pcbs;
1440:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb != NULL) {
1441:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
1442:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb_remove = 0;
1443:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1444:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if this PCB has stayed long enough in TIME-WAIT */
1445:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((u32_t)(tcp_ticks - pcb->tmr) > 2 * TCP_MSL / TCP_SLOW_INTERVAL) {
1446:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
1447:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1448:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1449:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* If the PCB should be removed, do it. */
1450:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb_remove) {
1451:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *pcb2;
1452:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_pcb_purge(pcb);
1453:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Remove PCB from tcp_tw_pcbs list. */
1454:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (prev != NULL) {
1455:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtmr: middle tcp != tcp_tw_pcbs", pcb != tcp_tw_pcbs);
1456:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         prev->next = pcb->next;
1457:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
1458:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* This PCB was the first. */
1459:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtmr: first pcb == tcp_tw_pcbs", tcp_tw_pcbs == pcb);
1460:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_tw_pcbs = pcb->next;
1461:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1462:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb2 = pcb;
1463:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
1464:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free(pcb2);
1465:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
1466:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       prev = pcb;
1467:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
1468:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1469:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1470:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1471:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1472:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1473:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Is called every TCP_FAST_INTERVAL (250 ms) and process data previously
1474:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * "refused" by upper layer (application) and sends delayed ACKs or pending FINs.
1475:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1476:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Automatically called from tcp_tmr().
1477:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1478:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1479:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_fasttmr(void)
1480:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1481:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
1482:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1483:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ++tcp_timer_ctr;
1484:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1485:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_fasttmr_start:
1486:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = tcp_active_pcbs;
1487:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1488:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb != NULL) {
1489:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->last_timer != tcp_timer_ctr) {
1490:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *next;
1491:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->last_timer = tcp_timer_ctr;
ARM GAS  /tmp/ccX62RBj.s 			page 36


1492:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* send delayed ACKs */
1493:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->flags & TF_ACK_DELAY) {
1494:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_fasttmr: delayed ACK\n"));
1495:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_ack_now(pcb);
1496:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_output(pcb);
1497:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_clear_flags(pcb, TF_ACK_DELAY | TF_ACK_NOW);
1498:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1499:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* send pending FIN */
1500:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->flags & TF_CLOSEPEND) {
1501:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_fasttmr: pending FIN\n"));
1502:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_clear_flags(pcb, TF_CLOSEPEND);
1503:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_close_shutdown_fin(pcb);
1504:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1505:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1506:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       next = pcb->next;
1507:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1508:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* If there is data which was previously "refused" by upper layer */
1509:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->refused_data != NULL) {
1510:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_active_pcbs_changed = 0;
1511:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_process_refused_data(pcb);
1512:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (tcp_active_pcbs_changed) {
1513:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* application callback has changed the pcb list: restart the loop */
1514:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           goto tcp_fasttmr_start;
1515:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1516:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1517:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = next;
1518:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
1519:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
1520:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1521:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1522:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1523:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1524:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Call tcp_output for all active pcbs that have TF_NAGLEMEMERR set */
1525:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1526:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_txnow(void)
1527:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1528:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
1529:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1530:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (pcb = tcp_active_pcbs; pcb != NULL; pcb = pcb->next) {
1531:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->flags & TF_NAGLEMEMERR) {
1532:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_output(pcb);
1533:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1534:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1535:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1536:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1537:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Pass pcb->refused_data to the recv callback */
1538:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
1539:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_process_refused_data(struct tcp_pcb *pcb)
1540:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1541:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1542:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct pbuf *rest;
1543:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1544:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1545:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_process_refused_data: invalid pcb", pcb != NULL, return ERR_ARG);
1546:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1547:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1548:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb->refused_data != NULL)
ARM GAS  /tmp/ccX62RBj.s 			page 37


1549:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1550:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   {
1551:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     err_t err;
1552:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     u8_t refused_flags = pcb->refused_data->flags;
1553:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* set pcb->refused_data to NULL in case the callback frees it and then
1554:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        closes the pcb */
1555:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct pbuf *refused_data = pcb->refused_data;
1556:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1557:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pbuf_split_64k(refused_data, &rest);
1558:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->refused_data = rest;
1559:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1560:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->refused_data = NULL;
1561:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1562:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Notify again application with data previously received. */
1563:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: notify kept packet\n"));
1564:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_EVENT_RECV(pcb, refused_data, ERR_OK, err);
1565:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (err == ERR_OK) {
1566:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* did refused_data include a FIN? */
1567:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((refused_flags & PBUF_FLAG_TCP_FIN)
1568:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1569:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           && (rest == NULL)
1570:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1571:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          ) {
1572:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* correct rcv_wnd as the application won't call tcp_recved()
1573:Middlewares/Third_Party/LwIP/src/core/tcp.c ****            for the FIN's seqno */
1574:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb->rcv_wnd != TCP_WND_MAX(pcb)) {
1575:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb->rcv_wnd++;
1576:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1577:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         TCP_EVENT_CLOSED(pcb, err);
1578:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_ABRT) {
1579:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           return ERR_ABRT;
1580:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1581:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1582:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else if (err == ERR_ABRT) {
1583:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* if err == ERR_ABRT, 'pcb' is already deallocated */
1584:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Drop incoming packets because pcb is "full" (only if the incoming
1585:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          segment contains data). */
1586:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: drop incoming packets, because pcb is \"full\"\n"))
1587:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_ABRT;
1588:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
1589:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* data is still refused, pbuf is still valid (go on for ACK-only packets) */
1590:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1591:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (rest != NULL) {
1592:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         pbuf_cat(refused_data, rest);
1593:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1594:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1595:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->refused_data = refused_data;
1596:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_INPROGRESS;
1597:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1598:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1599:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_OK;
1600:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1601:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1602:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1603:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Deallocates a list of TCP segments (tcp_seg structures).
1604:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1605:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param seg tcp_seg list of TCP segments to free
ARM GAS  /tmp/ccX62RBj.s 			page 38


1606:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1607:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1608:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_segs_free(struct tcp_seg *seg)
1609:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1610:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (seg != NULL) {
1611:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct tcp_seg *next = seg->next;
1612:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_seg_free(seg);
1613:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     seg = next;
1614:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1615:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1616:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1617:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1618:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Frees a TCP segment (tcp_seg structure).
1619:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1620:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param seg single tcp_seg to free
1621:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1622:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1623:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_seg_free(struct tcp_seg *seg)
1624:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1625:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (seg != NULL) {
1626:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (seg->p != NULL) {
1627:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pbuf_free(seg->p);
1628:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_DEBUG
1629:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       seg->p = NULL;
1630:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_DEBUG */
1631:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1632:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     memp_free(MEMP_TCP_SEG, seg);
1633:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1634:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1635:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1636:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1637:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp
1638:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Sets the priority of a connection.
1639:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1640:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to manipulate
1641:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param prio new priority
1642:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1643:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1644:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_setprio(struct tcp_pcb *pcb, u8_t prio)
1645:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1646:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
1647:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1648:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_setprio: invalid pcb", pcb != NULL, return);
1649:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1650:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->prio = prio;
1651:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1652:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1653:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
1654:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1655:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Returns a copy of the given TCP segment.
1656:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The pbuf and data are not copied, only the pointers
1657:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1658:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param seg the old tcp_seg
1659:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return a copy of seg
1660:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1661:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_seg *
1662:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_seg_copy(struct tcp_seg *seg)
ARM GAS  /tmp/ccX62RBj.s 			page 39


1663:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1664:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_seg *cseg;
1665:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1666:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_seg_copy: invalid seg", seg != NULL);
1667:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1668:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   cseg = (struct tcp_seg *)memp_malloc(MEMP_TCP_SEG);
1669:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (cseg == NULL) {
1670:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return NULL;
1671:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1672:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   SMEMCPY((u8_t *)cseg, (const u8_t *)seg, sizeof(struct tcp_seg));
1673:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pbuf_ref(cseg->p);
1674:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return cseg;
1675:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1676:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
1677:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1678:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
1679:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1680:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Default receive callback that is called if the user didn't register
1681:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * a recv callback for the pcb.
1682:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1683:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
1684:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_recv_null(void *arg, struct tcp_pcb *pcb, struct pbuf *p, err_t err)
1685:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1686:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(arg);
1687:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1688:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_recv_null: invalid pcb", pcb != NULL, return ERR_ARG);
1689:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1690:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (p != NULL) {
1691:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_recved(pcb, p->tot_len);
1692:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pbuf_free(p);
1693:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else if (err == ERR_OK) {
1694:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return tcp_close(pcb);
1695:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1696:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_OK;
1697:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1698:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
1699:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1700:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1701:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Kills the oldest active connection that has a lower priority than 'prio'.
1702:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1703:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param prio minimum priority
1704:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1705:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
1706:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_kill_prio(u8_t prio)
1707:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1708:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *inactive;
1709:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t inactivity;
1710:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u8_t mprio;
1711:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1712:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   mprio = LWIP_MIN(TCP_PRIO_MAX, prio);
1713:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1714:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* We want to kill connections with a lower prio, so bail out if 
1715:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * supplied prio is 0 - there can never be a lower prio
1716:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    */
1717:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (mprio == 0) {
1718:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return;
1719:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
ARM GAS  /tmp/ccX62RBj.s 			page 40


1720:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1721:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* We only want kill connections with a lower prio, so decrement prio by one 
1722:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * and start searching for oldest connection with same or lower priority than mprio.
1723:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * We want to find the connections with the lowest possible prio, and among
1724:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * these the one with the longest inactivity time.
1725:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    */
1726:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   mprio--;
1727:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1728:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactivity = 0;
1729:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactive = NULL;
1730:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (pcb = tcp_active_pcbs; pcb != NULL; pcb = pcb->next) {
1731:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* lower prio is always a kill candidate */
1732:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((pcb->prio < mprio) ||
1733:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* longer inactivity is also a kill candidate */
1734:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ((pcb->prio == mprio) && ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity))) {
1735:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactivity = tcp_ticks - pcb->tmr;
1736:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactive   = pcb;
1737:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       mprio      = pcb->prio;
1738:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1739:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1740:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (inactive != NULL) {
1741:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_kill_prio: killing oldest PCB %p (%"S32_F")\n",
1742:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                             (void *)inactive, inactivity));
1743:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_abort(inactive);
1744:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1745:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1746:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1747:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1748:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Kills the oldest connection that is in specific state.
1749:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Called from tcp_alloc() for LAST_ACK and CLOSING if no more connections are available.
1750:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1751:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
1752:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_kill_state(enum tcp_state state)
1753:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1754:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *inactive;
1755:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t inactivity;
1756:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1757:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("invalid state", (state == CLOSING) || (state == LAST_ACK));
1758:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1759:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactivity = 0;
1760:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactive = NULL;
1761:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Go through the list of active pcbs and get the oldest pcb that is in state
1762:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      CLOSING/LAST_ACK. */
1763:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (pcb = tcp_active_pcbs; pcb != NULL; pcb = pcb->next) {
1764:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == state) {
1765:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
1766:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         inactivity = tcp_ticks - pcb->tmr;
1767:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         inactive = pcb;
1768:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1769:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1770:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1771:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (inactive != NULL) {
1772:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_kill_closing: killing oldest %s PCB %p (%"S32_F")\n",
1773:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                             tcp_state_str[state], (void *)inactive, inactivity));
1774:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Don't send a RST, since no data is lost. */
1775:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_abandon(inactive, 0);
1776:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
ARM GAS  /tmp/ccX62RBj.s 			page 41


1777:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1778:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1779:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1780:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Kills the oldest connection that is in TIME_WAIT state.
1781:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Called from tcp_alloc() if no more connections are available.
1782:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1783:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
1784:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_kill_timewait(void)
1785:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1786:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *inactive;
1787:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t inactivity;
1788:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1789:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactivity = 0;
1790:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactive = NULL;
1791:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Go through the list of TIME_WAIT pcbs and get the oldest pcb. */
1792:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (pcb = tcp_tw_pcbs; pcb != NULL; pcb = pcb->next) {
1793:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
1794:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactivity = tcp_ticks - pcb->tmr;
1795:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactive = pcb;
1796:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1797:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1798:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (inactive != NULL) {
1799:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_kill_timewait: killing oldest TIME-WAIT PCB %p (%"S32_F")\n",
1800:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                             (void *)inactive, inactivity));
1801:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_abort(inactive);
1802:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1803:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1804:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1805:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* Called when allocating a pcb fails.
1806:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * In this case, we want to handle all pcbs that want to close first: if we can
1807:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * now send the FIN (which failed before), the pcb might be in a state that is
1808:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * OK for us to now free it.
1809:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1810:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
1811:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_handle_closepend(void)
1812:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 464              		.loc 1 1812 0
 465              		.cfi_startproc
 466              		@ args = 0, pretend = 0, frame = 0
 467              		@ frame_needed = 0, uses_anonymous_args = 0
1813:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb = tcp_active_pcbs;
 468              		.loc 1 1813 0
 469 0000 094B     		ldr	r3, .L69
 470 0002 1868     		ldr	r0, [r3]
 471              	.LVL55:
1814:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1815:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb != NULL) {
 472              		.loc 1 1815 0
 473 0004 78B1     		cbz	r0, .L67
1812:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb = tcp_active_pcbs;
 474              		.loc 1 1812 0
 475 0006 10B5     		push	{r4, lr}
 476              	.LCFI7:
 477              		.cfi_def_cfa_offset 8
 478              		.cfi_offset 4, -8
 479              		.cfi_offset 14, -4
 480 0008 01E0     		b	.L63
ARM GAS  /tmp/ccX62RBj.s 			page 42


 481              	.LVL56:
 482              	.L62:
1812:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb = tcp_active_pcbs;
 483              		.loc 1 1812 0
 484 000a 2046     		mov	r0, r4
 485              	.LVL57:
 486              		.loc 1 1815 0
 487 000c 54B1     		cbz	r4, .L68
 488              	.LVL58:
 489              	.L63:
 490              	.LBB2:
1816:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct tcp_pcb *next = pcb->next;
 491              		.loc 1 1816 0
 492 000e C468     		ldr	r4, [r0, #12]
 493              	.LVL59:
1817:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* send pending FIN */
1818:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->flags & TF_CLOSEPEND) {
 494              		.loc 1 1818 0
 495 0010 438B     		ldrh	r3, [r0, #26]
 496 0012 13F0080F 		tst	r3, #8
 497 0016 F8D0     		beq	.L62
1819:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_handle_closepend: pending FIN\n"));
1820:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_clear_flags(pcb, TF_CLOSEPEND);
 498              		.loc 1 1820 0
 499 0018 23F00803 		bic	r3, r3, #8
 500 001c 4383     		strh	r3, [r0, #26]	@ movhi
1821:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_close_shutdown_fin(pcb);
 501              		.loc 1 1821 0
 502 001e FFF7FEFF 		bl	tcp_close_shutdown_fin
 503              	.LVL60:
 504 0022 F2E7     		b	.L62
 505              	.LVL61:
 506              	.L68:
 507              	.LBE2:
1822:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1823:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb = next;
1824:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1825:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 508              		.loc 1 1825 0
 509 0024 10BD     		pop	{r4, pc}
 510              	.LVL62:
 511              	.L67:
 512              	.LCFI8:
 513              		.cfi_def_cfa_offset 0
 514              		.cfi_restore 4
 515              		.cfi_restore 14
 516 0026 7047     		bx	lr
 517              	.L70:
 518              		.align	2
 519              	.L69:
 520 0028 00000000 		.word	tcp_active_pcbs
 521              		.cfi_endproc
 522              	.LFE191:
 524              		.section	.text.tcp_init,"ax",%progbits
 525              		.align	1
 526              		.global	tcp_init
 527              		.syntax unified
ARM GAS  /tmp/ccX62RBj.s 			page 43


 528              		.thumb
 529              		.thumb_func
 530              		.fpu fpv5-d16
 532              	tcp_init:
 533              	.LFB158:
 202:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #ifdef LWIP_RAND
 534              		.loc 1 202 0
 535              		.cfi_startproc
 536              		@ args = 0, pretend = 0, frame = 0
 537              		@ frame_needed = 0, uses_anonymous_args = 0
 538 0000 08B5     		push	{r3, lr}
 539              	.LCFI9:
 540              		.cfi_def_cfa_offset 8
 541              		.cfi_offset 3, -8
 542              		.cfi_offset 14, -4
 204:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_RAND */
 543              		.loc 1 204 0
 544 0002 FFF7FEFF 		bl	rand
 545              	.LVL63:
 546 0006 024B     		ldr	r3, .L73
 547 0008 0343     		orrs	r3, r3, r0
 548 000a 024A     		ldr	r2, .L73+4
 549 000c 1380     		strh	r3, [r2]	@ movhi
 550 000e 08BD     		pop	{r3, pc}
 551              	.L74:
 552              		.align	2
 553              	.L73:
 554 0010 00C0FFFF 		.word	-16384
 555 0014 00000000 		.word	.LANCHOR0
 556              		.cfi_endproc
 557              	.LFE158:
 559              		.section	.text.tcp_free,"ax",%progbits
 560              		.align	1
 561              		.global	tcp_free
 562              		.syntax unified
 563              		.thumb
 564              		.thumb_func
 565              		.fpu fpv5-d16
 567              	tcp_free:
 568              	.LFB159:
 211:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_free: LISTEN", pcb->state != LISTEN);
 569              		.loc 1 211 0
 570              		.cfi_startproc
 571              		@ args = 0, pretend = 0, frame = 0
 572              		@ frame_needed = 0, uses_anonymous_args = 0
 573              	.LVL64:
 574 0000 10B5     		push	{r4, lr}
 575              	.LCFI10:
 576              		.cfi_def_cfa_offset 8
 577              		.cfi_offset 4, -8
 578              		.cfi_offset 14, -4
 579 0002 0446     		mov	r4, r0
 212:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_PCB_NUM_EXT_ARGS
 580              		.loc 1 212 0
 581 0004 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 582 0006 012B     		cmp	r3, #1
 583 0008 04D0     		beq	.L78
ARM GAS  /tmp/ccX62RBj.s 			page 44


 584              	.LVL65:
 585              	.L76:
 216:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 586              		.loc 1 216 0
 587 000a 2146     		mov	r1, r4
 588 000c 0120     		movs	r0, #1
 589 000e FFF7FEFF 		bl	memp_free
 590              	.LVL66:
 591 0012 10BD     		pop	{r4, pc}
 592              	.LVL67:
 593              	.L78:
 212:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_PCB_NUM_EXT_ARGS
 594              		.loc 1 212 0 discriminator 1
 595 0014 034B     		ldr	r3, .L79
 596 0016 D422     		movs	r2, #212
 597 0018 0349     		ldr	r1, .L79+4
 598 001a 0448     		ldr	r0, .L79+8
 599              	.LVL68:
 600 001c FFF7FEFF 		bl	printf
 601              	.LVL69:
 602 0020 F3E7     		b	.L76
 603              	.L80:
 604 0022 00BF     		.align	2
 605              	.L79:
 606 0024 00000000 		.word	.LC0
 607 0028 00000000 		.word	.LC6
 608 002c 54000000 		.word	.LC2
 609              		.cfi_endproc
 610              	.LFE159:
 612              		.section	.text.tcp_bind,"ax",%progbits
 613              		.align	1
 614              		.global	tcp_bind
 615              		.syntax unified
 616              		.thumb
 617              		.thumb_func
 618              		.fpu fpv5-d16
 620              	tcp_bind:
 621              	.LFB170:
 662:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   int i;
 622              		.loc 1 662 0
 623              		.cfi_startproc
 624              		@ args = 0, pretend = 0, frame = 0
 625              		@ frame_needed = 0, uses_anonymous_args = 0
 626              	.LVL70:
 627 0000 70B5     		push	{r4, r5, r6, lr}
 628              	.LCFI11:
 629              		.cfi_def_cfa_offset 16
 630              		.cfi_offset 4, -16
 631              		.cfi_offset 5, -12
 632              		.cfi_offset 6, -8
 633              		.cfi_offset 14, -4
 634 0002 0546     		mov	r5, r0
 635              	.LVL71:
 674:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ipaddr = IP4_ADDR_ANY;
 636              		.loc 1 674 0
 637 0004 0C46     		mov	r4, r1
 638 0006 59B1     		cbz	r1, .L102
ARM GAS  /tmp/ccX62RBj.s 			page 45


 639              	.L82:
 640              	.LVL72:
 681:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 641              		.loc 1 681 0
 642 0008 65B1     		cbz	r5, .L103
 683:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 643              		.loc 1 683 0
 644 000a 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 645 000c A3B9     		cbnz	r3, .L104
 708:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     port = tcp_new_port();
 646              		.loc 1 708 0
 647 000e EAB1     		cbz	r2, .L105
 648 0010 0026     		movs	r6, #0
 649              	.LVL73:
 650              	.L86:
 715:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       for (cpcb = *tcp_pcb_lists[i]; cpcb != NULL; cpcb = cpcb->next) {
 651              		.loc 1 715 0 discriminator 1
 652 0012 032E     		cmp	r6, #3
 653 0014 1EDC     		bgt	.L87
 716:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (cpcb->local_port == port) {
 654              		.loc 1 716 0
 655 0016 264B     		ldr	r3, .L108
 656 0018 53F82630 		ldr	r3, [r3, r6, lsl #2]
 657 001c 1B68     		ldr	r3, [r3]
 658              	.LVL74:
 659 001e 27E0     		b	.L88
 660              	.LVL75:
 661              	.L102:
 675:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 662              		.loc 1 675 0
 663 0020 244C     		ldr	r4, .L108+4
 664 0022 F1E7     		b	.L82
 665              	.LVL76:
 666              	.L103:
 681:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 667              		.loc 1 681 0 discriminator 1
 668 0024 244B     		ldr	r3, .L108+8
 669 0026 40F2A922 		movw	r2, #681
 670              	.LVL77:
 671 002a 2449     		ldr	r1, .L108+12
 672 002c 2448     		ldr	r0, .L108+16
 673              	.LVL78:
 674 002e FFF7FEFF 		bl	printf
 675              	.LVL79:
 676 0032 6FF00F00 		mvn	r0, #15
 677 0036 70BD     		pop	{r4, r5, r6, pc}
 678              	.LVL80:
 679              	.L104:
 683:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 680              		.loc 1 683 0 discriminator 1
 681 0038 1F4B     		ldr	r3, .L108+8
 682 003a 40F2AB22 		movw	r2, #683
 683              	.LVL81:
 684 003e 2149     		ldr	r1, .L108+20
 685 0040 1F48     		ldr	r0, .L108+16
 686              	.LVL82:
 687 0042 FFF7FEFF 		bl	printf
ARM GAS  /tmp/ccX62RBj.s 			page 46


 688              	.LVL83:
 689 0046 6FF00500 		mvn	r0, #5
 690 004a 70BD     		pop	{r4, r5, r6, pc}
 691              	.LVL84:
 692              	.L105:
 709:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (port == 0) {
 693              		.loc 1 709 0
 694 004c FFF7FEFF 		bl	tcp_new_port
 695              	.LVL85:
 710:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_BUF;
 696              		.loc 1 710 0
 697 0050 0246     		mov	r2, r0
 698 0052 F0B1     		cbz	r0, .L106
 699              	.LVL86:
 700              	.L87:
 739:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4 && LWIP_IPV6
 701              		.loc 1 739 0
 702 0054 14B1     		cbz	r4, .L92
 739:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4 && LWIP_IPV6
 703              		.loc 1 739 0 is_stmt 0 discriminator 1
 704 0056 2368     		ldr	r3, [r4]
 705 0058 03B1     		cbz	r3, .L92
 744:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 706              		.loc 1 744 0 is_stmt 1 discriminator 4
 707 005a 2B60     		str	r3, [r5]
 708              	.L92:
 746:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   TCP_REG(&tcp_bound_pcbs, pcb);
 709              		.loc 1 746 0
 710 005c EA82     		strh	r2, [r5, #22]	@ movhi
 747:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_bind: bind to port %"U16_F"\n", port));
 711              		.loc 1 747 0
 712 005e 1A4B     		ldr	r3, .L108+24
 713 0060 1A68     		ldr	r2, [r3]
 714              	.LVL87:
 715 0062 EA60     		str	r2, [r5, #12]
 716 0064 1D60     		str	r5, [r3]
 717 0066 FFF7FEFF 		bl	tcp_timer_needed
 718              	.LVL88:
 749:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 719              		.loc 1 749 0
 720 006a 0020     		movs	r0, #0
 721 006c 70BD     		pop	{r4, r5, r6, pc}
 722              	.LVL89:
 723              	.L89:
 716:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (cpcb->local_port == port) {
 724              		.loc 1 716 0 discriminator 2
 725 006e DB68     		ldr	r3, [r3, #12]
 726              	.LVL90:
 727              	.L88:
 716:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (cpcb->local_port == port) {
 728              		.loc 1 716 0 is_stmt 0 discriminator 1
 729 0070 6BB1     		cbz	r3, .L107
 717:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if SO_REUSE
 730              		.loc 1 717 0 is_stmt 1
 731 0072 D98A     		ldrh	r1, [r3, #22]
 732 0074 8A42     		cmp	r2, r1
 733 0076 FAD1     		bne	.L89
ARM GAS  /tmp/ccX62RBj.s 			page 47


 727:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 (ip_addr_isany(&cpcb->local_ip) ||
 734              		.loc 1 727 0
 735 0078 73B1     		cbz	r3, .L96
 728:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                  ip_addr_isany(ipaddr) ||
 736              		.loc 1 728 0
 737 007a 1968     		ldr	r1, [r3]
 738 007c 79B1     		cbz	r1, .L97
 728:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                  ip_addr_isany(ipaddr) ||
 739              		.loc 1 728 0 is_stmt 0 discriminator 1
 740 007e 8CB1     		cbz	r4, .L98
 729:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                  ip_addr_cmp(&cpcb->local_ip, ipaddr))) {
 741              		.loc 1 729 0 is_stmt 1
 742 0080 2068     		ldr	r0, [r4]
 743 0082 90B1     		cbz	r0, .L99
 727:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 (ip_addr_isany(&cpcb->local_ip) ||
 744              		.loc 1 727 0
 745 0084 8142     		cmp	r1, r0
 746 0086 F2D1     		bne	.L89
 731:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
 747              		.loc 1 731 0
 748 0088 6FF00700 		mvn	r0, #7
 750:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 749              		.loc 1 750 0
 750 008c 70BD     		pop	{r4, r5, r6, pc}
 751              	.LVL91:
 752              	.L107:
 715:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       for (cpcb = *tcp_pcb_lists[i]; cpcb != NULL; cpcb = cpcb->next) {
 753              		.loc 1 715 0 discriminator 2
 754 008e 0136     		adds	r6, r6, #1
 755              	.LVL92:
 756 0090 BFE7     		b	.L86
 757              	.LVL93:
 758              	.L106:
 711:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 759              		.loc 1 711 0
 760 0092 6FF00100 		mvn	r0, #1
 761              	.LVL94:
 762 0096 70BD     		pop	{r4, r5, r6, pc}
 763              	.LVL95:
 764              	.L96:
 731:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
 765              		.loc 1 731 0
 766 0098 6FF00700 		mvn	r0, #7
 767 009c 70BD     		pop	{r4, r5, r6, pc}
 768              	.LVL96:
 769              	.L97:
 770 009e 6FF00700 		mvn	r0, #7
 771 00a2 70BD     		pop	{r4, r5, r6, pc}
 772              	.LVL97:
 773              	.L98:
 774 00a4 6FF00700 		mvn	r0, #7
 775 00a8 70BD     		pop	{r4, r5, r6, pc}
 776              	.LVL98:
 777              	.L99:
 778 00aa 6FF00700 		mvn	r0, #7
 779 00ae 70BD     		pop	{r4, r5, r6, pc}
 780              	.LVL99:
ARM GAS  /tmp/ccX62RBj.s 			page 48


 781              	.L109:
 782              		.align	2
 783              	.L108:
 784 00b0 00000000 		.word	.LANCHOR1
 785 00b4 00000000 		.word	ip_addr_any
 786 00b8 00000000 		.word	.LC0
 787 00bc 00000000 		.word	.LC7
 788 00c0 54000000 		.word	.LC2
 789 00c4 18000000 		.word	.LC8
 790 00c8 00000000 		.word	tcp_bound_pcbs
 791              		.cfi_endproc
 792              	.LFE170:
 794              		.section	.text.tcp_bind_netif,"ax",%progbits
 795              		.align	1
 796              		.global	tcp_bind_netif
 797              		.syntax unified
 798              		.thumb
 799              		.thumb_func
 800              		.fpu fpv5-d16
 802              	tcp_bind_netif:
 803              	.LFB171:
 764:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 804              		.loc 1 764 0
 805              		.cfi_startproc
 806              		@ args = 0, pretend = 0, frame = 0
 807              		@ frame_needed = 0, uses_anonymous_args = 0
 808              		@ link register save eliminated.
 809              	.LVL100:
 766:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->netif_idx = netif_get_index(netif);
 810              		.loc 1 766 0
 811 0000 21B1     		cbz	r1, .L111
 767:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 812              		.loc 1 767 0
 813 0002 91F83430 		ldrb	r3, [r1, #52]	@ zero_extendqisi2
 814 0006 0133     		adds	r3, r3, #1
 815 0008 0372     		strb	r3, [r0, #8]
 816 000a 7047     		bx	lr
 817              	.L111:
 769:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 818              		.loc 1 769 0
 819 000c 0023     		movs	r3, #0
 820 000e 0372     		strb	r3, [r0, #8]
 821 0010 7047     		bx	lr
 822              		.cfi_endproc
 823              	.LFE171:
 825              		.section	.text.tcp_listen_with_backlog_and_err,"ax",%progbits
 826              		.align	1
 827              		.global	tcp_listen_with_backlog_and_err
 828              		.syntax unified
 829              		.thumb
 830              		.thumb_func
 831              		.fpu fpv5-d16
 833              	tcp_listen_with_backlog_and_err:
 834              	.LFB174:
 849:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb_listen *lpcb = NULL;
 835              		.loc 1 849 0
 836              		.cfi_startproc
ARM GAS  /tmp/ccX62RBj.s 			page 49


 837              		@ args = 0, pretend = 0, frame = 0
 838              		@ frame_needed = 0, uses_anonymous_args = 0
 839              	.LVL101:
 840 0000 70B5     		push	{r4, r5, r6, lr}
 841              	.LCFI12:
 842              		.cfi_def_cfa_offset 16
 843              		.cfi_offset 4, -16
 844              		.cfi_offset 5, -12
 845              		.cfi_offset 6, -8
 846              		.cfi_offset 14, -4
 847 0002 1646     		mov	r6, r2
 848              	.LVL102:
 857:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_listen_with_backlog_and_err: pcb already connected", pcb->state == CLOSED, res = 
 849              		.loc 1 857 0
 850 0004 48B3     		cbz	r0, .L126
 851 0006 0446     		mov	r4, r0
 858:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 852              		.loc 1 858 0
 853 0008 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 854 000a 002B     		cmp	r3, #0
 855 000c 30D1     		bne	.L127
 861:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     lpcb = (struct tcp_pcb_listen *)pcb;
 856              		.loc 1 861 0
 857 000e 012B     		cmp	r3, #1
 858 0010 4ED0     		beq	.L122
 882:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (lpcb == NULL) {
 859              		.loc 1 882 0
 860 0012 0220     		movs	r0, #2
 861              	.LVL103:
 862 0014 FFF7FEFF 		bl	memp_malloc
 863              	.LVL104:
 883:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     res = ERR_MEM;
 864              		.loc 1 883 0
 865 0018 0546     		mov	r5, r0
 866 001a 0028     		cmp	r0, #0
 867 001c 4FD0     		beq	.L123
 887:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->local_port = pcb->local_port;
 868              		.loc 1 887 0
 869 001e 2369     		ldr	r3, [r4, #16]
 870 0020 0361     		str	r3, [r0, #16]
 888:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->state = LISTEN;
 871              		.loc 1 888 0
 872 0022 E38A     		ldrh	r3, [r4, #22]
 873 0024 C382     		strh	r3, [r0, #22]	@ movhi
 889:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->prio = pcb->prio;
 874              		.loc 1 889 0
 875 0026 0123     		movs	r3, #1
 876 0028 0375     		strb	r3, [r0, #20]
 890:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->so_options = pcb->so_options;
 877              		.loc 1 890 0
 878 002a 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
 879 002c 4375     		strb	r3, [r0, #21]
 891:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->netif_idx = NETIF_NO_INDEX;
 880              		.loc 1 891 0
 881 002e 637A     		ldrb	r3, [r4, #9]	@ zero_extendqisi2
 882 0030 4372     		strb	r3, [r0, #9]
 892:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->ttl = pcb->ttl;
ARM GAS  /tmp/ccX62RBj.s 			page 50


 883              		.loc 1 892 0
 884 0032 0023     		movs	r3, #0
 885 0034 0372     		strb	r3, [r0, #8]
 893:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->tos = pcb->tos;
 886              		.loc 1 893 0
 887 0036 E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 888 0038 C372     		strb	r3, [r0, #11]
 894:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4 && LWIP_IPV6
 889              		.loc 1 894 0
 890 003a A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 891 003c 8372     		strb	r3, [r0, #10]
 898:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->local_port != 0) {
 892              		.loc 1 898 0
 893 003e 2368     		ldr	r3, [r4]
 894 0040 0360     		str	r3, [r0]
 899:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_RMV(&tcp_bound_pcbs, pcb);
 895              		.loc 1 899 0
 896 0042 E38A     		ldrh	r3, [r4, #22]
 897 0044 3BB3     		cbz	r3, .L117
 900:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 898              		.loc 1 900 0
 899 0046 1F4B     		ldr	r3, .L130
 900 0048 1B68     		ldr	r3, [r3]
 901 004a 9C42     		cmp	r4, r3
 902 004c 1BD0     		beq	.L128
 903              	.L118:
 904              	.LVL105:
 905              	.LBB3:
 900:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 906              		.loc 1 900 0 is_stmt 0 discriminator 8
 907 004e 03B3     		cbz	r3, .L119
 900:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 908              		.loc 1 900 0 discriminator 9
 909 0050 DA68     		ldr	r2, [r3, #12]
 910 0052 9442     		cmp	r4, r2
 911 0054 1BD0     		beq	.L129
 900:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 912              		.loc 1 900 0
 913 0056 1346     		mov	r3, r2
 914              	.LVL106:
 915 0058 F9E7     		b	.L118
 916              	.LVL107:
 917              	.L126:
 918              	.LBE3:
 857:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_listen_with_backlog_and_err: pcb already connected", pcb->state == CLOSED, res = 
 919              		.loc 1 857 0 is_stmt 1 discriminator 1
 920 005a 1B4B     		ldr	r3, .L130+4
 921 005c 40F25932 		movw	r2, #857
 922              	.LVL108:
 923 0060 1A49     		ldr	r1, .L130+8
 924              	.LVL109:
 925 0062 1B48     		ldr	r0, .L130+12
 926              	.LVL110:
 927 0064 FFF7FEFF 		bl	printf
 928              	.LVL111:
 929 0068 6FF00F03 		mvn	r3, #15
 850:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err_t res;
ARM GAS  /tmp/ccX62RBj.s 			page 51


 930              		.loc 1 850 0 discriminator 1
 931 006c 0025     		movs	r5, #0
 857:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_listen_with_backlog_and_err: pcb already connected", pcb->state == CLOSED, res = 
 932              		.loc 1 857 0 discriminator 1
 933 006e 22E0     		b	.L115
 934              	.LVL112:
 935              	.L127:
 858:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 936              		.loc 1 858 0 discriminator 1
 937 0070 154B     		ldr	r3, .L130+4
 938 0072 40F25A32 		movw	r2, #858
 939              	.LVL113:
 940 0076 1749     		ldr	r1, .L130+16
 941              	.LVL114:
 942 0078 1548     		ldr	r0, .L130+12
 943              	.LVL115:
 944 007a FFF7FEFF 		bl	printf
 945              	.LVL116:
 946 007e 6FF00E03 		mvn	r3, #14
 850:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err_t res;
 947              		.loc 1 850 0 discriminator 1
 948 0082 0025     		movs	r5, #0
 858:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 949              		.loc 1 858 0 discriminator 1
 950 0084 17E0     		b	.L115
 951              	.LVL117:
 952              	.L128:
 900:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 953              		.loc 1 900 0 discriminator 1
 954 0086 DA68     		ldr	r2, [r3, #12]
 955 0088 0E4B     		ldr	r3, .L130
 956 008a 1A60     		str	r2, [r3]
 957 008c 01E0     		b	.L119
 958              	.LVL118:
 959              	.L129:
 960              	.LBB4:
 900:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 961              		.loc 1 900 0 is_stmt 0 discriminator 5
 962 008e E268     		ldr	r2, [r4, #12]
 963 0090 DA60     		str	r2, [r3, #12]
 964              	.LVL119:
 965              	.L119:
 966              	.LBE4:
 900:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 967              		.loc 1 900 0 discriminator 10
 968 0092 0023     		movs	r3, #0
 969 0094 E360     		str	r3, [r4, #12]
 970              	.L117:
 906:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 971              		.loc 1 906 0 is_stmt 1
 972 0096 2046     		mov	r0, r4
 973              	.LVL120:
 974 0098 FFF7FEFF 		bl	tcp_free
 975              	.LVL121:
 908:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 976              		.loc 1 908 0
 977 009c 0E4B     		ldr	r3, .L130+20
ARM GAS  /tmp/ccX62RBj.s 			page 52


 978 009e AB61     		str	r3, [r5, #24]
 914:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   res = ERR_OK;
 979              		.loc 1 914 0
 980 00a0 0E4B     		ldr	r3, .L130+24
 981 00a2 1A68     		ldr	r2, [r3]
 982 00a4 EA60     		str	r2, [r5, #12]
 983 00a6 1D60     		str	r5, [r3]
 984 00a8 FFF7FEFF 		bl	tcp_timer_needed
 985              	.LVL122:
 915:Middlewares/Third_Party/LwIP/src/core/tcp.c **** done:
 986              		.loc 1 915 0
 987 00ac 0023     		movs	r3, #0
 988 00ae 02E0     		b	.L115
 989              	.LVL123:
 990              	.L122:
 862:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     res = ERR_ALREADY;
 991              		.loc 1 862 0
 992 00b0 0546     		mov	r5, r0
 863:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     goto done;
 993              		.loc 1 863 0
 994 00b2 6FF00803 		mvn	r3, #8
 995              	.LVL124:
 996              	.L115:
 917:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     *err = res;
 997              		.loc 1 917 0
 998 00b6 06B1     		cbz	r6, .L121
 918:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 999              		.loc 1 918 0
 1000 00b8 3370     		strb	r3, [r6]
 1001              	.L121:
 921:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1002              		.loc 1 921 0
 1003 00ba 2846     		mov	r0, r5
 1004 00bc 70BD     		pop	{r4, r5, r6, pc}
 1005              	.LVL125:
 1006              	.L123:
 884:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     goto done;
 1007              		.loc 1 884 0
 1008 00be 4FF0FF33 		mov	r3, #-1
 1009 00c2 F8E7     		b	.L115
 1010              	.L131:
 1011              		.align	2
 1012              	.L130:
 1013 00c4 00000000 		.word	tcp_bound_pcbs
 1014 00c8 00000000 		.word	.LC0
 1015 00cc 00000000 		.word	.LC9
 1016 00d0 54000000 		.word	.LC2
 1017 00d4 30000000 		.word	.LC10
 1018 00d8 00000000 		.word	tcp_accept_null
 1019 00dc 00000000 		.word	tcp_listen_pcbs
 1020              		.cfi_endproc
 1021              	.LFE174:
 1023              		.section	.text.tcp_listen_with_backlog,"ax",%progbits
 1024              		.align	1
 1025              		.global	tcp_listen_with_backlog
 1026              		.syntax unified
 1027              		.thumb
ARM GAS  /tmp/ccX62RBj.s 			page 53


 1028              		.thumb_func
 1029              		.fpu fpv5-d16
 1031              	tcp_listen_with_backlog:
 1032              	.LFB173:
 826:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 1033              		.loc 1 826 0
 1034              		.cfi_startproc
 1035              		@ args = 0, pretend = 0, frame = 0
 1036              		@ frame_needed = 0, uses_anonymous_args = 0
 1037              	.LVL126:
 1038 0000 08B5     		push	{r3, lr}
 1039              	.LCFI13:
 1040              		.cfi_def_cfa_offset 8
 1041              		.cfi_offset 3, -8
 1042              		.cfi_offset 14, -4
 828:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 1043              		.loc 1 828 0
 1044 0002 0022     		movs	r2, #0
 1045 0004 FFF7FEFF 		bl	tcp_listen_with_backlog_and_err
 1046              	.LVL127:
 829:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1047              		.loc 1 829 0
 1048 0008 08BD     		pop	{r3, pc}
 1049              		.cfi_endproc
 1050              	.LFE173:
 1052              		.section	.text.tcp_update_rcv_ann_wnd,"ax",%progbits
 1053              		.align	1
 1054              		.global	tcp_update_rcv_ann_wnd
 1055              		.syntax unified
 1056              		.thumb
 1057              		.thumb_func
 1058              		.fpu fpv5-d16
 1060              	tcp_update_rcv_ann_wnd:
 1061              	.LFB175:
 931:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t new_right_edge;
 1062              		.loc 1 931 0
 1063              		.cfi_startproc
 1064              		@ args = 0, pretend = 0, frame = 0
 1065              		@ frame_needed = 0, uses_anonymous_args = 0
 1066              	.LVL128:
 1067 0000 38B5     		push	{r3, r4, r5, lr}
 1068              	.LCFI14:
 1069              		.cfi_def_cfa_offset 16
 1070              		.cfi_offset 3, -16
 1071              		.cfi_offset 4, -12
 1072              		.cfi_offset 5, -8
 1073              		.cfi_offset 14, -4
 934:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   new_right_edge = pcb->rcv_nxt + pcb->rcv_wnd;
 1074              		.loc 1 934 0
 1075 0002 0446     		mov	r4, r0
 1076 0004 80B1     		cbz	r0, .L143
 1077              	.LVL129:
 1078              	.L135:
 935:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1079              		.loc 1 935 0
 1080 0006 656A     		ldr	r5, [r4, #36]
 1081 0008 218D     		ldrh	r1, [r4, #40]
ARM GAS  /tmp/ccX62RBj.s 			page 54


 1082 000a 6818     		adds	r0, r5, r1
 1083              	.LVL130:
 937:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* we can advertise more window */
 1084              		.loc 1 937 0
 1085 000c E26A     		ldr	r2, [r4, #44]
 1086 000e 638E     		ldrh	r3, [r4, #50]
 1087 0010 B3F5866F 		cmp	r3, #1072
 1088 0014 01D9     		bls	.L136
 1089 0016 4FF48663 		mov	r3, #1072
 1090              	.L136:
 937:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* we can advertise more window */
 1091              		.loc 1 937 0 is_stmt 0 discriminator 4
 1092 001a 1344     		add	r3, r3, r2
 1093 001c C31A     		subs	r3, r0, r3
 1094 001e 002B     		cmp	r3, #0
 1095 0020 0ADB     		blt	.L137
 939:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return new_right_edge - pcb->rcv_ann_right_edge;
 1096              		.loc 1 939 0 is_stmt 1
 1097 0022 6185     		strh	r1, [r4, #42]	@ movhi
 940:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 1098              		.loc 1 940 0
 1099 0024 801A     		subs	r0, r0, r2
 1100              	.LVL131:
 1101 0026 38BD     		pop	{r3, r4, r5, pc}
 1102              	.LVL132:
 1103              	.L143:
 934:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   new_right_edge = pcb->rcv_nxt + pcb->rcv_wnd;
 1104              		.loc 1 934 0 discriminator 1
 1105 0028 0E4B     		ldr	r3, .L145
 1106 002a 40F2A632 		movw	r2, #934
 1107 002e 0E49     		ldr	r1, .L145+4
 1108 0030 0E48     		ldr	r0, .L145+8
 1109              	.LVL133:
 1110 0032 FFF7FEFF 		bl	printf
 1111              	.LVL134:
 1112 0036 E6E7     		b	.L135
 1113              	.LVL135:
 1114              	.L137:
 942:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Can happen due to other end sending out of advertised window,
 1115              		.loc 1 942 0
 1116 0038 AB1A     		subs	r3, r5, r2
 1117 003a 002B     		cmp	r3, #0
 1118 003c 02DD     		ble	.L139
 945:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
 1119              		.loc 1 945 0
 1120 003e 0020     		movs	r0, #0
 1121              	.LVL136:
 1122 0040 6085     		strh	r0, [r4, #42]	@ movhi
 1123 0042 38BD     		pop	{r3, r4, r5, pc}
 1124              	.LVL137:
 1125              	.L139:
 1126              	.LBB5:
 948:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if !LWIP_WND_SCALE
 1127              		.loc 1 948 0
 1128 0044 551B     		subs	r5, r2, r5
 1129              	.LVL138:
 950:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
ARM GAS  /tmp/ccX62RBj.s 			page 55


 1130              		.loc 1 950 0
 1131 0046 B5F5803F 		cmp	r5, #65536
 1132 004a 02D2     		bcs	.L144
 1133              	.LVL139:
 1134              	.L140:
 952:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 1135              		.loc 1 952 0
 1136 004c 6585     		strh	r5, [r4, #42]	@ movhi
 1137              	.LBE5:
 954:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 1138              		.loc 1 954 0
 1139 004e 0020     		movs	r0, #0
 956:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1140              		.loc 1 956 0
 1141 0050 38BD     		pop	{r3, r4, r5, pc}
 1142              	.LVL140:
 1143              	.L144:
 1144              	.LBB6:
 950:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 1145              		.loc 1 950 0 discriminator 1
 1146 0052 044B     		ldr	r3, .L145
 1147 0054 40F2B632 		movw	r2, #950
 1148 0058 0549     		ldr	r1, .L145+12
 1149 005a 0448     		ldr	r0, .L145+8
 1150              	.LVL141:
 1151 005c FFF7FEFF 		bl	printf
 1152              	.LVL142:
 1153 0060 F4E7     		b	.L140
 1154              	.L146:
 1155 0062 00BF     		.align	2
 1156              	.L145:
 1157 0064 00000000 		.word	.LC0
 1158 0068 00000000 		.word	.LC11
 1159 006c 54000000 		.word	.LC2
 1160 0070 24000000 		.word	.LC12
 1161              	.LBE6:
 1162              		.cfi_endproc
 1163              	.LFE175:
 1165              		.section	.text.tcp_recved,"ax",%progbits
 1166              		.align	1
 1167              		.global	tcp_recved
 1168              		.syntax unified
 1169              		.thumb
 1170              		.thumb_func
 1171              		.fpu fpv5-d16
 1173              	tcp_recved:
 1174              	.LFB176:
 969:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t wnd_inflation;
 1175              		.loc 1 969 0
 1176              		.cfi_startproc
 1177              		@ args = 0, pretend = 0, frame = 0
 1178              		@ frame_needed = 0, uses_anonymous_args = 0
 1179              	.LVL143:
 1180 0000 38B5     		push	{r3, r4, r5, lr}
 1181              	.LCFI15:
 1182              		.cfi_def_cfa_offset 16
 1183              		.cfi_offset 3, -16
ARM GAS  /tmp/ccX62RBj.s 			page 56


 1184              		.cfi_offset 4, -12
 1185              		.cfi_offset 5, -8
 1186              		.cfi_offset 14, -4
 975:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1187              		.loc 1 975 0
 1188 0002 B0B1     		cbz	r0, .L155
 1189 0004 0C46     		mov	r4, r1
 1190 0006 0546     		mov	r5, r0
 978:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->state != LISTEN);
 1191              		.loc 1 978 0
 1192 0008 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 1193 000a 012B     		cmp	r3, #1
 1194 000c 19D0     		beq	.L156
 1195              	.LVL144:
 1196              	.L150:
 981:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if ((rcv_wnd > TCP_WND_MAX(pcb)) || (rcv_wnd < pcb->rcv_wnd)) {
 1197              		.loc 1 981 0
 1198 000e 2B8D     		ldrh	r3, [r5, #40]
 1199 0010 1919     		adds	r1, r3, r4
 1200 0012 89B2     		uxth	r1, r1
 1201              	.LVL145:
 982:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* window got too big or tcpwnd_size_t overflow */
 1202              		.loc 1 982 0
 1203 0014 B1F5066F 		cmp	r1, #2144
 1204 0018 01D8     		bhi	.L151
 982:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* window got too big or tcpwnd_size_t overflow */
 1205              		.loc 1 982 0 is_stmt 0 discriminator 1
 1206 001a 8B42     		cmp	r3, r1
 1207 001c 19D9     		bls	.L152
 1208              	.L151:
 985:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else  {
 1209              		.loc 1 985 0 is_stmt 1
 1210 001e 4FF40663 		mov	r3, #2144
 1211 0022 2B85     		strh	r3, [r5, #40]	@ movhi
 1212              	.L153:
 990:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1213              		.loc 1 990 0
 1214 0024 2846     		mov	r0, r5
 1215 0026 FFF7FEFF 		bl	tcp_update_rcv_ann_wnd
 1216              	.LVL146:
 996:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_ack_now(pcb);
 1217              		.loc 1 996 0
 1218 002a B0F5067F 		cmp	r0, #536
 1219 002e 12D2     		bcs	.L157
 1220              	.LVL147:
 1221              	.L147:
 1222 0030 38BD     		pop	{r3, r4, r5, pc}
 1223              	.LVL148:
 1224              	.L155:
 975:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1225              		.loc 1 975 0 discriminator 1
 1226 0032 0D4B     		ldr	r3, .L158
 1227 0034 40F2CF32 		movw	r2, #975
 1228 0038 0C49     		ldr	r1, .L158+4
 1229              	.LVL149:
 1230 003a 0D48     		ldr	r0, .L158+8
 1231              	.LVL150:
ARM GAS  /tmp/ccX62RBj.s 			page 57


 1232 003c FFF7FEFF 		bl	printf
 1233              	.LVL151:
 1234 0040 38BD     		pop	{r3, r4, r5, pc}
 1235              	.LVL152:
 1236              	.L156:
 978:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->state != LISTEN);
 1237              		.loc 1 978 0 discriminator 1
 1238 0042 094B     		ldr	r3, .L158
 1239 0044 40F2D332 		movw	r2, #979
 1240 0048 0A49     		ldr	r1, .L158+12
 1241              	.LVL153:
 1242 004a 0948     		ldr	r0, .L158+8
 1243              	.LVL154:
 1244 004c FFF7FEFF 		bl	printf
 1245              	.LVL155:
 1246 0050 DDE7     		b	.L150
 1247              	.LVL156:
 1248              	.L152:
 987:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 1249              		.loc 1 987 0
 1250 0052 2985     		strh	r1, [r5, #40]	@ movhi
 1251 0054 E6E7     		b	.L153
 1252              	.LVL157:
 1253              	.L157:
 997:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_output(pcb);
 1254              		.loc 1 997 0
 1255 0056 6B8B     		ldrh	r3, [r5, #26]
 1256 0058 43F00203 		orr	r3, r3, #2
 1257 005c 6B83     		strh	r3, [r5, #26]	@ movhi
 998:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 1258              		.loc 1 998 0
 1259 005e 2846     		mov	r0, r5
 1260              	.LVL158:
 1261 0060 FFF7FEFF 		bl	tcp_output
 1262              	.LVL159:
 1263 0064 E4E7     		b	.L147
 1264              	.L159:
 1265 0066 00BF     		.align	2
 1266              	.L158:
 1267 0068 00000000 		.word	.LC0
 1268 006c 00000000 		.word	.LC13
 1269 0070 54000000 		.word	.LC2
 1270 0074 18000000 		.word	.LC14
 1271              		.cfi_endproc
 1272              	.LFE176:
 1274              		.section	.text.tcp_txnow,"ax",%progbits
 1275              		.align	1
 1276              		.global	tcp_txnow
 1277              		.syntax unified
 1278              		.thumb
 1279              		.thumb_func
 1280              		.fpu fpv5-d16
 1282              	tcp_txnow:
 1283              	.LFB181:
1527:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
 1284              		.loc 1 1527 0
 1285              		.cfi_startproc
ARM GAS  /tmp/ccX62RBj.s 			page 58


 1286              		@ args = 0, pretend = 0, frame = 0
 1287              		@ frame_needed = 0, uses_anonymous_args = 0
 1288 0000 10B5     		push	{r4, lr}
 1289              	.LCFI16:
 1290              		.cfi_def_cfa_offset 8
 1291              		.cfi_offset 4, -8
 1292              		.cfi_offset 14, -4
1530:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->flags & TF_NAGLEMEMERR) {
 1293              		.loc 1 1530 0
 1294 0002 074B     		ldr	r3, .L166
 1295 0004 1C68     		ldr	r4, [r3]
 1296              	.LVL160:
 1297 0006 00E0     		b	.L161
 1298              	.L162:
1530:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->flags & TF_NAGLEMEMERR) {
 1299              		.loc 1 1530 0 is_stmt 0 discriminator 2
 1300 0008 E468     		ldr	r4, [r4, #12]
 1301              	.LVL161:
 1302              	.L161:
1530:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->flags & TF_NAGLEMEMERR) {
 1303              		.loc 1 1530 0 discriminator 1
 1304 000a 3CB1     		cbz	r4, .L165
1531:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_output(pcb);
 1305              		.loc 1 1531 0 is_stmt 1
 1306 000c 638B     		ldrh	r3, [r4, #26]
 1307 000e 13F0800F 		tst	r3, #128
 1308 0012 F9D0     		beq	.L162
1532:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 1309              		.loc 1 1532 0
 1310 0014 2046     		mov	r0, r4
 1311 0016 FFF7FEFF 		bl	tcp_output
 1312              	.LVL162:
 1313 001a F5E7     		b	.L162
 1314              	.L165:
1535:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1315              		.loc 1 1535 0
 1316 001c 10BD     		pop	{r4, pc}
 1317              	.LVL163:
 1318              	.L167:
 1319 001e 00BF     		.align	2
 1320              	.L166:
 1321 0020 00000000 		.word	tcp_active_pcbs
 1322              		.cfi_endproc
 1323              	.LFE181:
 1325              		.section	.text.tcp_seg_free,"ax",%progbits
 1326              		.align	1
 1327              		.global	tcp_seg_free
 1328              		.syntax unified
 1329              		.thumb
 1330              		.thumb_func
 1331              		.fpu fpv5-d16
 1333              	tcp_seg_free:
 1334              	.LFB184:
1624:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (seg != NULL) {
 1335              		.loc 1 1624 0
 1336              		.cfi_startproc
 1337              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccX62RBj.s 			page 59


 1338              		@ frame_needed = 0, uses_anonymous_args = 0
 1339              	.LVL164:
1625:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (seg->p != NULL) {
 1340              		.loc 1 1625 0
 1341 0000 50B1     		cbz	r0, .L172
1624:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (seg != NULL) {
 1342              		.loc 1 1624 0
 1343 0002 10B5     		push	{r4, lr}
 1344              	.LCFI17:
 1345              		.cfi_def_cfa_offset 8
 1346              		.cfi_offset 4, -8
 1347              		.cfi_offset 14, -4
 1348 0004 0446     		mov	r4, r0
1626:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pbuf_free(seg->p);
 1349              		.loc 1 1626 0
 1350 0006 4068     		ldr	r0, [r0, #4]
 1351              	.LVL165:
 1352 0008 08B1     		cbz	r0, .L170
1627:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_DEBUG
 1353              		.loc 1 1627 0
 1354 000a FFF7FEFF 		bl	pbuf_free
 1355              	.LVL166:
 1356              	.L170:
1632:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 1357              		.loc 1 1632 0
 1358 000e 2146     		mov	r1, r4
 1359 0010 0320     		movs	r0, #3
 1360 0012 FFF7FEFF 		bl	memp_free
 1361              	.LVL167:
 1362 0016 10BD     		pop	{r4, pc}
 1363              	.LVL168:
 1364              	.L172:
 1365              	.LCFI18:
 1366              		.cfi_def_cfa_offset 0
 1367              		.cfi_restore 4
 1368              		.cfi_restore 14
 1369 0018 7047     		bx	lr
 1370              		.cfi_endproc
 1371              	.LFE184:
 1373              		.section	.text.tcp_segs_free,"ax",%progbits
 1374              		.align	1
 1375              		.global	tcp_segs_free
 1376              		.syntax unified
 1377              		.thumb
 1378              		.thumb_func
 1379              		.fpu fpv5-d16
 1381              	tcp_segs_free:
 1382              	.LFB183:
1609:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (seg != NULL) {
 1383              		.loc 1 1609 0
 1384              		.cfi_startproc
 1385              		@ args = 0, pretend = 0, frame = 0
 1386              		@ frame_needed = 0, uses_anonymous_args = 0
 1387              	.LVL169:
1610:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct tcp_seg *next = seg->next;
 1388              		.loc 1 1610 0
 1389 0000 38B1     		cbz	r0, .L181
ARM GAS  /tmp/ccX62RBj.s 			page 60


1609:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (seg != NULL) {
 1390              		.loc 1 1609 0
 1391 0002 10B5     		push	{r4, lr}
 1392              	.LCFI19:
 1393              		.cfi_def_cfa_offset 8
 1394              		.cfi_offset 4, -8
 1395              		.cfi_offset 14, -4
 1396              	.L177:
 1397              	.LBB7:
1611:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_seg_free(seg);
 1398              		.loc 1 1611 0
 1399 0004 0468     		ldr	r4, [r0]
 1400              	.LVL170:
1612:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     seg = next;
 1401              		.loc 1 1612 0
 1402 0006 FFF7FEFF 		bl	tcp_seg_free
 1403              	.LVL171:
1613:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 1404              		.loc 1 1613 0
 1405 000a 2046     		mov	r0, r4
 1406              	.LBE7:
1610:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct tcp_seg *next = seg->next;
 1407              		.loc 1 1610 0
 1408 000c 002C     		cmp	r4, #0
 1409 000e F9D1     		bne	.L177
1615:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1410              		.loc 1 1615 0
 1411 0010 10BD     		pop	{r4, pc}
 1412              	.LVL172:
 1413              	.L181:
 1414              	.LCFI20:
 1415              		.cfi_def_cfa_offset 0
 1416              		.cfi_restore 4
 1417              		.cfi_restore 14
 1418 0012 7047     		bx	lr
 1419              		.cfi_endproc
 1420              	.LFE183:
 1422              		.section	.text.tcp_setprio,"ax",%progbits
 1423              		.align	1
 1424              		.global	tcp_setprio
 1425              		.syntax unified
 1426              		.thumb
 1427              		.thumb_func
 1428              		.fpu fpv5-d16
 1430              	tcp_setprio:
 1431              	.LFB185:
1645:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 1432              		.loc 1 1645 0
 1433              		.cfi_startproc
 1434              		@ args = 0, pretend = 0, frame = 0
 1435              		@ frame_needed = 0, uses_anonymous_args = 0
 1436              	.LVL173:
 1437 0000 08B5     		push	{r3, lr}
 1438              	.LCFI21:
 1439              		.cfi_def_cfa_offset 8
 1440              		.cfi_offset 3, -8
 1441              		.cfi_offset 14, -4
ARM GAS  /tmp/ccX62RBj.s 			page 61


1648:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1442              		.loc 1 1648 0
 1443 0002 08B1     		cbz	r0, .L186
1650:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 1444              		.loc 1 1650 0
 1445 0004 4175     		strb	r1, [r0, #21]
 1446 0006 08BD     		pop	{r3, pc}
 1447              	.L186:
1648:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1448              		.loc 1 1648 0 discriminator 1
 1449 0008 034B     		ldr	r3, .L187
 1450 000a 4FF4CE62 		mov	r2, #1648
 1451 000e 0349     		ldr	r1, .L187+4
 1452              	.LVL174:
 1453 0010 0348     		ldr	r0, .L187+8
 1454              	.LVL175:
 1455 0012 FFF7FEFF 		bl	printf
 1456              	.LVL176:
 1457 0016 08BD     		pop	{r3, pc}
 1458              	.L188:
 1459              		.align	2
 1460              	.L187:
 1461 0018 00000000 		.word	.LC0
 1462 001c 00000000 		.word	.LC15
 1463 0020 54000000 		.word	.LC2
 1464              		.cfi_endproc
 1465              	.LFE185:
 1467              		.section	.text.tcp_seg_copy,"ax",%progbits
 1468              		.align	1
 1469              		.global	tcp_seg_copy
 1470              		.syntax unified
 1471              		.thumb
 1472              		.thumb_func
 1473              		.fpu fpv5-d16
 1475              	tcp_seg_copy:
 1476              	.LFB186:
1663:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_seg *cseg;
 1477              		.loc 1 1663 0
 1478              		.cfi_startproc
 1479              		@ args = 0, pretend = 0, frame = 0
 1480              		@ frame_needed = 0, uses_anonymous_args = 0
 1481              	.LVL177:
 1482 0000 38B5     		push	{r3, r4, r5, lr}
 1483              	.LCFI22:
 1484              		.cfi_def_cfa_offset 16
 1485              		.cfi_offset 3, -16
 1486              		.cfi_offset 4, -12
 1487              		.cfi_offset 5, -8
 1488              		.cfi_offset 14, -4
1666:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1489              		.loc 1 1666 0
 1490 0002 0546     		mov	r5, r0
 1491 0004 88B1     		cbz	r0, .L193
 1492              	.LVL178:
 1493              	.L190:
1668:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (cseg == NULL) {
 1494              		.loc 1 1668 0
ARM GAS  /tmp/ccX62RBj.s 			page 62


 1495 0006 0320     		movs	r0, #3
 1496 0008 FFF7FEFF 		bl	memp_malloc
 1497              	.LVL179:
1669:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return NULL;
 1498              		.loc 1 1669 0
 1499 000c 0446     		mov	r4, r0
 1500 000e 50B1     		cbz	r0, .L189
1672:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pbuf_ref(cseg->p);
 1501              		.loc 1 1672 0
 1502 0010 2868     		ldr	r0, [r5]	@ unaligned
 1503              	.LVL180:
 1504 0012 6968     		ldr	r1, [r5, #4]	@ unaligned
 1505 0014 AA68     		ldr	r2, [r5, #8]	@ unaligned
 1506 0016 EB68     		ldr	r3, [r5, #12]	@ unaligned
 1507 0018 2060     		str	r0, [r4]	@ unaligned
 1508 001a 6160     		str	r1, [r4, #4]	@ unaligned
 1509 001c A260     		str	r2, [r4, #8]	@ unaligned
 1510 001e E360     		str	r3, [r4, #12]	@ unaligned
1673:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return cseg;
 1511              		.loc 1 1673 0
 1512 0020 6068     		ldr	r0, [r4, #4]
 1513 0022 FFF7FEFF 		bl	pbuf_ref
 1514              	.LVL181:
 1515              	.L189:
1675:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
 1516              		.loc 1 1675 0
 1517 0026 2046     		mov	r0, r4
 1518 0028 38BD     		pop	{r3, r4, r5, pc}
 1519              	.LVL182:
 1520              	.L193:
1666:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1521              		.loc 1 1666 0 discriminator 1
 1522 002a 044B     		ldr	r3, .L194
 1523 002c 40F28262 		movw	r2, #1666
 1524 0030 0349     		ldr	r1, .L194+4
 1525 0032 0448     		ldr	r0, .L194+8
 1526              	.LVL183:
 1527 0034 FFF7FEFF 		bl	printf
 1528              	.LVL184:
 1529 0038 E5E7     		b	.L190
 1530              	.L195:
 1531 003a 00BF     		.align	2
 1532              	.L194:
 1533 003c 00000000 		.word	.LC0
 1534 0040 00000000 		.word	.LC16
 1535 0044 54000000 		.word	.LC2
 1536              		.cfi_endproc
 1537              	.LFE186:
 1539              		.section	.text.tcp_arg,"ax",%progbits
 1540              		.align	1
 1541              		.global	tcp_arg
 1542              		.syntax unified
 1543              		.thumb
 1544              		.thumb_func
 1545              		.fpu fpv5-d16
 1547              	tcp_arg:
 1548              	.LFB195:
ARM GAS  /tmp/ccX62RBj.s 			page 63


1826:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1827:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1828:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Allocate a new tcp_pcb structure.
1829:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1830:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param prio priority for the new pcb
1831:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return a new tcp_pcb that initially is in state CLOSED
1832:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1833:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *
1834:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_alloc(u8_t prio)
1835:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1836:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
1837:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1838:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
1839:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1840:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = (struct tcp_pcb *)memp_malloc(MEMP_TCP_PCB);
1841:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb == NULL) {
1842:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Try to send FIN for all pcbs stuck in TF_CLOSEPEND first */
1843:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_handle_closepend();
1844:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1845:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Try killing oldest connection in TIME-WAIT. */
1846:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_alloc: killing off oldest TIME-WAIT connection\n"));
1847:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_kill_timewait();
1848:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Try to allocate a tcp_pcb again. */
1849:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb = (struct tcp_pcb *)memp_malloc(MEMP_TCP_PCB);
1850:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb == NULL) {
1851:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Try killing oldest connection in LAST-ACK (these wouldn't go to TIME-WAIT). */
1852:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_alloc: killing off oldest LAST-ACK connection\n"));
1853:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_kill_state(LAST_ACK);
1854:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Try to allocate a tcp_pcb again. */
1855:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = (struct tcp_pcb *)memp_malloc(MEMP_TCP_PCB);
1856:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb == NULL) {
1857:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* Try killing oldest connection in CLOSING. */
1858:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_alloc: killing off oldest CLOSING connection\n"));
1859:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_kill_state(CLOSING);
1860:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* Try to allocate a tcp_pcb again. */
1861:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         pcb = (struct tcp_pcb *)memp_malloc(MEMP_TCP_PCB);
1862:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb == NULL) {
1863:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Try killing oldest active connection with lower priority than the new one. */
1864:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           LWIP_DEBUGF(TCP_DEBUG, ("tcp_alloc: killing oldest connection with prio lower than %d\n",
1865:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           tcp_kill_prio(prio);
1866:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Try to allocate a tcp_pcb again. */
1867:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb = (struct tcp_pcb *)memp_malloc(MEMP_TCP_PCB);
1868:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (pcb != NULL) {
1869:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* adjust err stats: memp_malloc failed multiple times before */
1870:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             MEMP_STATS_DEC(err, MEMP_TCP_PCB);
1871:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
1872:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1873:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb != NULL) {
1874:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* adjust err stats: memp_malloc failed multiple times before */
1875:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           MEMP_STATS_DEC(err, MEMP_TCP_PCB);
1876:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1877:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1878:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb != NULL) {
1879:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* adjust err stats: memp_malloc failed multiple times before */
1880:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         MEMP_STATS_DEC(err, MEMP_TCP_PCB);
1881:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1882:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
ARM GAS  /tmp/ccX62RBj.s 			page 64


1883:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb != NULL) {
1884:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* adjust err stats: memp_malloc failed above */
1885:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       MEMP_STATS_DEC(err, MEMP_TCP_PCB);
1886:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1887:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1888:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
1889:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* zero out the whole pcb, so there is no need to initialize members to zero */
1890:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     memset(pcb, 0, sizeof(struct tcp_pcb));
1891:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->prio = prio;
1892:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->snd_buf = TCP_SND_BUF;
1893:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Start with a window that does not need scaling. When window scaling is
1894:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        enabled and used, the window is enlarged when both sides agree on scaling. */
1895:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rcv_wnd = pcb->rcv_ann_wnd = TCPWND_MIN16(TCP_WND);
1896:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->ttl = TCP_TTL;
1897:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* As initial send MSS, we use TCP_MSS but limit it to 536.
1898:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        The send MSS is updated when an MSS option is received. */
1899:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->mss = INITIAL_MSS;
1900:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rto = 3000 / TCP_SLOW_INTERVAL;
1901:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->sv = 3000 / TCP_SLOW_INTERVAL;
1902:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rtime = -1;
1903:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->cwnd = 1;
1904:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->tmr = tcp_ticks;
1905:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->last_timer = tcp_timer_ctr;
1906:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1907:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* RFC 5681 recommends setting ssthresh abritrarily high and gives an example
1908:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     of using the largest advertised receive window.  We've seen complications with
1909:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     receiving TCPs that use window scaling and/or window auto-tuning where the
1910:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     initial advertised window is very small and then grows rapidly once the
1911:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     connection is established. To avoid these complications, we set ssthresh to the
1912:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     largest effective cwnd (amount of in-flight data) that the sender can have. */
1913:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->ssthresh = TCP_SND_BUF;
1914:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1915:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
1916:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->recv = tcp_recv_null;
1917:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
1918:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1919:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Init KEEPALIVE timer */
1920:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->keep_idle  = TCP_KEEPIDLE_DEFAULT;
1921:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1922:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_KEEPALIVE
1923:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->keep_intvl = TCP_KEEPINTVL_DEFAULT;
1924:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->keep_cnt   = TCP_KEEPCNT_DEFAULT;
1925:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_TCP_KEEPALIVE */
1926:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1927:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return pcb;
1928:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1929:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1930:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1931:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
1932:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Creates a new TCP protocol control block but doesn't place it on
1933:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * any of the TCP PCB lists.
1934:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The pcb is not put on any list until binding using tcp_bind().
1935:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * If memory is not available for creating the new pcb, NULL is returned.
1936:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1937:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @internal: Maybe there should be a idle TCP PCB list where these
1938:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * PCBs are put on. Port reservation using tcp_bind() is implemented but
1939:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * allocated pcbs that are not bound can't be killed automatically if wanting
ARM GAS  /tmp/ccX62RBj.s 			page 65


1940:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * to allocate a pcb with higher prio (@see tcp_kill_prio())
1941:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1942:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return a new tcp_pcb that initially is in state CLOSED
1943:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1944:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *
1945:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_new(void)
1946:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1947:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return tcp_alloc(TCP_PRIO_NORMAL);
1948:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1949:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1950:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1951:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
1952:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Creates a new TCP protocol control block but doesn't
1953:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * place it on any of the TCP PCB lists.
1954:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The pcb is not put on any list until binding using tcp_bind().
1955:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1956:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param type IP address type, see @ref lwip_ip_addr_type definitions.
1957:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * If you want to listen to IPv4 and IPv6 (dual-stack) connections,
1958:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * supply @ref IPADDR_TYPE_ANY as argument and bind to @ref IP_ANY_TYPE.
1959:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return a new tcp_pcb that initially is in state CLOSED
1960:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1961:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *
1962:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_new_ip_type(u8_t type)
1963:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
1964:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
1965:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = tcp_alloc(TCP_PRIO_NORMAL);
1966:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4 && LWIP_IPV6
1967:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
1968:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     IP_SET_TYPE_VAL(pcb->local_ip, type);
1969:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     IP_SET_TYPE_VAL(pcb->remote_ip, type);
1970:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1971:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else
1972:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(type);
1973:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1974:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return pcb;
1975:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1976:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1977:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1978:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
1979:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Specifies the program specific state that should be passed to all
1980:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * other callback functions. The "pcb" argument is the current TCP
1981:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * connection control block, and the "arg" argument is the argument
1982:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * that will be passed to the callbacks.
1983:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1984:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to set the callback argument
1985:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param arg void pointer argument to pass to callback functions
1986:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1987:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1988:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_arg(struct tcp_pcb *pcb, void *arg)
1989:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1549              		.loc 1 1989 0
 1550              		.cfi_startproc
 1551              		@ args = 0, pretend = 0, frame = 0
 1552              		@ frame_needed = 0, uses_anonymous_args = 0
 1553              		@ link register save eliminated.
 1554              	.LVL185:
1990:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
ARM GAS  /tmp/ccX62RBj.s 			page 66


1991:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* This function is allowed to be called for both listen pcbs and
1992:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      connection pcbs. */
1993:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
 1555              		.loc 1 1993 0
 1556 0000 00B1     		cbz	r0, .L196
1994:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->callback_arg = arg;
 1557              		.loc 1 1994 0
 1558 0002 0161     		str	r1, [r0, #16]
 1559              	.L196:
 1560 0004 7047     		bx	lr
 1561              		.cfi_endproc
 1562              	.LFE195:
 1564              		.section	.text.tcp_recv,"ax",%progbits
 1565              		.align	1
 1566              		.global	tcp_recv
 1567              		.syntax unified
 1568              		.thumb
 1569              		.thumb_func
 1570              		.fpu fpv5-d16
 1572              	tcp_recv:
 1573              	.LFB196:
1995:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1996:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
1997:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
1998:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1999:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2000:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
2001:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Sets the callback function that will be called when new data
2002:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * arrives. The callback function will be passed a NULL pbuf to
2003:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * indicate that the remote host has closed the connection. If the
2004:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * callback function returns ERR_OK or ERR_ABRT it must have
2005:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * freed the pbuf, otherwise it must not have freed it.
2006:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2007:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to set the recv callback
2008:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param recv callback function to call for this pcb when data is received
2009:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2010:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2011:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_recv(struct tcp_pcb *pcb, tcp_recv_fn recv)
2012:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1574              		.loc 1 2012 0
 1575              		.cfi_startproc
 1576              		@ args = 0, pretend = 0, frame = 0
 1577              		@ frame_needed = 0, uses_anonymous_args = 0
 1578              	.LVL186:
2013:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
2014:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
 1579              		.loc 1 2014 0
 1580 0000 80B1     		cbz	r0, .L202
2012:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 1581              		.loc 1 2012 0
 1582 0002 38B5     		push	{r3, r4, r5, lr}
 1583              	.LCFI23:
 1584              		.cfi_def_cfa_offset 16
 1585              		.cfi_offset 3, -16
 1586              		.cfi_offset 4, -12
 1587              		.cfi_offset 5, -8
 1588              		.cfi_offset 14, -4
ARM GAS  /tmp/ccX62RBj.s 			page 67


 1589 0004 0446     		mov	r4, r0
 1590 0006 0D46     		mov	r5, r1
2015:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("invalid socket state for recv callback", pcb->state != LISTEN);
 1591              		.loc 1 2015 0
 1592 0008 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 1593 000a 012B     		cmp	r3, #1
 1594 000c 02D0     		beq	.L205
 1595              	.LVL187:
 1596              	.L200:
2016:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->recv = recv;
 1597              		.loc 1 2016 0
 1598 000e C4F88450 		str	r5, [r4, #132]
 1599 0012 38BD     		pop	{r3, r4, r5, pc}
 1600              	.LVL188:
 1601              	.L205:
2015:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("invalid socket state for recv callback", pcb->state != LISTEN);
 1602              		.loc 1 2015 0 discriminator 1
 1603 0014 044B     		ldr	r3, .L206
 1604 0016 40F2DF72 		movw	r2, #2015
 1605 001a 0449     		ldr	r1, .L206+4
 1606              	.LVL189:
 1607 001c 0448     		ldr	r0, .L206+8
 1608              	.LVL190:
 1609 001e FFF7FEFF 		bl	printf
 1610              	.LVL191:
 1611 0022 F4E7     		b	.L200
 1612              	.LVL192:
 1613              	.L202:
 1614              	.LCFI24:
 1615              		.cfi_def_cfa_offset 0
 1616              		.cfi_restore 3
 1617              		.cfi_restore 4
 1618              		.cfi_restore 5
 1619              		.cfi_restore 14
 1620 0024 7047     		bx	lr
 1621              	.L207:
 1622 0026 00BF     		.align	2
 1623              	.L206:
 1624 0028 00000000 		.word	.LC0
 1625 002c 00000000 		.word	.LC17
 1626 0030 54000000 		.word	.LC2
 1627              		.cfi_endproc
 1628              	.LFE196:
 1630              		.section	.text.tcp_sent,"ax",%progbits
 1631              		.align	1
 1632              		.global	tcp_sent
 1633              		.syntax unified
 1634              		.thumb
 1635              		.thumb_func
 1636              		.fpu fpv5-d16
 1638              	tcp_sent:
 1639              	.LFB197:
2017:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2018:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
2019:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2020:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2021:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
ARM GAS  /tmp/ccX62RBj.s 			page 68


2022:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Specifies the callback function that should be called when data has
2023:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * successfully been received (i.e., acknowledged) by the remote
2024:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * host. The len argument passed to the callback function gives the
2025:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * amount bytes that was acknowledged by the last acknowledgment.
2026:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2027:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to set the sent callback
2028:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param sent callback function to call for this pcb when data is successfully sent
2029:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2030:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2031:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_sent(struct tcp_pcb *pcb, tcp_sent_fn sent)
2032:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1640              		.loc 1 2032 0
 1641              		.cfi_startproc
 1642              		@ args = 0, pretend = 0, frame = 0
 1643              		@ frame_needed = 0, uses_anonymous_args = 0
 1644              	.LVL193:
2033:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
2034:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
 1645              		.loc 1 2034 0
 1646 0000 80B1     		cbz	r0, .L212
2032:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 1647              		.loc 1 2032 0
 1648 0002 38B5     		push	{r3, r4, r5, lr}
 1649              	.LCFI25:
 1650              		.cfi_def_cfa_offset 16
 1651              		.cfi_offset 3, -16
 1652              		.cfi_offset 4, -12
 1653              		.cfi_offset 5, -8
 1654              		.cfi_offset 14, -4
 1655 0004 0446     		mov	r4, r0
 1656 0006 0D46     		mov	r5, r1
2035:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("invalid socket state for sent callback", pcb->state != LISTEN);
 1657              		.loc 1 2035 0
 1658 0008 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 1659 000a 012B     		cmp	r3, #1
 1660 000c 02D0     		beq	.L215
 1661              	.LVL194:
 1662              	.L210:
2036:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->sent = sent;
 1663              		.loc 1 2036 0
 1664 000e C4F88050 		str	r5, [r4, #128]
 1665 0012 38BD     		pop	{r3, r4, r5, pc}
 1666              	.LVL195:
 1667              	.L215:
2035:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("invalid socket state for sent callback", pcb->state != LISTEN);
 1668              		.loc 1 2035 0 discriminator 1
 1669 0014 044B     		ldr	r3, .L216
 1670 0016 40F2F372 		movw	r2, #2035
 1671 001a 0449     		ldr	r1, .L216+4
 1672              	.LVL196:
 1673 001c 0448     		ldr	r0, .L216+8
 1674              	.LVL197:
 1675 001e FFF7FEFF 		bl	printf
 1676              	.LVL198:
 1677 0022 F4E7     		b	.L210
 1678              	.LVL199:
 1679              	.L212:
ARM GAS  /tmp/ccX62RBj.s 			page 69


 1680              	.LCFI26:
 1681              		.cfi_def_cfa_offset 0
 1682              		.cfi_restore 3
 1683              		.cfi_restore 4
 1684              		.cfi_restore 5
 1685              		.cfi_restore 14
 1686 0024 7047     		bx	lr
 1687              	.L217:
 1688 0026 00BF     		.align	2
 1689              	.L216:
 1690 0028 00000000 		.word	.LC0
 1691 002c 00000000 		.word	.LC18
 1692 0030 54000000 		.word	.LC2
 1693              		.cfi_endproc
 1694              	.LFE197:
 1696              		.section	.text.tcp_err,"ax",%progbits
 1697              		.align	1
 1698              		.global	tcp_err
 1699              		.syntax unified
 1700              		.thumb
 1701              		.thumb_func
 1702              		.fpu fpv5-d16
 1704              	tcp_err:
 1705              	.LFB198:
2037:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2038:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
2039:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2040:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2041:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
2042:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Used to specify the function that should be called when a fatal error
2043:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * has occurred on the connection.
2044:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
2045:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * If a connection is aborted because of an error, the application is
2046:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * alerted of this event by the err callback. Errors that might abort a
2047:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * connection are when there is a shortage of memory. The callback
2048:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * function to be called is set using the tcp_err() function.
2049:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2050:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @note The corresponding pcb is already freed when this callback is called!
2051:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2052:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to set the err callback
2053:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param err callback function to call for this pcb when a fatal error
2054:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *        has occurred on the connection
2055:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2056:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2057:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_err(struct tcp_pcb *pcb, tcp_err_fn err)
2058:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1706              		.loc 1 2058 0
 1707              		.cfi_startproc
 1708              		@ args = 0, pretend = 0, frame = 0
 1709              		@ frame_needed = 0, uses_anonymous_args = 0
 1710              	.LVL200:
2059:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
2060:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
 1711              		.loc 1 2060 0
 1712 0000 80B1     		cbz	r0, .L222
2058:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 1713              		.loc 1 2058 0
ARM GAS  /tmp/ccX62RBj.s 			page 70


 1714 0002 38B5     		push	{r3, r4, r5, lr}
 1715              	.LCFI27:
 1716              		.cfi_def_cfa_offset 16
 1717              		.cfi_offset 3, -16
 1718              		.cfi_offset 4, -12
 1719              		.cfi_offset 5, -8
 1720              		.cfi_offset 14, -4
 1721 0004 0446     		mov	r4, r0
 1722 0006 0D46     		mov	r5, r1
2061:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("invalid socket state for err callback", pcb->state != LISTEN);
 1723              		.loc 1 2061 0
 1724 0008 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 1725 000a 012B     		cmp	r3, #1
 1726 000c 02D0     		beq	.L225
 1727              	.LVL201:
 1728              	.L220:
2062:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->errf = err;
 1729              		.loc 1 2062 0
 1730 000e C4F89050 		str	r5, [r4, #144]
 1731 0012 38BD     		pop	{r3, r4, r5, pc}
 1732              	.LVL202:
 1733              	.L225:
2061:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("invalid socket state for err callback", pcb->state != LISTEN);
 1734              		.loc 1 2061 0 discriminator 1
 1735 0014 044B     		ldr	r3, .L226
 1736 0016 40F60D02 		movw	r2, #2061
 1737 001a 0449     		ldr	r1, .L226+4
 1738              	.LVL203:
 1739 001c 0448     		ldr	r0, .L226+8
 1740              	.LVL204:
 1741 001e FFF7FEFF 		bl	printf
 1742              	.LVL205:
 1743 0022 F4E7     		b	.L220
 1744              	.LVL206:
 1745              	.L222:
 1746              	.LCFI28:
 1747              		.cfi_def_cfa_offset 0
 1748              		.cfi_restore 3
 1749              		.cfi_restore 4
 1750              		.cfi_restore 5
 1751              		.cfi_restore 14
 1752 0024 7047     		bx	lr
 1753              	.L227:
 1754 0026 00BF     		.align	2
 1755              	.L226:
 1756 0028 00000000 		.word	.LC0
 1757 002c 00000000 		.word	.LC19
 1758 0030 54000000 		.word	.LC2
 1759              		.cfi_endproc
 1760              	.LFE198:
 1762              		.section	.text.tcp_accept,"ax",%progbits
 1763              		.align	1
 1764              		.global	tcp_accept
 1765              		.syntax unified
 1766              		.thumb
 1767              		.thumb_func
 1768              		.fpu fpv5-d16
ARM GAS  /tmp/ccX62RBj.s 			page 71


 1770              	tcp_accept:
 1771              	.LFB199:
2063:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2064:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
2065:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2066:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2067:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
2068:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Used for specifying the function that should be called when a
2069:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * LISTENing connection has been connected to another host.
2070:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2071:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to set the accept callback
2072:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param accept callback function to call for this pcb when LISTENing
2073:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *        connection has been connected to another host
2074:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2075:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2076:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_accept(struct tcp_pcb *pcb, tcp_accept_fn accept)
2077:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1772              		.loc 1 2077 0
 1773              		.cfi_startproc
 1774              		@ args = 0, pretend = 0, frame = 0
 1775              		@ frame_needed = 0, uses_anonymous_args = 0
 1776              		@ link register save eliminated.
 1777              	.LVL207:
2078:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
2079:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if ((pcb != NULL) && (pcb->state == LISTEN)) {
 1778              		.loc 1 2079 0
 1779 0000 10B1     		cbz	r0, .L228
 1780              		.loc 1 2079 0 is_stmt 0 discriminator 1
 1781 0002 027D     		ldrb	r2, [r0, #20]	@ zero_extendqisi2
 1782 0004 012A     		cmp	r2, #1
 1783 0006 00D0     		beq	.L230
 1784              	.L228:
 1785 0008 7047     		bx	lr
 1786              	.L230:
 1787              	.LVL208:
 1788              	.LBB8:
2080:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct tcp_pcb_listen *lpcb = (struct tcp_pcb_listen *)pcb;
2081:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     lpcb->accept = accept;
 1789              		.loc 1 2081 0 is_stmt 1
 1790 000a 8161     		str	r1, [r0, #24]
 1791              	.LBE8:
2082:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2083:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 1792              		.loc 1 2083 0
 1793 000c FCE7     		b	.L228
 1794              		.cfi_endproc
 1795              	.LFE199:
 1797              		.section	.text.tcp_poll,"ax",%progbits
 1798              		.align	1
 1799              		.global	tcp_poll
 1800              		.syntax unified
 1801              		.thumb
 1802              		.thumb_func
 1803              		.fpu fpv5-d16
 1805              	tcp_poll:
 1806              	.LFB200:
2084:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
ARM GAS  /tmp/ccX62RBj.s 			page 72


2085:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2086:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2087:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2088:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
2089:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Specifies the polling interval and the callback function that should
2090:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * be called to poll the application. The interval is specified in
2091:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * number of TCP coarse grained timer shots, which typically occurs
2092:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * twice a second. An interval of 10 means that the application would
2093:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * be polled every 5 seconds.
2094:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
2095:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * When a connection is idle (i.e., no data is either transmitted or
2096:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * received), lwIP will repeatedly poll the application by calling a
2097:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * specified callback function. This can be used either as a watchdog
2098:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * timer for killing connections that have stayed idle for too long, or
2099:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * as a method of waiting for memory to become available. For instance,
2100:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * if a call to tcp_write() has failed because memory wasn't available,
2101:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the application may use the polling functionality to call tcp_write()
2102:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * again when the connection has been idle for a while.
2103:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2104:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2105:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_poll(struct tcp_pcb *pcb, tcp_poll_fn poll, u8_t interval)
2106:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1807              		.loc 1 2106 0
 1808              		.cfi_startproc
 1809              		@ args = 0, pretend = 0, frame = 0
 1810              		@ frame_needed = 0, uses_anonymous_args = 0
 1811              	.LVL209:
 1812 0000 70B5     		push	{r4, r5, r6, lr}
 1813              	.LCFI29:
 1814              		.cfi_def_cfa_offset 16
 1815              		.cfi_offset 4, -16
 1816              		.cfi_offset 5, -12
 1817              		.cfi_offset 6, -8
 1818              		.cfi_offset 14, -4
2107:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
2108:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2109:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_poll: invalid pcb", pcb != NULL, return);
 1819              		.loc 1 2109 0
 1820 0002 48B1     		cbz	r0, .L236
 1821 0004 0E46     		mov	r6, r1
 1822 0006 1546     		mov	r5, r2
 1823 0008 0446     		mov	r4, r0
2110:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("invalid socket state for poll", pcb->state != LISTEN);
 1824              		.loc 1 2110 0
 1825 000a 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 1826 000c 012B     		cmp	r3, #1
 1827 000e 0BD0     		beq	.L237
 1828              	.LVL210:
 1829              	.L234:
2111:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2112:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
2113:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->poll = poll;
 1830              		.loc 1 2113 0
 1831 0010 C4F88C60 		str	r6, [r4, #140]
2114:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* LWIP_CALLBACK_API */
2115:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(poll);
2116:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
ARM GAS  /tmp/ccX62RBj.s 			page 73


2117:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->pollinterval = interval;
 1832              		.loc 1 2117 0
 1833 0014 6577     		strb	r5, [r4, #29]
 1834 0016 70BD     		pop	{r4, r5, r6, pc}
 1835              	.LVL211:
 1836              	.L236:
2109:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("invalid socket state for poll", pcb->state != LISTEN);
 1837              		.loc 1 2109 0 discriminator 1
 1838 0018 074B     		ldr	r3, .L238
 1839 001a 40F63D02 		movw	r2, #2109
 1840              	.LVL212:
 1841 001e 0749     		ldr	r1, .L238+4
 1842              	.LVL213:
 1843 0020 0748     		ldr	r0, .L238+8
 1844              	.LVL214:
 1845 0022 FFF7FEFF 		bl	printf
 1846              	.LVL215:
 1847 0026 70BD     		pop	{r4, r5, r6, pc}
 1848              	.LVL216:
 1849              	.L237:
2110:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1850              		.loc 1 2110 0 discriminator 1
 1851 0028 034B     		ldr	r3, .L238
 1852 002a 40F63E02 		movw	r2, #2110
 1853              	.LVL217:
 1854 002e 0549     		ldr	r1, .L238+12
 1855              	.LVL218:
 1856 0030 0348     		ldr	r0, .L238+8
 1857              	.LVL219:
 1858 0032 FFF7FEFF 		bl	printf
 1859              	.LVL220:
 1860 0036 EBE7     		b	.L234
 1861              	.L239:
 1862              		.align	2
 1863              	.L238:
 1864 0038 00000000 		.word	.LC0
 1865 003c 00000000 		.word	.LC20
 1866 0040 54000000 		.word	.LC2
 1867 0044 18000000 		.word	.LC21
 1868              		.cfi_endproc
 1869              	.LFE200:
 1871              		.section	.text.tcp_next_iss,"ax",%progbits
 1872              		.align	1
 1873              		.global	tcp_next_iss
 1874              		.syntax unified
 1875              		.thumb
 1876              		.thumb_func
 1877              		.fpu fpv5-d16
 1879              	tcp_next_iss:
 1880              	.LFB203:
2118:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
2119:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2120:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2121:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Purges a TCP PCB. Removes any buffered data and frees the buffer memory
2122:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * (pcb->ooseq, pcb->unsent and pcb->unacked are freed).
2123:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2124:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to purge. The pcb itself is not deallocated!
ARM GAS  /tmp/ccX62RBj.s 			page 74


2125:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2126:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2127:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_pcb_purge(struct tcp_pcb *pcb)
2128:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
2129:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_pcb_purge: invalid pcb", pcb != NULL, return);
2130:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2131:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state != CLOSED &&
2132:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->state != TIME_WAIT &&
2133:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->state != LISTEN) {
2134:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2135:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge\n"));
2136:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2137:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_backlog_accepted(pcb);
2138:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2139:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->refused_data != NULL) {
2140:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge: data left on ->refused_data\n"));
2141:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pbuf_free(pcb->refused_data);
2142:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->refused_data = NULL;
2143:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2144:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->unsent != NULL) {
2145:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge: not all data sent\n"));
2146:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2147:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->unacked != NULL) {
2148:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge: data left on ->unacked\n"));
2149:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2150:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
2151:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->ooseq != NULL) {
2152:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge: data left on ->ooseq\n"));
2153:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free_ooseq(pcb);
2154:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2155:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
2156:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2157:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Stop the retransmission timer as it will expect data on unacked
2158:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        queue if it fires */
2159:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rtime = -1;
2160:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2161:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_segs_free(pcb->unsent);
2162:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_segs_free(pcb->unacked);
2163:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->unacked = pcb->unsent = NULL;
2164:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_OVERSIZE
2165:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->unsent_oversize = 0;
2166:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_OVERSIZE */
2167:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2168:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
2169:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2170:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2171:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Purges the PCB and removes it from a PCB list. Any delayed ACKs are sent first.
2172:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2173:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcblist PCB list to purge.
2174:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to purge. The pcb itself is NOT deallocated!
2175:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2176:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2177:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_pcb_remove(struct tcp_pcb **pcblist, struct tcp_pcb *pcb)
2178:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
2179:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_pcb_remove: invalid pcb", pcb != NULL);
2180:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_pcb_remove: invalid pcblist", pcblist != NULL);
2181:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
ARM GAS  /tmp/ccX62RBj.s 			page 75


2182:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   TCP_RMV(pcblist, pcb);
2183:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2184:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_pcb_purge(pcb);
2185:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2186:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* if there is an outstanding delayed ACKs, send it */
2187:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if ((pcb->state != TIME_WAIT) &&
2188:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       (pcb->state != LISTEN) &&
2189:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       (pcb->flags & TF_ACK_DELAY)) {
2190:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_ack_now(pcb);
2191:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_output(pcb);
2192:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2193:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2194:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state != LISTEN) {
2195:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("unsent segments leaking", pcb->unsent == NULL);
2196:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("unacked segments leaking", pcb->unacked == NULL);
2197:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
2198:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("ooseq segments leaking", pcb->ooseq == NULL);
2199:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
2200:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2201:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2202:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->state = CLOSED;
2203:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* reset the local port to prevent the pcb from being 'bound' */
2204:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->local_port = 0;
2205:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2206:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_pcb_remove: tcp_pcbs_sane()", tcp_pcbs_sane());
2207:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
2208:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2209:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2210:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Calculates a new initial sequence number for new connections.
2211:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2212:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return u32_t pseudo random sequence number
2213:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2214:Middlewares/Third_Party/LwIP/src/core/tcp.c **** u32_t
2215:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_next_iss(struct tcp_pcb *pcb)
2216:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1881              		.loc 1 2216 0
 1882              		.cfi_startproc
 1883              		@ args = 0, pretend = 0, frame = 0
 1884              		@ frame_needed = 0, uses_anonymous_args = 0
 1885              	.LVL221:
 1886 0000 08B5     		push	{r3, lr}
 1887              	.LCFI30:
 1888              		.cfi_def_cfa_offset 8
 1889              		.cfi_offset 3, -8
 1890              		.cfi_offset 14, -4
2217:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #ifdef LWIP_HOOK_TCP_ISN
2218:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_next_iss: invalid pcb", pcb != NULL);
2219:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return LWIP_HOOK_TCP_ISN(&pcb->local_ip, pcb->local_port, &pcb->remote_ip, pcb->remote_port);
2220:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* LWIP_HOOK_TCP_ISN */
2221:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   static u32_t iss = 6510;
2222:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2223:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_next_iss: invalid pcb", pcb != NULL);
 1891              		.loc 1 2223 0
 1892 0002 30B1     		cbz	r0, .L243
 1893              	.LVL222:
 1894              	.L241:
2224:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(pcb);
ARM GAS  /tmp/ccX62RBj.s 			page 76


2225:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2226:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   iss += tcp_ticks;       /* XXX */
 1895              		.loc 1 2226 0
 1896 0004 074B     		ldr	r3, .L244
 1897 0006 1868     		ldr	r0, [r3]
 1898 0008 074A     		ldr	r2, .L244+4
 1899 000a 1268     		ldr	r2, [r2]
 1900 000c 1044     		add	r0, r0, r2
 1901 000e 1860     		str	r0, [r3]
2227:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return iss;
2228:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_HOOK_TCP_ISN */
2229:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 1902              		.loc 1 2229 0
 1903 0010 08BD     		pop	{r3, pc}
 1904              	.LVL223:
 1905              	.L243:
2223:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(pcb);
 1906              		.loc 1 2223 0 discriminator 1
 1907 0012 064B     		ldr	r3, .L244+8
 1908 0014 40F6AF02 		movw	r2, #2223
 1909 0018 0549     		ldr	r1, .L244+12
 1910 001a 0648     		ldr	r0, .L244+16
 1911              	.LVL224:
 1912 001c FFF7FEFF 		bl	printf
 1913              	.LVL225:
 1914 0020 F0E7     		b	.L241
 1915              	.L245:
 1916 0022 00BF     		.align	2
 1917              	.L244:
 1918 0024 00000000 		.word	.LANCHOR2
 1919 0028 00000000 		.word	tcp_ticks
 1920 002c 00000000 		.word	.LC0
 1921 0030 00000000 		.word	.LC22
 1922 0034 54000000 		.word	.LC2
 1923              		.cfi_endproc
 1924              	.LFE203:
 1926              		.section	.text.tcp_eff_send_mss_netif,"ax",%progbits
 1927              		.align	1
 1928              		.global	tcp_eff_send_mss_netif
 1929              		.syntax unified
 1930              		.thumb
 1931              		.thumb_func
 1932              		.fpu fpv5-d16
 1934              	tcp_eff_send_mss_netif:
 1935              	.LFB204:
2230:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2231:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_CALCULATE_EFF_SEND_MSS
2232:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2233:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Calculates the effective send mss that can be used for a specific IP address
2234:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * by calculating the minimum of TCP_MSS and the mtu (if set) of the target
2235:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * netif (if not NULL).
2236:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2237:Middlewares/Third_Party/LwIP/src/core/tcp.c **** u16_t
2238:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_eff_send_mss_netif(u16_t sendmss, struct netif *outif, const ip_addr_t *dest)
2239:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1936              		.loc 1 2239 0
 1937              		.cfi_startproc
ARM GAS  /tmp/ccX62RBj.s 			page 77


 1938              		@ args = 0, pretend = 0, frame = 0
 1939              		@ frame_needed = 0, uses_anonymous_args = 0
 1940              	.LVL226:
 1941 0000 38B5     		push	{r3, r4, r5, lr}
 1942              	.LCFI31:
 1943              		.cfi_def_cfa_offset 16
 1944              		.cfi_offset 3, -16
 1945              		.cfi_offset 4, -12
 1946              		.cfi_offset 5, -8
 1947              		.cfi_offset 14, -4
 1948 0002 0546     		mov	r5, r0
 1949 0004 0C46     		mov	r4, r1
2240:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u16_t mss_s;
2241:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u16_t mtu;
2242:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2243:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(dest); /* in case IPv6 is disabled */
2244:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2245:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_eff_send_mss_netif: invalid dst_ip", dest != NULL);
 1950              		.loc 1 2245 0
 1951 0006 52B1     		cbz	r2, .L254
 1952              	.LVL227:
 1953              	.L247:
2246:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2247:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV6
2248:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
2249:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (IP_IS_V6(dest))
2250:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
2251:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   {
2252:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* First look in destination cache, to see if there is a Path MTU. */
2253:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     mtu = nd6_get_destination_mtu(ip_2_ip6(dest), outif);
2254:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2255:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
2256:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   else
2257:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
2258:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV6 */
2259:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
2260:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   {
2261:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (outif == NULL) {
 1954              		.loc 1 2261 0
 1955 0008 9CB1     		cbz	r4, .L250
2262:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return sendmss;
2263:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2264:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     mtu = outif->mtu;
 1956              		.loc 1 2264 0
 1957 000a 208D     		ldrh	r0, [r4, #40]
 1958              	.LVL228:
2265:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2266:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
2267:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2268:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (mtu != 0) {
 1959              		.loc 1 2268 0
 1960 000c 98B1     		cbz	r0, .L251
 1961              	.LVL229:
 1962              	.LBB9:
2269:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     u16_t offset;
2270:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV6
2271:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
ARM GAS  /tmp/ccX62RBj.s 			page 78


2272:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (IP_IS_V6(dest))
2273:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
2274:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     {
2275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       offset = IP6_HLEN + TCP_HLEN;
2276:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2277:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
2278:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     else
2279:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
2280:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV6 */
2281:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
2282:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     {
2283:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       offset = IP_HLEN + TCP_HLEN;
2284:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2285:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
2286:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     mss_s = (mtu > offset) ? (u16_t)(mtu - offset) : 0;
 1963              		.loc 1 2286 0
 1964 000e 2828     		cmp	r0, #40
 1965 0010 0DD9     		bls	.L252
 1966              		.loc 1 2286 0 is_stmt 0 discriminator 1
 1967 0012 2838     		subs	r0, r0, #40
 1968              	.LVL230:
 1969 0014 80B2     		uxth	r0, r0
 1970              	.LVL231:
 1971              	.L249:
2287:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* RFC 1122, chap 4.2.2.6:
2288:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      * Eff.snd.MSS = min(SendMSS+20, MMS_S) - TCPhdrsize - IPoptionsize
2289:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      * We correct for TCP options in tcp_write(), and don't support IP options.
2290:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      */
2291:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     sendmss = LWIP_MIN(sendmss, mss_s);
 1972              		.loc 1 2291 0 is_stmt 1 discriminator 4
 1973 0016 A842     		cmp	r0, r5
 1974 0018 28BF     		it	cs
 1975 001a 2846     		movcs	r0, r5
 1976              	.LVL232:
 1977 001c 38BD     		pop	{r3, r4, r5, pc}
 1978              	.LVL233:
 1979              	.L254:
 1980              	.LBE9:
2245:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 1981              		.loc 1 2245 0 discriminator 1
 1982 001e 074B     		ldr	r3, .L255
 1983 0020 40F6C502 		movw	r2, #2245
 1984              	.LVL234:
 1985 0024 0649     		ldr	r1, .L255+4
 1986              	.LVL235:
 1987 0026 0748     		ldr	r0, .L255+8
 1988              	.LVL236:
 1989 0028 FFF7FEFF 		bl	printf
 1990              	.LVL237:
 1991 002c ECE7     		b	.L247
 1992              	.LVL238:
 1993              	.L252:
 1994              	.LBB10:
2286:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* RFC 1122, chap 4.2.2.6:
 1995              		.loc 1 2286 0
 1996 002e 0020     		movs	r0, #0
 1997              	.LVL239:
ARM GAS  /tmp/ccX62RBj.s 			page 79


 1998 0030 F1E7     		b	.L249
 1999              	.LVL240:
 2000              	.L250:
 2001              	.LBE10:
2262:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2002              		.loc 1 2262 0
 2003 0032 2846     		mov	r0, r5
 2004 0034 38BD     		pop	{r3, r4, r5, pc}
 2005              	.LVL241:
 2006              	.L251:
 2007 0036 2846     		mov	r0, r5
 2008              	.LVL242:
2292:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2293:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return sendmss;
2294:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 2009              		.loc 1 2294 0
 2010 0038 38BD     		pop	{r3, r4, r5, pc}
 2011              	.LVL243:
 2012              	.L256:
 2013 003a 00BF     		.align	2
 2014              	.L255:
 2015 003c 00000000 		.word	.LC0
 2016 0040 00000000 		.word	.LC23
 2017 0044 54000000 		.word	.LC2
 2018              		.cfi_endproc
 2019              	.LFE204:
 2021              		.section	.text.tcp_connect,"ax",%progbits
 2022              		.align	1
 2023              		.global	tcp_connect
 2024              		.syntax unified
 2025              		.thumb
 2026              		.thumb_func
 2027              		.fpu fpv5-d16
 2029              	tcp_connect:
 2030              	.LFB178:
1069:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct netif *netif = NULL;
 2031              		.loc 1 1069 0
 2032              		.cfi_startproc
 2033              		@ args = 0, pretend = 0, frame = 0
 2034              		@ frame_needed = 0, uses_anonymous_args = 0
 2035              	.LVL244:
 2036 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2037              	.LCFI32:
 2038              		.cfi_def_cfa_offset 24
 2039              		.cfi_offset 3, -24
 2040              		.cfi_offset 4, -20
 2041              		.cfi_offset 5, -16
 2042              		.cfi_offset 6, -12
 2043              		.cfi_offset 7, -8
 2044              		.cfi_offset 14, -4
 2045              	.LVL245:
1077:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_connect: invalid ipaddr", ipaddr != NULL, return ERR_ARG);
 2046              		.loc 1 1077 0
 2047 0002 0028     		cmp	r0, #0
 2048 0004 53D0     		beq	.L276
 2049 0006 1E46     		mov	r6, r3
 2050 0008 0446     		mov	r4, r0
ARM GAS  /tmp/ccX62RBj.s 			page 80


1078:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2051              		.loc 1 1078 0
 2052 000a 0029     		cmp	r1, #0
 2053 000c 59D0     		beq	.L277
1080:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2054              		.loc 1 1080 0
 2055 000e 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 2056              	.LVL246:
 2057 0010 002B     		cmp	r3, #0
 2058 0012 60D1     		bne	.L278
1083:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->remote_port = port;
 2059              		.loc 1 1083 0 discriminator 1
 2060 0014 0B68     		ldr	r3, [r1]
 2061 0016 4360     		str	r3, [r0, #4]
1084:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2062              		.loc 1 1084 0 discriminator 1
 2063 0018 0283     		strh	r2, [r0, #24]	@ movhi
1086:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     netif = netif_get_by_index(pcb->netif_idx);
 2064              		.loc 1 1086 0 discriminator 1
 2065 001a 007A     		ldrb	r0, [r0, #8]	@ zero_extendqisi2
 2066              	.LVL247:
 2067 001c 0028     		cmp	r0, #0
 2068 001e 64D0     		beq	.L262
1087:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 2069              		.loc 1 1087 0
 2070 0020 FFF7FEFF 		bl	netif_get_by_index
 2071              	.LVL248:
 2072 0024 0546     		mov	r5, r0
 2073              	.LVL249:
 2074              	.L263:
1092:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Don't even try to send a SYN packet if we have no route since that will fail. */
 2075              		.loc 1 1092 0
 2076 0026 002D     		cmp	r5, #0
 2077 0028 78D0     		beq	.L271
1098:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     const ip_addr_t *local_ip = ip_netif_get_local_ip(netif, ipaddr);
 2078              		.loc 1 1098 0
 2079 002a 0CB1     		cbz	r4, .L264
1098:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     const ip_addr_t *local_ip = ip_netif_get_local_ip(netif, ipaddr);
 2080              		.loc 1 1098 0 is_stmt 0 discriminator 1
 2081 002c 2368     		ldr	r3, [r4]
 2082 002e 23B9     		cbnz	r3, .L265
 2083              	.L264:
 2084              	.LVL250:
 2085              	.LBB11:
1100:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_RTE;
 2086              		.loc 1 1100 0 is_stmt 1 discriminator 1
 2087 0030 15F1040F 		cmn	r5, #4
 2088 0034 75D0     		beq	.L272
1103:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 2089              		.loc 1 1103 0
 2090 0036 6B68     		ldr	r3, [r5, #4]
 2091 0038 2360     		str	r3, [r4]
 2092              	.LVL251:
 2093              	.L265:
 2094              	.LBE11:
1115:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->local_port == 0) {
 2095              		.loc 1 1115 0
ARM GAS  /tmp/ccX62RBj.s 			page 81


 2096 003a E78A     		ldrh	r7, [r4, #22]
 2097              	.LVL252:
1116:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->local_port = tcp_new_port();
 2098              		.loc 1 1116 0
 2099 003c 27B9     		cbnz	r7, .L266
1117:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->local_port == 0) {
 2100              		.loc 1 1117 0
 2101 003e FFF7FEFF 		bl	tcp_new_port
 2102              	.LVL253:
 2103 0042 E082     		strh	r0, [r4, #22]	@ movhi
1118:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_BUF;
 2104              		.loc 1 1118 0
 2105 0044 0028     		cmp	r0, #0
 2106 0046 6FD0     		beq	.L273
 2107              	.L266:
1144:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->rcv_nxt = 0;
 2108              		.loc 1 1144 0
 2109 0048 2046     		mov	r0, r4
 2110 004a FFF7FEFF 		bl	tcp_next_iss
 2111              	.LVL254:
1145:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_nxt = iss;
 2112              		.loc 1 1145 0
 2113 004e 0022     		movs	r2, #0
 2114 0050 6262     		str	r2, [r4, #36]
1146:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->lastack = iss - 1;
 2115              		.loc 1 1146 0
 2116 0052 2065     		str	r0, [r4, #80]
1147:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_wl2 = iss - 1;
 2117              		.loc 1 1147 0
 2118 0054 0138     		subs	r0, r0, #1
 2119              	.LVL255:
 2120 0056 6064     		str	r0, [r4, #68]
1148:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_lbb = iss - 1;
 2121              		.loc 1 1148 0
 2122 0058 A065     		str	r0, [r4, #88]
1149:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Start with a window that does not need scaling. When window scaling is
 2123              		.loc 1 1149 0
 2124 005a E065     		str	r0, [r4, #92]
1152:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->rcv_ann_right_edge = pcb->rcv_nxt;
 2125              		.loc 1 1152 0
 2126 005c 4FF40663 		mov	r3, #2144
 2127 0060 6385     		strh	r3, [r4, #42]	@ movhi
 2128 0062 2385     		strh	r3, [r4, #40]	@ movhi
1153:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_wnd = TCP_WND;
 2129              		.loc 1 1153 0
 2130 0064 E262     		str	r2, [r4, #44]
1154:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* As initial send MSS, we use TCP_MSS but limit it to 536.
 2131              		.loc 1 1154 0
 2132 0066 A4F86030 		strh	r3, [r4, #96]	@ movhi
1157:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_CALCULATE_EFF_SEND_MSS
 2133              		.loc 1 1157 0
 2134 006a 4FF40670 		mov	r0, #536
 2135 006e 6086     		strh	r0, [r4, #50]	@ movhi
1159:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
 2136              		.loc 1 1159 0
 2137 0070 221D     		adds	r2, r4, #4
 2138 0072 2946     		mov	r1, r5
ARM GAS  /tmp/ccX62RBj.s 			page 82


 2139 0074 FFF7FEFF 		bl	tcp_eff_send_mss_netif
 2140              	.LVL256:
 2141 0078 6086     		strh	r0, [r4, #50]	@ movhi
1161:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 2142              		.loc 1 1161 0
 2143 007a 0123     		movs	r3, #1
 2144 007c A4F84830 		strh	r3, [r4, #72]	@ movhi
1163:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* LWIP_CALLBACK_API */
 2145              		.loc 1 1163 0
 2146 0080 C4F88860 		str	r6, [r4, #136]
1169:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ret == ERR_OK) {
 2147              		.loc 1 1169 0
 2148 0084 0221     		movs	r1, #2
 2149 0086 2046     		mov	r0, r4
 2150 0088 FFF7FEFF 		bl	tcp_enqueue_flags
 2151              	.LVL257:
1170:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* SYN segment was enqueued, changed the pcbs state now */
 2152              		.loc 1 1170 0
 2153 008c 0546     		mov	r5, r0
 2154              	.LVL258:
 2155 008e 0028     		cmp	r0, #0
 2156 0090 42D1     		bne	.L259
1172:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (old_local_port != 0) {
 2157              		.loc 1 1172 0
 2158 0092 0223     		movs	r3, #2
 2159 0094 2375     		strb	r3, [r4, #20]
1173:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_RMV(&tcp_bound_pcbs, pcb);
 2160              		.loc 1 1173 0
 2161 0096 002F     		cmp	r7, #0
 2162 0098 32D0     		beq	.L267
1174:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2163              		.loc 1 1174 0
 2164 009a 254B     		ldr	r3, .L281
 2165 009c 1B68     		ldr	r3, [r3]
 2166 009e 9C42     		cmp	r4, r3
 2167 00a0 28D0     		beq	.L279
 2168              	.L268:
 2169              	.LVL259:
 2170              	.LBB12:
1174:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2171              		.loc 1 1174 0 is_stmt 0 discriminator 8
 2172 00a2 6BB3     		cbz	r3, .L267
1174:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2173              		.loc 1 1174 0 discriminator 9
 2174 00a4 DA68     		ldr	r2, [r3, #12]
 2175 00a6 9442     		cmp	r4, r2
 2176 00a8 28D0     		beq	.L280
1174:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2177              		.loc 1 1174 0
 2178 00aa 1346     		mov	r3, r2
 2179              	.LVL260:
 2180 00ac F9E7     		b	.L268
 2181              	.LVL261:
 2182              	.L276:
 2183              	.LBE12:
1077:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_connect: invalid ipaddr", ipaddr != NULL, return ERR_ARG);
 2184              		.loc 1 1077 0 is_stmt 1 discriminator 1
ARM GAS  /tmp/ccX62RBj.s 			page 83


 2185 00ae 214B     		ldr	r3, .L281+4
 2186              	.LVL262:
 2187 00b0 40F23542 		movw	r2, #1077
 2188              	.LVL263:
 2189 00b4 2049     		ldr	r1, .L281+8
 2190              	.LVL264:
 2191 00b6 2148     		ldr	r0, .L281+12
 2192              	.LVL265:
 2193 00b8 FFF7FEFF 		bl	printf
 2194              	.LVL266:
 2195 00bc 6FF00F05 		mvn	r5, #15
 2196 00c0 2AE0     		b	.L259
 2197              	.LVL267:
 2198              	.L277:
1078:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2199              		.loc 1 1078 0 discriminator 1
 2200 00c2 1C4B     		ldr	r3, .L281+4
 2201              	.LVL268:
 2202 00c4 40F23642 		movw	r2, #1078
 2203              	.LVL269:
 2204 00c8 1D49     		ldr	r1, .L281+16
 2205              	.LVL270:
 2206 00ca 1C48     		ldr	r0, .L281+12
 2207              	.LVL271:
 2208 00cc FFF7FEFF 		bl	printf
 2209              	.LVL272:
 2210 00d0 6FF00F05 		mvn	r5, #15
 2211 00d4 20E0     		b	.L259
 2212              	.LVL273:
 2213              	.L278:
1080:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2214              		.loc 1 1080 0 discriminator 1
 2215 00d6 174B     		ldr	r3, .L281+4
 2216 00d8 4FF48762 		mov	r2, #1080
 2217              	.LVL274:
 2218 00dc 1949     		ldr	r1, .L281+20
 2219              	.LVL275:
 2220 00de 1748     		ldr	r0, .L281+12
 2221              	.LVL276:
 2222 00e0 FFF7FEFF 		bl	printf
 2223              	.LVL277:
 2224 00e4 6FF00905 		mvn	r5, #9
 2225 00e8 16E0     		b	.L259
 2226              	.LVL278:
 2227              	.L262:
1090:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 2228              		.loc 1 1090 0
 2229 00ea 201D     		adds	r0, r4, #4
 2230 00ec FFF7FEFF 		bl	ip4_route
 2231              	.LVL279:
 2232 00f0 0546     		mov	r5, r0
 2233              	.LVL280:
 2234 00f2 98E7     		b	.L263
 2235              	.LVL281:
 2236              	.L279:
1174:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2237              		.loc 1 1174 0 discriminator 1
ARM GAS  /tmp/ccX62RBj.s 			page 84


 2238 00f4 DA68     		ldr	r2, [r3, #12]
 2239 00f6 0E4B     		ldr	r3, .L281
 2240 00f8 1A60     		str	r2, [r3]
 2241 00fa 01E0     		b	.L267
 2242              	.LVL282:
 2243              	.L280:
 2244              	.LBB13:
1174:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2245              		.loc 1 1174 0 is_stmt 0 discriminator 5
 2246 00fc E268     		ldr	r2, [r4, #12]
 2247 00fe DA60     		str	r2, [r3, #12]
 2248              	.LVL283:
 2249              	.L267:
 2250              	.LBE13:
1176:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     MIB2_STATS_INC(mib2.tcpactiveopens);
 2251              		.loc 1 1176 0 is_stmt 1
 2252 0100 114B     		ldr	r3, .L281+24
 2253 0102 1A68     		ldr	r2, [r3]
 2254 0104 E260     		str	r2, [r4, #12]
 2255 0106 1C60     		str	r4, [r3]
 2256 0108 FFF7FEFF 		bl	tcp_timer_needed
 2257              	.LVL284:
 2258 010c 0122     		movs	r2, #1
 2259 010e 0F4B     		ldr	r3, .L281+28
 2260 0110 1A70     		strb	r2, [r3]
1179:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 2261              		.loc 1 1179 0
 2262 0112 2046     		mov	r0, r4
 2263 0114 FFF7FEFF 		bl	tcp_output
 2264              	.LVL285:
 2265              	.L259:
1182:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2266              		.loc 1 1182 0
 2267 0118 2846     		mov	r0, r5
 2268 011a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2269              	.LVL286:
 2270              	.L271:
1094:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 2271              		.loc 1 1094 0
 2272 011c 6FF00305 		mvn	r5, #3
 2273 0120 FAE7     		b	.L259
 2274              	.LVL287:
 2275              	.L272:
 2276              	.LBB14:
1101:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2277              		.loc 1 1101 0
 2278 0122 6FF00305 		mvn	r5, #3
 2279 0126 F7E7     		b	.L259
 2280              	.LVL288:
 2281              	.L273:
 2282              	.LBE14:
1119:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2283              		.loc 1 1119 0
 2284 0128 6FF00105 		mvn	r5, #1
 2285              	.LVL289:
 2286 012c F4E7     		b	.L259
 2287              	.L282:
ARM GAS  /tmp/ccX62RBj.s 			page 85


 2288 012e 00BF     		.align	2
 2289              	.L281:
 2290 0130 00000000 		.word	tcp_bound_pcbs
 2291 0134 00000000 		.word	.LC0
 2292 0138 00000000 		.word	.LC24
 2293 013c 54000000 		.word	.LC2
 2294 0140 1C000000 		.word	.LC25
 2295 0144 38000000 		.word	.LC26
 2296 0148 00000000 		.word	tcp_active_pcbs
 2297 014c 00000000 		.word	tcp_active_pcbs_changed
 2298              		.cfi_endproc
 2299              	.LFE178:
 2301              		.section	.text.tcp_debug_state_str,"ax",%progbits
 2302              		.align	1
 2303              		.global	tcp_debug_state_str
 2304              		.syntax unified
 2305              		.thumb
 2306              		.thumb_func
 2307              		.fpu fpv5-d16
 2309              	tcp_debug_state_str:
 2310              	.LFB207:
2295:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
2296:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2297:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Helper function for tcp_netif_ip_addr_changed() that iterates a pcb list */
2298:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
2299:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_netif_ip_addr_changed_pcblist(const ip_addr_t *old_addr, struct tcp_pcb *pcb_list)
2300:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
2301:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
2302:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = pcb_list;
2303:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2304:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_netif_ip_addr_changed_pcblist: invalid old_addr", old_addr != NULL);
2305:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2306:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb != NULL) {
2307:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* PCB bound to current local interface address? */
2308:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (ip_addr_cmp(&pcb->local_ip, old_addr)
2309:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_AUTOIP
2310:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* connections to link-local addresses must persist (RFC3927 ch. 1.9) */
2311:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         && (!IP_IS_V4_VAL(pcb->local_ip) || !ip4_addr_islinklocal(ip_2_ip4(&pcb->local_ip)))
2312:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_AUTOIP */
2313:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        ) {
2314:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* this connection must be aborted */
2315:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *next = pcb->next;
2316:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(NETIF_DEBUG | LWIP_DBG_STATE, ("netif_set_ipaddr: aborting TCP pcb %p\n", (void *
2317:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_abort(pcb);
2318:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = next;
2319:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
2320:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
2321:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2322:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2323:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
2324:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2325:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** This function is called from netif.c when address is changed or netif is removed
2326:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2327:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param old_addr IP address of the netif before change
2328:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param new_addr IP address of the netif after change or NULL if netif has been removed
2329:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2330:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
ARM GAS  /tmp/ccX62RBj.s 			page 86


2331:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_netif_ip_addr_changed(const ip_addr_t *old_addr, const ip_addr_t *new_addr)
2332:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
2333:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb_listen *lpcb;
2334:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2335:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (!ip_addr_isany(old_addr)) {
2336:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_netif_ip_addr_changed_pcblist(old_addr, tcp_active_pcbs);
2337:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_netif_ip_addr_changed_pcblist(old_addr, tcp_bound_pcbs);
2338:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2339:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (!ip_addr_isany(new_addr)) {
2340:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* PCB bound to current local interface address? */
2341:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       for (lpcb = tcp_listen_pcbs.listen_pcbs; lpcb != NULL; lpcb = lpcb->next) {
2342:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* PCB bound to current local interface address? */
2343:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (ip_addr_cmp(&lpcb->local_ip, old_addr)) {
2344:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* The PCB is listening to the old ipaddr and
2345:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             * is set to listen to the new one instead */
2346:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ip_addr_copy(lpcb->local_ip, *new_addr);
2347:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
2348:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
2349:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2350:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2351:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
2352:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2353:Middlewares/Third_Party/LwIP/src/core/tcp.c **** const char *
2354:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_debug_state_str(enum tcp_state s)
2355:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 2311              		.loc 1 2355 0
 2312              		.cfi_startproc
 2313              		@ args = 0, pretend = 0, frame = 0
 2314              		@ frame_needed = 0, uses_anonymous_args = 0
 2315              		@ link register save eliminated.
 2316              	.LVL290:
2356:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return tcp_state_str[s];
2357:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 2317              		.loc 1 2357 0
 2318 0000 014B     		ldr	r3, .L284
 2319 0002 53F82000 		ldr	r0, [r3, r0, lsl #2]
 2320              	.LVL291:
 2321 0006 7047     		bx	lr
 2322              	.L285:
 2323              		.align	2
 2324              	.L284:
 2325 0008 00000000 		.word	.LANCHOR3
 2326              		.cfi_endproc
 2327              	.LFE207:
 2329              		.section	.text.tcp_tcp_get_tcp_addrinfo,"ax",%progbits
 2330              		.align	1
 2331              		.global	tcp_tcp_get_tcp_addrinfo
 2332              		.syntax unified
 2333              		.thumb
 2334              		.thumb_func
 2335              		.fpu fpv5-d16
 2337              	tcp_tcp_get_tcp_addrinfo:
 2338              	.LFB208:
2358:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2359:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
2360:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_tcp_get_tcp_addrinfo(struct tcp_pcb *pcb, int local, ip_addr_t *addr, u16_t *port)
2361:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
ARM GAS  /tmp/ccX62RBj.s 			page 87


 2339              		.loc 1 2361 0
 2340              		.cfi_startproc
 2341              		@ args = 0, pretend = 0, frame = 0
 2342              		@ frame_needed = 0, uses_anonymous_args = 0
 2343              		@ link register save eliminated.
 2344              	.LVL292:
2362:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb) {
 2345              		.loc 1 2362 0
 2346 0000 A0B1     		cbz	r0, .L291
2361:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb) {
 2347              		.loc 1 2361 0
 2348 0002 10B4     		push	{r4}
 2349              	.LCFI33:
 2350              		.cfi_def_cfa_offset 4
 2351              		.cfi_offset 4, -4
 2352 0004 0446     		mov	r4, r0
2363:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (local) {
 2353              		.loc 1 2363 0
 2354 0006 39B1     		cbz	r1, .L288
2364:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (addr) {
 2355              		.loc 1 2364 0
 2356 0008 0AB1     		cbz	r2, .L289
2365:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         *addr = pcb->local_ip;
 2357              		.loc 1 2365 0
 2358 000a 0168     		ldr	r1, [r0]
 2359              	.LVL293:
 2360 000c 1160     		str	r1, [r2]
 2361              	.L289:
2366:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
2367:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (port) {
 2362              		.loc 1 2367 0
 2363 000e 83B1     		cbz	r3, .L292
2368:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         *port = pcb->local_port;
 2364              		.loc 1 2368 0
 2365 0010 E28A     		ldrh	r2, [r4, #22]
 2366              	.LVL294:
 2367 0012 1A80     		strh	r2, [r3]	@ movhi
2369:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
2370:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
2371:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (addr) {
2372:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         *addr = pcb->remote_ip;
2373:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
2374:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (port) {
2375:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         *port = pcb->remote_port;
2376:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
2377:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2378:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return ERR_OK;
 2368              		.loc 1 2378 0
 2369 0014 0020     		movs	r0, #0
 2370              	.LVL295:
 2371 0016 06E0     		b	.L287
 2372              	.LVL296:
 2373              	.L288:
2371:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         *addr = pcb->remote_ip;
 2374              		.loc 1 2371 0
 2375 0018 0AB1     		cbz	r2, .L290
2372:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
ARM GAS  /tmp/ccX62RBj.s 			page 88


 2376              		.loc 1 2372 0
 2377 001a 4168     		ldr	r1, [r0, #4]
 2378              	.LVL297:
 2379 001c 1160     		str	r1, [r2]
 2380              	.L290:
2374:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         *port = pcb->remote_port;
 2381              		.loc 1 2374 0
 2382 001e 53B1     		cbz	r3, .L293
2375:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 2383              		.loc 1 2375 0
 2384 0020 228B     		ldrh	r2, [r4, #24]
 2385              	.LVL298:
 2386 0022 1A80     		strh	r2, [r3]	@ movhi
 2387              		.loc 1 2378 0
 2388 0024 0020     		movs	r0, #0
 2389              	.LVL299:
 2390              	.L287:
2379:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2380:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_VAL;
2381:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 2391              		.loc 1 2381 0
 2392 0026 5DF8044B 		ldr	r4, [sp], #4
 2393              	.LCFI34:
 2394              		.cfi_restore 4
 2395              		.cfi_def_cfa_offset 0
 2396              	.LVL300:
 2397 002a 7047     		bx	lr
 2398              	.LVL301:
 2399              	.L291:
2380:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 2400              		.loc 1 2380 0
 2401 002c 6FF00500 		mvn	r0, #5
 2402              	.LVL302:
 2403 0030 7047     		bx	lr
 2404              	.LVL303:
 2405              	.L292:
 2406              	.LCFI35:
 2407              		.cfi_def_cfa_offset 4
 2408              		.cfi_offset 4, -4
2378:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 2409              		.loc 1 2378 0
 2410 0032 0020     		movs	r0, #0
 2411              	.LVL304:
 2412 0034 F7E7     		b	.L287
 2413              	.LVL305:
 2414              	.L293:
 2415 0036 0020     		movs	r0, #0
 2416              	.LVL306:
 2417 0038 F5E7     		b	.L287
 2418              		.cfi_endproc
 2419              	.LFE208:
 2421              		.section	.text.tcp_free_ooseq,"ax",%progbits
 2422              		.align	1
 2423              		.global	tcp_free_ooseq
 2424              		.syntax unified
 2425              		.thumb
 2426              		.thumb_func
ARM GAS  /tmp/ccX62RBj.s 			page 89


 2427              		.fpu fpv5-d16
 2429              	tcp_free_ooseq:
 2430              	.LFB209:
2382:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2383:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
2384:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* Free all ooseq pbufs (and possibly reset SACK state) */
2385:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2386:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_free_ooseq(struct tcp_pcb *pcb)
2387:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 2431              		.loc 1 2387 0
 2432              		.cfi_startproc
 2433              		@ args = 0, pretend = 0, frame = 0
 2434              		@ frame_needed = 0, uses_anonymous_args = 0
 2435              	.LVL307:
2388:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->ooseq) {
 2436              		.loc 1 2388 0
 2437 0000 436F     		ldr	r3, [r0, #116]
 2438 0002 3BB1     		cbz	r3, .L301
2387:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->ooseq) {
 2439              		.loc 1 2387 0
 2440 0004 10B5     		push	{r4, lr}
 2441              	.LCFI36:
 2442              		.cfi_def_cfa_offset 8
 2443              		.cfi_offset 4, -8
 2444              		.cfi_offset 14, -4
 2445 0006 0446     		mov	r4, r0
2389:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_segs_free(pcb->ooseq);
 2446              		.loc 1 2389 0
 2447 0008 1846     		mov	r0, r3
 2448              	.LVL308:
 2449 000a FFF7FEFF 		bl	tcp_segs_free
 2450              	.LVL309:
2390:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->ooseq = NULL;
 2451              		.loc 1 2390 0
 2452 000e 0023     		movs	r3, #0
 2453 0010 6367     		str	r3, [r4, #116]
 2454 0012 10BD     		pop	{r4, pc}
 2455              	.LVL310:
 2456              	.L301:
 2457              	.LCFI37:
 2458              		.cfi_def_cfa_offset 0
 2459              		.cfi_restore 4
 2460              		.cfi_restore 14
 2461 0014 7047     		bx	lr
 2462              		.cfi_endproc
 2463              	.LFE209:
 2465              		.section	.text.tcp_pcb_purge,"ax",%progbits
 2466              		.align	1
 2467              		.global	tcp_pcb_purge
 2468              		.syntax unified
 2469              		.thumb
 2470              		.thumb_func
 2471              		.fpu fpv5-d16
 2473              	tcp_pcb_purge:
 2474              	.LFB201:
2128:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_pcb_purge: invalid pcb", pcb != NULL, return);
 2475              		.loc 1 2128 0
ARM GAS  /tmp/ccX62RBj.s 			page 90


 2476              		.cfi_startproc
 2477              		@ args = 0, pretend = 0, frame = 0
 2478              		@ frame_needed = 0, uses_anonymous_args = 0
 2479              	.LVL311:
 2480 0000 10B5     		push	{r4, lr}
 2481              	.LCFI38:
 2482              		.cfi_def_cfa_offset 8
 2483              		.cfi_offset 4, -8
 2484              		.cfi_offset 14, -4
2129:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2485              		.loc 1 2129 0
 2486 0002 08B3     		cbz	r0, .L310
 2487 0004 0446     		mov	r4, r0
2131:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->state != TIME_WAIT &&
 2488              		.loc 1 2131 0
 2489 0006 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 2490 0008 002B     		cmp	r3, #0
 2491 000a 18BF     		it	ne
 2492 000c 0A2B     		cmpne	r3, #10
 2493 000e 1AD0     		beq	.L304
2132:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->state != LISTEN) {
 2494              		.loc 1 2132 0
 2495 0010 012B     		cmp	r3, #1
 2496 0012 18D0     		beq	.L304
2139:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge: data left on ->refused_data\n"));
 2497              		.loc 1 2139 0
 2498 0014 806F     		ldr	r0, [r0, #120]
 2499              	.LVL312:
 2500 0016 18B1     		cbz	r0, .L307
2141:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->refused_data = NULL;
 2501              		.loc 1 2141 0
 2502 0018 FFF7FEFF 		bl	pbuf_free
 2503              	.LVL313:
2142:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2504              		.loc 1 2142 0
 2505 001c 0023     		movs	r3, #0
 2506 001e A367     		str	r3, [r4, #120]
 2507              	.L307:
2151:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge: data left on ->ooseq\n"));
 2508              		.loc 1 2151 0
 2509 0020 636F     		ldr	r3, [r4, #116]
 2510 0022 13B1     		cbz	r3, .L308
2153:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2511              		.loc 1 2153 0
 2512 0024 2046     		mov	r0, r4
 2513 0026 FFF7FEFF 		bl	tcp_free_ooseq
 2514              	.LVL314:
 2515              	.L308:
2159:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2516              		.loc 1 2159 0
 2517 002a 4FF6FF73 		movw	r3, #65535
 2518 002e 2386     		strh	r3, [r4, #48]	@ movhi
2161:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_segs_free(pcb->unacked);
 2519              		.loc 1 2161 0
 2520 0030 E06E     		ldr	r0, [r4, #108]
 2521 0032 FFF7FEFF 		bl	tcp_segs_free
 2522              	.LVL315:
ARM GAS  /tmp/ccX62RBj.s 			page 91


2162:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->unacked = pcb->unsent = NULL;
 2523              		.loc 1 2162 0
 2524 0036 206F     		ldr	r0, [r4, #112]
 2525 0038 FFF7FEFF 		bl	tcp_segs_free
 2526              	.LVL316:
2163:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_OVERSIZE
 2527              		.loc 1 2163 0
 2528 003c 0023     		movs	r3, #0
 2529 003e E366     		str	r3, [r4, #108]
 2530 0040 2367     		str	r3, [r4, #112]
2165:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_OVERSIZE */
 2531              		.loc 1 2165 0
 2532 0042 A4F86830 		strh	r3, [r4, #104]	@ movhi
 2533              	.L304:
 2534 0046 10BD     		pop	{r4, pc}
 2535              	.LVL317:
 2536              	.L310:
2129:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2537              		.loc 1 2129 0 discriminator 1
 2538 0048 034B     		ldr	r3, .L311
 2539 004a 40F65102 		movw	r2, #2129
 2540 004e 0349     		ldr	r1, .L311+4
 2541 0050 0348     		ldr	r0, .L311+8
 2542              	.LVL318:
 2543 0052 FFF7FEFF 		bl	printf
 2544              	.LVL319:
 2545 0056 10BD     		pop	{r4, pc}
 2546              	.L312:
 2547              		.align	2
 2548              	.L311:
 2549 0058 00000000 		.word	.LC0
 2550 005c 00000000 		.word	.LC27
 2551 0060 54000000 		.word	.LC2
 2552              		.cfi_endproc
 2553              	.LFE201:
 2555              		.section	.text.tcp_pcb_remove,"ax",%progbits
 2556              		.align	1
 2557              		.global	tcp_pcb_remove
 2558              		.syntax unified
 2559              		.thumb
 2560              		.thumb_func
 2561              		.fpu fpv5-d16
 2563              	tcp_pcb_remove:
 2564              	.LFB202:
2178:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_pcb_remove: invalid pcb", pcb != NULL);
 2565              		.loc 1 2178 0
 2566              		.cfi_startproc
 2567              		@ args = 0, pretend = 0, frame = 0
 2568              		@ frame_needed = 0, uses_anonymous_args = 0
 2569              	.LVL320:
 2570 0000 38B5     		push	{r3, r4, r5, lr}
 2571              	.LCFI39:
 2572              		.cfi_def_cfa_offset 16
 2573              		.cfi_offset 3, -16
 2574              		.cfi_offset 4, -12
 2575              		.cfi_offset 5, -8
 2576              		.cfi_offset 14, -4
ARM GAS  /tmp/ccX62RBj.s 			page 92


 2577 0002 0546     		mov	r5, r0
2179:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_pcb_remove: invalid pcblist", pcblist != NULL);
 2578              		.loc 1 2179 0
 2579 0004 0C46     		mov	r4, r1
 2580 0006 49B1     		cbz	r1, .L325
 2581              	.LVL321:
 2582              	.L314:
2180:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2583              		.loc 1 2180 0
 2584 0008 85B1     		cbz	r5, .L326
 2585              	.L315:
2182:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2586              		.loc 1 2182 0
 2587 000a 2B68     		ldr	r3, [r5]
 2588 000c 9C42     		cmp	r4, r3
 2589 000e 15D0     		beq	.L327
 2590              	.L316:
 2591              	.LVL322:
 2592              	.LBB15:
2182:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2593              		.loc 1 2182 0 is_stmt 0 discriminator 8
 2594 0010 CBB1     		cbz	r3, .L317
2182:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2595              		.loc 1 2182 0 discriminator 9
 2596 0012 DA68     		ldr	r2, [r3, #12]
 2597 0014 9442     		cmp	r4, r2
 2598 0016 14D0     		beq	.L328
2182:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2599              		.loc 1 2182 0
 2600 0018 1346     		mov	r3, r2
 2601              	.LVL323:
 2602 001a F9E7     		b	.L316
 2603              	.LVL324:
 2604              	.L325:
 2605              	.LBE15:
2179:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_pcb_remove: invalid pcblist", pcblist != NULL);
 2606              		.loc 1 2179 0 is_stmt 1 discriminator 1
 2607 001c 254B     		ldr	r3, .L330
 2608 001e 40F68302 		movw	r2, #2179
 2609 0022 2549     		ldr	r1, .L330+4
 2610              	.LVL325:
 2611 0024 2548     		ldr	r0, .L330+8
 2612              	.LVL326:
 2613 0026 FFF7FEFF 		bl	printf
 2614              	.LVL327:
 2615 002a EDE7     		b	.L314
 2616              	.L326:
2180:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2617              		.loc 1 2180 0 discriminator 1
 2618 002c 214B     		ldr	r3, .L330
 2619 002e 40F68402 		movw	r2, #2180
 2620 0032 2349     		ldr	r1, .L330+12
 2621 0034 2148     		ldr	r0, .L330+8
 2622 0036 FFF7FEFF 		bl	printf
 2623              	.LVL328:
 2624 003a E6E7     		b	.L315
 2625              	.L327:
ARM GAS  /tmp/ccX62RBj.s 			page 93


2182:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2626              		.loc 1 2182 0 discriminator 1
 2627 003c DB68     		ldr	r3, [r3, #12]
 2628 003e 2B60     		str	r3, [r5]
 2629 0040 01E0     		b	.L317
 2630              	.LVL329:
 2631              	.L328:
 2632              	.LBB16:
2182:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2633              		.loc 1 2182 0 is_stmt 0 discriminator 5
 2634 0042 E268     		ldr	r2, [r4, #12]
 2635 0044 DA60     		str	r2, [r3, #12]
 2636              	.LVL330:
 2637              	.L317:
 2638              	.LBE16:
2182:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2639              		.loc 1 2182 0 discriminator 10
 2640 0046 0023     		movs	r3, #0
 2641 0048 E360     		str	r3, [r4, #12]
2184:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2642              		.loc 1 2184 0 is_stmt 1 discriminator 10
 2643 004a 2046     		mov	r0, r4
 2644 004c FFF7FEFF 		bl	tcp_pcb_purge
 2645              	.LVL331:
2187:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       (pcb->state != LISTEN) &&
 2646              		.loc 1 2187 0 discriminator 10
 2647 0050 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 2648 0052 0A2B     		cmp	r3, #10
 2649 0054 18BF     		it	ne
 2650 0056 012B     		cmpne	r3, #1
 2651 0058 03D0     		beq	.L319
2189:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_ack_now(pcb);
 2652              		.loc 1 2189 0
 2653 005a 638B     		ldrh	r3, [r4, #26]
2188:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       (pcb->flags & TF_ACK_DELAY)) {
 2654              		.loc 1 2188 0
 2655 005c 13F0010F 		tst	r3, #1
 2656 0060 21D1     		bne	.L329
 2657              	.L319:
2194:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("unsent segments leaking", pcb->unsent == NULL);
 2658              		.loc 1 2194 0
 2659 0062 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 2660 0064 012B     		cmp	r3, #1
 2661 0066 1AD0     		beq	.L320
2195:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("unacked segments leaking", pcb->unacked == NULL);
 2662              		.loc 1 2195 0
 2663 0068 E36E     		ldr	r3, [r4, #108]
 2664 006a 33B1     		cbz	r3, .L321
2195:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("unacked segments leaking", pcb->unacked == NULL);
 2665              		.loc 1 2195 0 is_stmt 0 discriminator 1
 2666 006c 114B     		ldr	r3, .L330
 2667 006e 40F69302 		movw	r2, #2195
 2668 0072 1449     		ldr	r1, .L330+16
 2669 0074 1148     		ldr	r0, .L330+8
 2670 0076 FFF7FEFF 		bl	printf
 2671              	.LVL332:
 2672              	.L321:
ARM GAS  /tmp/ccX62RBj.s 			page 94


2196:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
 2673              		.loc 1 2196 0 is_stmt 1
 2674 007a 236F     		ldr	r3, [r4, #112]
 2675 007c 33B1     		cbz	r3, .L322
2196:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
 2676              		.loc 1 2196 0 is_stmt 0 discriminator 1
 2677 007e 0D4B     		ldr	r3, .L330
 2678 0080 40F69402 		movw	r2, #2196
 2679 0084 1049     		ldr	r1, .L330+20
 2680 0086 0D48     		ldr	r0, .L330+8
 2681 0088 FFF7FEFF 		bl	printf
 2682              	.LVL333:
 2683              	.L322:
2198:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
 2684              		.loc 1 2198 0 is_stmt 1
 2685 008c 636F     		ldr	r3, [r4, #116]
 2686 008e 33B1     		cbz	r3, .L320
2198:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
 2687              		.loc 1 2198 0 is_stmt 0 discriminator 1
 2688 0090 084B     		ldr	r3, .L330
 2689 0092 40F69602 		movw	r2, #2198
 2690 0096 0D49     		ldr	r1, .L330+24
 2691 0098 0848     		ldr	r0, .L330+8
 2692 009a FFF7FEFF 		bl	printf
 2693              	.LVL334:
 2694              	.L320:
2202:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* reset the local port to prevent the pcb from being 'bound' */
 2695              		.loc 1 2202 0 is_stmt 1
 2696 009e 0023     		movs	r3, #0
 2697 00a0 2375     		strb	r3, [r4, #20]
2204:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2698              		.loc 1 2204 0
 2699 00a2 E382     		strh	r3, [r4, #22]	@ movhi
 2700 00a4 38BD     		pop	{r3, r4, r5, pc}
 2701              	.LVL335:
 2702              	.L329:
2190:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_output(pcb);
 2703              		.loc 1 2190 0
 2704 00a6 43F00203 		orr	r3, r3, #2
 2705 00aa 6383     		strh	r3, [r4, #26]	@ movhi
2191:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 2706              		.loc 1 2191 0
 2707 00ac 2046     		mov	r0, r4
 2708 00ae FFF7FEFF 		bl	tcp_output
 2709              	.LVL336:
 2710 00b2 D6E7     		b	.L319
 2711              	.L331:
 2712              		.align	2
 2713              	.L330:
 2714 00b4 00000000 		.word	.LC0
 2715 00b8 00000000 		.word	.LC28
 2716 00bc 54000000 		.word	.LC2
 2717 00c0 1C000000 		.word	.LC29
 2718 00c4 3C000000 		.word	.LC30
 2719 00c8 54000000 		.word	.LC31
 2720 00cc 70000000 		.word	.LC32
 2721              		.cfi_endproc
ARM GAS  /tmp/ccX62RBj.s 			page 95


 2722              	.LFE202:
 2724              		.section	.text.tcp_abandon,"ax",%progbits
 2725              		.align	1
 2726              		.global	tcp_abandon
 2727              		.syntax unified
 2728              		.thumb
 2729              		.thumb_func
 2730              		.fpu fpv5-d16
 2732              	tcp_abandon:
 2733              	.LFB168:
 564:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t seqno, ackno;
 2734              		.loc 1 564 0
 2735              		.cfi_startproc
 2736              		@ args = 0, pretend = 0, frame = 0
 2737              		@ frame_needed = 0, uses_anonymous_args = 0
 2738              	.LVL337:
 2739 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2740              	.LCFI40:
 2741              		.cfi_def_cfa_offset 32
 2742              		.cfi_offset 4, -32
 2743              		.cfi_offset 5, -28
 2744              		.cfi_offset 6, -24
 2745              		.cfi_offset 7, -20
 2746              		.cfi_offset 8, -16
 2747              		.cfi_offset 9, -12
 2748              		.cfi_offset 10, -8
 2749              		.cfi_offset 14, -4
 2750 0004 84B0     		sub	sp, sp, #16
 2751              	.LCFI41:
 2752              		.cfi_def_cfa_offset 48
 573:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2753              		.loc 1 573 0
 2754 0006 F8B1     		cbz	r0, .L349
 2755 0008 0D46     		mov	r5, r1
 2756 000a 0446     		mov	r4, r0
 576:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->state != LISTEN);
 2757              		.loc 1 576 0
 2758 000c 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 2759 000e 012B     		cmp	r3, #1
 2760 0010 22D0     		beq	.L350
 2761              	.LVL338:
 2762              	.L335:
 581:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_pcb_remove(&tcp_tw_pcbs, pcb);
 2763              		.loc 1 581 0
 2764 0012 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 2765 0014 0A2B     		cmp	r3, #10
 2766 0016 27D0     		beq	.L351
 2767              	.LVL339:
 2768              	.LBB17:
 588:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ackno = pcb->rcv_nxt;
 2769              		.loc 1 588 0
 2770 0018 D4F85080 		ldr	r8, [r4, #80]
 2771              	.LVL340:
 589:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 2772              		.loc 1 589 0
 2773 001c D4F82490 		ldr	r9, [r4, #36]
 2774              	.LVL341:
ARM GAS  /tmp/ccX62RBj.s 			page 96


 591:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 2775              		.loc 1 591 0
 2776 0020 D4F89060 		ldr	r6, [r4, #144]
 2777              	.LVL342:
 593:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == CLOSED) {
 2778              		.loc 1 593 0
 2779 0024 2769     		ldr	r7, [r4, #16]
 2780              	.LVL343:
 594:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port != 0) {
 2781              		.loc 1 594 0
 2782 0026 002B     		cmp	r3, #0
 2783 0028 47D1     		bne	.L337
 595:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* bound, not yet opened */
 2784              		.loc 1 595 0
 2785 002a B4F816A0 		ldrh	r10, [r4, #22]
 2786 002e BAF1000F 		cmp	r10, #0
 2787 0032 4CD0     		beq	.L346
 597:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 2788              		.loc 1 597 0
 2789 0034 2D4B     		ldr	r3, .L355
 2790 0036 1B68     		ldr	r3, [r3]
 2791 0038 9C42     		cmp	r4, r3
 2792 003a 1DD0     		beq	.L352
 2793              	.L339:
 2794              	.LVL344:
 2795              	.LBB18:
 597:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 2796              		.loc 1 597 0 is_stmt 0 discriminator 8
 2797 003c 13B3     		cbz	r3, .L340
 597:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 2798              		.loc 1 597 0 discriminator 9
 2799 003e DA68     		ldr	r2, [r3, #12]
 2800 0040 9442     		cmp	r4, r2
 2801 0042 1DD0     		beq	.L353
 597:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 2802              		.loc 1 597 0
 2803 0044 1346     		mov	r3, r2
 2804              	.LVL345:
 2805 0046 F9E7     		b	.L339
 2806              	.LVL346:
 2807              	.L349:
 2808              	.LBE18:
 2809              	.LBE17:
 573:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2810              		.loc 1 573 0 is_stmt 1 discriminator 1
 2811 0048 294B     		ldr	r3, .L355+4
 2812 004a 40F23D22 		movw	r2, #573
 2813 004e 2949     		ldr	r1, .L355+8
 2814              	.LVL347:
 2815 0050 2948     		ldr	r0, .L355+12
 2816              	.LVL348:
 2817 0052 FFF7FEFF 		bl	printf
 2818              	.LVL349:
 2819 0056 2DE0     		b	.L332
 2820              	.LVL350:
 2821              	.L350:
 576:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->state != LISTEN);
ARM GAS  /tmp/ccX62RBj.s 			page 97


 2822              		.loc 1 576 0 discriminator 1
 2823 0058 254B     		ldr	r3, .L355+4
 2824 005a 40F24122 		movw	r2, #577
 2825 005e 2749     		ldr	r1, .L355+16
 2826              	.LVL351:
 2827 0060 2548     		ldr	r0, .L355+12
 2828              	.LVL352:
 2829 0062 FFF7FEFF 		bl	printf
 2830              	.LVL353:
 2831 0066 D4E7     		b	.L335
 2832              	.L351:
 582:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_free(pcb);
 2833              		.loc 1 582 0
 2834 0068 2146     		mov	r1, r4
 2835 006a 2548     		ldr	r0, .L355+20
 2836 006c FFF7FEFF 		bl	tcp_pcb_remove
 2837              	.LVL354:
 583:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 2838              		.loc 1 583 0
 2839 0070 2046     		mov	r0, r4
 2840 0072 FFF7FEFF 		bl	tcp_free
 2841              	.LVL355:
 2842 0076 1DE0     		b	.L332
 2843              	.LVL356:
 2844              	.L352:
 2845              	.LBB20:
 597:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 2846              		.loc 1 597 0 discriminator 1
 2847 0078 DA68     		ldr	r2, [r3, #12]
 2848 007a 1C4B     		ldr	r3, .L355
 2849 007c 1A60     		str	r2, [r3]
 2850 007e 01E0     		b	.L340
 2851              	.LVL357:
 2852              	.L353:
 2853              	.LBB19:
 597:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 2854              		.loc 1 597 0 is_stmt 0 discriminator 5
 2855 0080 E268     		ldr	r2, [r4, #12]
 2856 0082 DA60     		str	r2, [r3, #12]
 2857              	.LVL358:
 2858              	.L340:
 2859              	.LBE19:
 597:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 2860              		.loc 1 597 0 discriminator 10
 2861 0084 0025     		movs	r5, #0
 2862              	.LVL359:
 2863 0086 E560     		str	r5, [r4, #12]
 586:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     enum tcp_state last_state;
 2864              		.loc 1 586 0 is_stmt 1 discriminator 10
 2865 0088 AA46     		mov	r10, r5
 2866              	.LVL360:
 2867              	.L338:
 604:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->unacked);
 2868              		.loc 1 604 0
 2869 008a 206F     		ldr	r0, [r4, #112]
 2870 008c 08B1     		cbz	r0, .L342
 605:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
ARM GAS  /tmp/ccX62RBj.s 			page 98


 2871              		.loc 1 605 0
 2872 008e FFF7FEFF 		bl	tcp_segs_free
 2873              	.LVL361:
 2874              	.L342:
 607:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->unsent);
 2875              		.loc 1 607 0
 2876 0092 E06E     		ldr	r0, [r4, #108]
 2877 0094 08B1     		cbz	r0, .L343
 608:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2878              		.loc 1 608 0
 2879 0096 FFF7FEFF 		bl	tcp_segs_free
 2880              	.LVL362:
 2881              	.L343:
 611:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->ooseq);
 2882              		.loc 1 611 0
 2883 009a 606F     		ldr	r0, [r4, #116]
 2884 009c 08B1     		cbz	r0, .L344
 612:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2885              		.loc 1 612 0
 2886 009e FFF7FEFF 		bl	tcp_segs_free
 2887              	.LVL363:
 2888              	.L344:
 616:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_RST_DEBUG, ("tcp_abandon: sending RST\n"));
 2889              		.loc 1 616 0
 2890 00a2 B5B9     		cbnz	r5, .L354
 2891              	.L345:
 2892              	.LVL364:
 621:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_EVENT_ERR(last_state, errf, errf_arg, ERR_ABRT);
 2893              		.loc 1 621 0
 2894 00a4 2046     		mov	r0, r4
 2895 00a6 FFF7FEFF 		bl	tcp_free
 2896              	.LVL365:
 622:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 2897              		.loc 1 622 0
 2898 00aa 1EB1     		cbz	r6, .L332
 622:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 2899              		.loc 1 622 0 is_stmt 0 discriminator 1
 2900 00ac 6FF00C01 		mvn	r1, #12
 2901 00b0 3846     		mov	r0, r7
 2902 00b2 B047     		blx	r6
 2903              	.LVL366:
 2904              	.L332:
 2905              	.LBE20:
 624:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 2906              		.loc 1 624 0 is_stmt 1
 2907 00b4 04B0     		add	sp, sp, #16
 2908              	.LCFI42:
 2909              		.cfi_remember_state
 2910              		.cfi_def_cfa_offset 32
 2911              		@ sp needed
 2912 00b6 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2913              	.LVL367:
 2914              	.L337:
 2915              	.LCFI43:
 2916              		.cfi_restore_state
 2917              	.LBB21:
 601:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_PCB_REMOVE_ACTIVE(pcb);
ARM GAS  /tmp/ccX62RBj.s 			page 99


 2918              		.loc 1 601 0
 2919 00ba B4F816A0 		ldrh	r10, [r4, #22]
 2920              	.LVL368:
 602:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2921              		.loc 1 602 0
 2922 00be 2146     		mov	r1, r4
 2923 00c0 1048     		ldr	r0, .L355+24
 2924 00c2 FFF7FEFF 		bl	tcp_pcb_remove
 2925              	.LVL369:
 2926 00c6 0122     		movs	r2, #1
 2927 00c8 0F4B     		ldr	r3, .L355+28
 2928 00ca 1A70     		strb	r2, [r3]
 2929 00cc DDE7     		b	.L338
 2930              	.LVL370:
 2931              	.L346:
 585:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     u16_t local_port = 0;
 2932              		.loc 1 585 0
 2933 00ce 0025     		movs	r5, #0
 2934              	.LVL371:
 2935 00d0 DBE7     		b	.L338
 2936              	.LVL372:
 2937              	.L354:
 618:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 2938              		.loc 1 618 0
 2939 00d2 231D     		adds	r3, r4, #4
 2940 00d4 228B     		ldrh	r2, [r4, #24]
 2941 00d6 0292     		str	r2, [sp, #8]
 2942 00d8 CDF804A0 		str	r10, [sp, #4]
 2943 00dc 0093     		str	r3, [sp]
 2944 00de 2346     		mov	r3, r4
 2945 00e0 4A46     		mov	r2, r9
 2946 00e2 4146     		mov	r1, r8
 2947 00e4 2046     		mov	r0, r4
 2948 00e6 FFF7FEFF 		bl	tcp_rst
 2949              	.LVL373:
 2950 00ea DBE7     		b	.L345
 2951              	.L356:
 2952              		.align	2
 2953              	.L355:
 2954 00ec 00000000 		.word	tcp_bound_pcbs
 2955 00f0 00000000 		.word	.LC0
 2956 00f4 00000000 		.word	.LC33
 2957 00f8 54000000 		.word	.LC2
 2958 00fc 1C000000 		.word	.LC34
 2959 0100 00000000 		.word	tcp_tw_pcbs
 2960 0104 00000000 		.word	tcp_active_pcbs
 2961 0108 00000000 		.word	tcp_active_pcbs_changed
 2962              	.LBE21:
 2963              		.cfi_endproc
 2964              	.LFE168:
 2966              		.section	.text.tcp_abort,"ax",%progbits
 2967              		.align	1
 2968              		.global	tcp_abort
 2969              		.syntax unified
 2970              		.thumb
 2971              		.thumb_func
 2972              		.fpu fpv5-d16
ARM GAS  /tmp/ccX62RBj.s 			page 100


 2974              	tcp_abort:
 2975              	.LFB169:
 639:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_abandon(pcb, 1);
 2976              		.loc 1 639 0
 2977              		.cfi_startproc
 2978              		@ args = 0, pretend = 0, frame = 0
 2979              		@ frame_needed = 0, uses_anonymous_args = 0
 2980              	.LVL374:
 2981 0000 08B5     		push	{r3, lr}
 2982              	.LCFI44:
 2983              		.cfi_def_cfa_offset 8
 2984              		.cfi_offset 3, -8
 2985              		.cfi_offset 14, -4
 640:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 2986              		.loc 1 640 0
 2987 0002 0121     		movs	r1, #1
 2988 0004 FFF7FEFF 		bl	tcp_abandon
 2989              	.LVL375:
 2990 0008 08BD     		pop	{r3, pc}
 2991              		.cfi_endproc
 2992              	.LFE169:
 2994              		.section	.text.tcp_accept_null,"ax",%progbits
 2995              		.align	1
 2996              		.syntax unified
 2997              		.thumb
 2998              		.thumb_func
 2999              		.fpu fpv5-d16
 3001              	tcp_accept_null:
 3002              	.LFB172:
 779:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(arg);
 3003              		.loc 1 779 0
 3004              		.cfi_startproc
 3005              		@ args = 0, pretend = 0, frame = 0
 3006              		@ frame_needed = 0, uses_anonymous_args = 0
 3007              	.LVL376:
 3008 0000 10B5     		push	{r4, lr}
 3009              	.LCFI45:
 3010              		.cfi_def_cfa_offset 8
 3011              		.cfi_offset 4, -8
 3012              		.cfi_offset 14, -4
 783:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3013              		.loc 1 783 0
 3014 0002 0C46     		mov	r4, r1
 3015 0004 29B1     		cbz	r1, .L362
 3016              	.LVL377:
 3017              	.L360:
 785:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3018              		.loc 1 785 0
 3019 0006 2046     		mov	r0, r4
 3020 0008 FFF7FEFF 		bl	tcp_abort
 3021              	.LVL378:
 788:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 3022              		.loc 1 788 0
 3023 000c 6FF00C00 		mvn	r0, #12
 3024 0010 10BD     		pop	{r4, pc}
 3025              	.LVL379:
 3026              	.L362:
ARM GAS  /tmp/ccX62RBj.s 			page 101


 783:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3027              		.loc 1 783 0 discriminator 1
 3028 0012 044B     		ldr	r3, .L363
 3029 0014 40F20F32 		movw	r2, #783
 3030              	.LVL380:
 3031 0018 0349     		ldr	r1, .L363+4
 3032              	.LVL381:
 3033 001a 0448     		ldr	r0, .L363+8
 3034              	.LVL382:
 3035 001c FFF7FEFF 		bl	printf
 3036              	.LVL383:
 3037 0020 F1E7     		b	.L360
 3038              	.L364:
 3039 0022 00BF     		.align	2
 3040              	.L363:
 3041 0024 00000000 		.word	.LC0
 3042 0028 00000000 		.word	.LC35
 3043 002c 54000000 		.word	.LC2
 3044              		.cfi_endproc
 3045              	.LFE172:
 3047              		.section	.text.tcp_kill_timewait,"ax",%progbits
 3048              		.align	1
 3049              		.syntax unified
 3050              		.thumb
 3051              		.thumb_func
 3052              		.fpu fpv5-d16
 3054              	tcp_kill_timewait:
 3055              	.LFB190:
1785:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *inactive;
 3056              		.loc 1 1785 0
 3057              		.cfi_startproc
 3058              		@ args = 0, pretend = 0, frame = 0
 3059              		@ frame_needed = 0, uses_anonymous_args = 0
 3060 0000 10B5     		push	{r4, lr}
 3061              	.LCFI46:
 3062              		.cfi_def_cfa_offset 8
 3063              		.cfi_offset 4, -8
 3064              		.cfi_offset 14, -4
 3065              	.LVL384:
1792:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
 3066              		.loc 1 1792 0
 3067 0002 0A4B     		ldr	r3, .L373
 3068 0004 1B68     		ldr	r3, [r3]
 3069              	.LVL385:
1789:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactive = NULL;
 3070              		.loc 1 1789 0
 3071 0006 0024     		movs	r4, #0
1790:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Go through the list of TIME_WAIT pcbs and get the oldest pcb. */
 3072              		.loc 1 1790 0
 3073 0008 2046     		mov	r0, r4
1792:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
 3074              		.loc 1 1792 0
 3075 000a 00E0     		b	.L366
 3076              	.LVL386:
 3077              	.L367:
1792:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
 3078              		.loc 1 1792 0 is_stmt 0 discriminator 2
ARM GAS  /tmp/ccX62RBj.s 			page 102


 3079 000c DB68     		ldr	r3, [r3, #12]
 3080              	.LVL387:
 3081              	.L366:
1792:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
 3082              		.loc 1 1792 0 discriminator 1
 3083 000e 43B1     		cbz	r3, .L372
1793:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactivity = tcp_ticks - pcb->tmr;
 3084              		.loc 1 1793 0 is_stmt 1
 3085 0010 196A     		ldr	r1, [r3, #32]
 3086 0012 074A     		ldr	r2, .L373+4
 3087 0014 1268     		ldr	r2, [r2]
 3088 0016 521A     		subs	r2, r2, r1
 3089 0018 9442     		cmp	r4, r2
 3090 001a F7D8     		bhi	.L367
1794:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactive = pcb;
 3091              		.loc 1 1794 0
 3092 001c 1446     		mov	r4, r2
 3093              	.LVL388:
1795:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3094              		.loc 1 1795 0
 3095 001e 1846     		mov	r0, r3
 3096              	.LVL389:
 3097 0020 F4E7     		b	.L367
 3098              	.LVL390:
 3099              	.L372:
1798:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_kill_timewait: killing oldest TIME-WAIT PCB %p (%"S32_F")\n",
 3100              		.loc 1 1798 0
 3101 0022 08B1     		cbz	r0, .L365
1801:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 3102              		.loc 1 1801 0
 3103 0024 FFF7FEFF 		bl	tcp_abort
 3104              	.LVL391:
 3105              	.L365:
 3106 0028 10BD     		pop	{r4, pc}
 3107              	.LVL392:
 3108              	.L374:
 3109 002a 00BF     		.align	2
 3110              	.L373:
 3111 002c 00000000 		.word	tcp_tw_pcbs
 3112 0030 00000000 		.word	tcp_ticks
 3113              		.cfi_endproc
 3114              	.LFE190:
 3116              		.section	.text.tcp_kill_prio,"ax",%progbits
 3117              		.align	1
 3118              		.syntax unified
 3119              		.thumb
 3120              		.thumb_func
 3121              		.fpu fpv5-d16
 3123              	tcp_kill_prio:
 3124              	.LFB188:
1707:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *inactive;
 3125              		.loc 1 1707 0
 3126              		.cfi_startproc
 3127              		@ args = 0, pretend = 0, frame = 0
 3128              		@ frame_needed = 0, uses_anonymous_args = 0
 3129              	.LVL393:
1712:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
ARM GAS  /tmp/ccX62RBj.s 			page 103


 3130              		.loc 1 1712 0
 3131 0000 10F0800F 		tst	r0, #128
 3132 0004 00D0     		beq	.L376
 3133 0006 7F20     		movs	r0, #127
 3134              	.LVL394:
 3135              	.L376:
1717:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return;
 3136              		.loc 1 1717 0 discriminator 4
 3137 0008 E8B1     		cbz	r0, .L384
1707:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *inactive;
 3138              		.loc 1 1707 0
 3139 000a 70B5     		push	{r4, r5, r6, lr}
 3140              	.LCFI47:
 3141              		.cfi_def_cfa_offset 16
 3142              		.cfi_offset 4, -16
 3143              		.cfi_offset 5, -12
 3144              		.cfi_offset 6, -8
 3145              		.cfi_offset 14, -4
1726:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3146              		.loc 1 1726 0
 3147 000c 0138     		subs	r0, r0, #1
 3148              	.LVL395:
 3149 000e C3B2     		uxtb	r3, r0
 3150              	.LVL396:
1730:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* lower prio is always a kill candidate */
 3151              		.loc 1 1730 0
 3152 0010 0D4A     		ldr	r2, .L387
 3153 0012 1268     		ldr	r2, [r2]
 3154              	.LVL397:
1728:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactive = NULL;
 3155              		.loc 1 1728 0
 3156 0014 0021     		movs	r1, #0
1729:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (pcb = tcp_active_pcbs; pcb != NULL; pcb = pcb->next) {
 3157              		.loc 1 1729 0
 3158 0016 0846     		mov	r0, r1
 3159              	.LVL398:
 3160              	.L378:
1730:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* lower prio is always a kill candidate */
 3161              		.loc 1 1730 0 discriminator 1
 3162 0018 1AB9     		cbnz	r2, .L381
1740:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_kill_prio: killing oldest PCB %p (%"S32_F")\n",
 3163              		.loc 1 1740 0
 3164 001a 08B1     		cbz	r0, .L375
1743:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 3165              		.loc 1 1743 0
 3166 001c FFF7FEFF 		bl	tcp_abort
 3167              	.LVL399:
 3168              	.L375:
 3169 0020 70BD     		pop	{r4, r5, r6, pc}
 3170              	.LVL400:
 3171              	.L381:
1732:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* longer inactivity is also a kill candidate */
 3172              		.loc 1 1732 0
 3173 0022 547D     		ldrb	r4, [r2, #21]	@ zero_extendqisi2
 3174 0024 A342     		cmp	r3, r4
 3175 0026 06D8     		bhi	.L379
1732:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* longer inactivity is also a kill candidate */
ARM GAS  /tmp/ccX62RBj.s 			page 104


 3176              		.loc 1 1732 0 is_stmt 0 discriminator 1
 3177 0028 0BD1     		bne	.L380
1734:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactivity = tcp_ticks - pcb->tmr;
 3178              		.loc 1 1734 0 is_stmt 1
 3179 002a 166A     		ldr	r6, [r2, #32]
 3180 002c 074D     		ldr	r5, .L387+4
 3181 002e 2D68     		ldr	r5, [r5]
 3182 0030 AD1B     		subs	r5, r5, r6
 3183 0032 A942     		cmp	r1, r5
 3184 0034 05D8     		bhi	.L380
 3185              	.L379:
1735:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactive   = pcb;
 3186              		.loc 1 1735 0
 3187 0036 054B     		ldr	r3, .L387+4
 3188              	.LVL401:
 3189 0038 1968     		ldr	r1, [r3]
 3190              	.LVL402:
 3191 003a 136A     		ldr	r3, [r2, #32]
 3192 003c C91A     		subs	r1, r1, r3
 3193              	.LVL403:
1737:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3194              		.loc 1 1737 0
 3195 003e 2346     		mov	r3, r4
1736:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       mprio      = pcb->prio;
 3196              		.loc 1 1736 0
 3197 0040 1046     		mov	r0, r2
 3198              	.LVL404:
 3199              	.L380:
1730:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* lower prio is always a kill candidate */
 3200              		.loc 1 1730 0 discriminator 2
 3201 0042 D268     		ldr	r2, [r2, #12]
 3202              	.LVL405:
 3203 0044 E8E7     		b	.L378
 3204              	.LVL406:
 3205              	.L384:
 3206              	.LCFI48:
 3207              		.cfi_def_cfa_offset 0
 3208              		.cfi_restore 4
 3209              		.cfi_restore 5
 3210              		.cfi_restore 6
 3211              		.cfi_restore 14
 3212 0046 7047     		bx	lr
 3213              	.L388:
 3214              		.align	2
 3215              	.L387:
 3216 0048 00000000 		.word	tcp_active_pcbs
 3217 004c 00000000 		.word	tcp_ticks
 3218              		.cfi_endproc
 3219              	.LFE188:
 3221              		.section	.text.tcp_netif_ip_addr_changed_pcblist,"ax",%progbits
 3222              		.align	1
 3223              		.syntax unified
 3224              		.thumb
 3225              		.thumb_func
 3226              		.fpu fpv5-d16
 3228              	tcp_netif_ip_addr_changed_pcblist:
 3229              	.LFB205:
ARM GAS  /tmp/ccX62RBj.s 			page 105


2300:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
 3230              		.loc 1 2300 0
 3231              		.cfi_startproc
 3232              		@ args = 0, pretend = 0, frame = 0
 3233              		@ frame_needed = 0, uses_anonymous_args = 0
 3234              	.LVL407:
 3235 0000 70B5     		push	{r4, r5, r6, lr}
 3236              	.LCFI49:
 3237              		.cfi_def_cfa_offset 16
 3238              		.cfi_offset 4, -16
 3239              		.cfi_offset 5, -12
 3240              		.cfi_offset 6, -8
 3241              		.cfi_offset 14, -4
 3242 0002 0C46     		mov	r4, r1
 3243              	.LVL408:
2304:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3244              		.loc 1 2304 0
 3245 0004 0546     		mov	r5, r0
 3246 0006 60B9     		cbnz	r0, .L391
2304:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3247              		.loc 1 2304 0 is_stmt 0 discriminator 1
 3248 0008 0A4B     		ldr	r3, .L398
 3249 000a 4FF41062 		mov	r2, #2304
 3250 000e 0A49     		ldr	r1, .L398+4
 3251              	.LVL409:
 3252 0010 0A48     		ldr	r0, .L398+8
 3253              	.LVL410:
 3254 0012 FFF7FEFF 		bl	printf
 3255              	.LVL411:
 3256 0016 04E0     		b	.L391
 3257              	.LVL412:
 3258              	.L397:
 3259              	.LBB22:
2315:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(NETIF_DEBUG | LWIP_DBG_STATE, ("netif_set_ipaddr: aborting TCP pcb %p\n", (void *
 3260              		.loc 1 2315 0 is_stmt 1
 3261 0018 E668     		ldr	r6, [r4, #12]
 3262              	.LVL413:
2317:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = next;
 3263              		.loc 1 2317 0
 3264 001a 2046     		mov	r0, r4
 3265 001c FFF7FEFF 		bl	tcp_abort
 3266              	.LVL414:
2318:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
 3267              		.loc 1 2318 0
 3268 0020 3446     		mov	r4, r6
 3269              	.LVL415:
 3270              	.L391:
 3271              	.LBE22:
2306:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* PCB bound to current local interface address? */
 3272              		.loc 1 2306 0
 3273 0022 2CB1     		cbz	r4, .L396
2308:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_AUTOIP
 3274              		.loc 1 2308 0
 3275 0024 2268     		ldr	r2, [r4]
 3276 0026 2B68     		ldr	r3, [r5]
 3277 0028 9A42     		cmp	r2, r3
 3278 002a F5D0     		beq	.L397
ARM GAS  /tmp/ccX62RBj.s 			page 106


2320:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3279              		.loc 1 2320 0
 3280 002c E468     		ldr	r4, [r4, #12]
 3281              	.LVL416:
 3282 002e F8E7     		b	.L391
 3283              	.L396:
2323:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3284              		.loc 1 2323 0
 3285 0030 70BD     		pop	{r4, r5, r6, pc}
 3286              	.LVL417:
 3287              	.L399:
 3288 0032 00BF     		.align	2
 3289              	.L398:
 3290 0034 00000000 		.word	.LC0
 3291 0038 00000000 		.word	.LC36
 3292 003c 54000000 		.word	.LC2
 3293              		.cfi_endproc
 3294              	.LFE205:
 3296              		.section	.text.tcp_netif_ip_addr_changed,"ax",%progbits
 3297              		.align	1
 3298              		.global	tcp_netif_ip_addr_changed
 3299              		.syntax unified
 3300              		.thumb
 3301              		.thumb_func
 3302              		.fpu fpv5-d16
 3304              	tcp_netif_ip_addr_changed:
 3305              	.LFB206:
2332:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb_listen *lpcb;
 3306              		.loc 1 2332 0
 3307              		.cfi_startproc
 3308              		@ args = 0, pretend = 0, frame = 0
 3309              		@ frame_needed = 0, uses_anonymous_args = 0
 3310              	.LVL418:
2335:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_netif_ip_addr_changed_pcblist(old_addr, tcp_active_pcbs);
 3311              		.loc 1 2335 0
 3312 0000 00B3     		cbz	r0, .L406
2332:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb_listen *lpcb;
 3313              		.loc 1 2332 0 discriminator 1
 3314 0002 38B5     		push	{r3, r4, r5, lr}
 3315              	.LCFI50:
 3316              		.cfi_def_cfa_offset 16
 3317              		.cfi_offset 3, -16
 3318              		.cfi_offset 4, -12
 3319              		.cfi_offset 5, -8
 3320              		.cfi_offset 14, -4
 3321 0004 0446     		mov	r4, r0
2335:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_netif_ip_addr_changed_pcblist(old_addr, tcp_active_pcbs);
 3322              		.loc 1 2335 0 discriminator 1
 3323 0006 0368     		ldr	r3, [r0]
 3324 0008 03B9     		cbnz	r3, .L409
 3325              	.LVL419:
 3326              	.L400:
 3327 000a 38BD     		pop	{r3, r4, r5, pc}
 3328              	.LVL420:
 3329              	.L409:
 3330 000c 0D46     		mov	r5, r1
2336:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_netif_ip_addr_changed_pcblist(old_addr, tcp_bound_pcbs);
ARM GAS  /tmp/ccX62RBj.s 			page 107


 3331              		.loc 1 2336 0
 3332 000e 0E4B     		ldr	r3, .L410
 3333 0010 1968     		ldr	r1, [r3]
 3334              	.LVL421:
 3335 0012 FFF7FEFF 		bl	tcp_netif_ip_addr_changed_pcblist
 3336              	.LVL422:
2337:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3337              		.loc 1 2337 0
 3338 0016 0D4B     		ldr	r3, .L410+4
 3339 0018 1968     		ldr	r1, [r3]
 3340 001a 2046     		mov	r0, r4
 3341 001c FFF7FEFF 		bl	tcp_netif_ip_addr_changed_pcblist
 3342              	.LVL423:
2339:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* PCB bound to current local interface address? */
 3343              		.loc 1 2339 0
 3344 0020 002D     		cmp	r5, #0
 3345 0022 F2D0     		beq	.L400
2339:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* PCB bound to current local interface address? */
 3346              		.loc 1 2339 0 is_stmt 0 discriminator 1
 3347 0024 2B68     		ldr	r3, [r5]
 3348 0026 002B     		cmp	r3, #0
 3349 0028 EFD0     		beq	.L400
2341:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* PCB bound to current local interface address? */
 3350              		.loc 1 2341 0 is_stmt 1
 3351 002a 094B     		ldr	r3, .L410+8
 3352 002c 1B68     		ldr	r3, [r3]
 3353              	.LVL424:
 3354 002e 00E0     		b	.L402
 3355              	.L403:
2341:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* PCB bound to current local interface address? */
 3356              		.loc 1 2341 0 is_stmt 0 discriminator 2
 3357 0030 DB68     		ldr	r3, [r3, #12]
 3358              	.LVL425:
 3359              	.L402:
2341:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* PCB bound to current local interface address? */
 3360              		.loc 1 2341 0 discriminator 1
 3361 0032 002B     		cmp	r3, #0
 3362 0034 E9D0     		beq	.L400
2343:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* The PCB is listening to the old ipaddr and
 3363              		.loc 1 2343 0 is_stmt 1
 3364 0036 1868     		ldr	r0, [r3]
 3365 0038 2268     		ldr	r2, [r4]
 3366 003a 9042     		cmp	r0, r2
 3367 003c F8D1     		bne	.L403
2346:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 3368              		.loc 1 2346 0
 3369 003e 2A68     		ldr	r2, [r5]
 3370 0040 1A60     		str	r2, [r3]
 3371 0042 F5E7     		b	.L403
 3372              	.LVL426:
 3373              	.L406:
 3374              	.LCFI51:
 3375              		.cfi_def_cfa_offset 0
 3376              		.cfi_restore 3
 3377              		.cfi_restore 4
 3378              		.cfi_restore 5
 3379              		.cfi_restore 14
ARM GAS  /tmp/ccX62RBj.s 			page 108


 3380 0044 7047     		bx	lr
 3381              	.L411:
 3382 0046 00BF     		.align	2
 3383              	.L410:
 3384 0048 00000000 		.word	tcp_active_pcbs
 3385 004c 00000000 		.word	tcp_bound_pcbs
 3386 0050 00000000 		.word	tcp_listen_pcbs
 3387              		.cfi_endproc
 3388              	.LFE206:
 3390              		.section	.text.tcp_kill_state,"ax",%progbits
 3391              		.align	1
 3392              		.syntax unified
 3393              		.thumb
 3394              		.thumb_func
 3395              		.fpu fpv5-d16
 3397              	tcp_kill_state:
 3398              	.LFB189:
1753:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *inactive;
 3399              		.loc 1 1753 0
 3400              		.cfi_startproc
 3401              		@ args = 0, pretend = 0, frame = 0
 3402              		@ frame_needed = 0, uses_anonymous_args = 0
 3403              	.LVL427:
 3404 0000 38B5     		push	{r3, r4, r5, lr}
 3405              	.LCFI52:
 3406              		.cfi_def_cfa_offset 16
 3407              		.cfi_offset 3, -16
 3408              		.cfi_offset 4, -12
 3409              		.cfi_offset 5, -8
 3410              		.cfi_offset 14, -4
 3411 0002 0446     		mov	r4, r0
1757:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3412              		.loc 1 1757 0
 3413 0004 A0F10803 		sub	r3, r0, #8
 3414 0008 DBB2     		uxtb	r3, r3
 3415 000a 012B     		cmp	r3, #1
 3416 000c 06D9     		bls	.L413
1757:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3417              		.loc 1 1757 0 is_stmt 0 discriminator 1
 3418 000e 0F4B     		ldr	r3, .L421
 3419 0010 40F2DD62 		movw	r2, #1757
 3420 0014 0E49     		ldr	r1, .L421+4
 3421 0016 0F48     		ldr	r0, .L421+8
 3422              	.LVL428:
 3423 0018 FFF7FEFF 		bl	printf
 3424              	.LVL429:
 3425              	.L413:
1763:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == state) {
 3426              		.loc 1 1763 0 is_stmt 1
 3427 001c 0E4B     		ldr	r3, .L421+12
 3428 001e 1B68     		ldr	r3, [r3]
 3429              	.LVL430:
1759:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactive = NULL;
 3430              		.loc 1 1759 0
 3431 0020 0021     		movs	r1, #0
1760:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Go through the list of active pcbs and get the oldest pcb that is in state
 3432              		.loc 1 1760 0
ARM GAS  /tmp/ccX62RBj.s 			page 109


 3433 0022 0846     		mov	r0, r1
1763:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == state) {
 3434              		.loc 1 1763 0
 3435 0024 00E0     		b	.L414
 3436              	.LVL431:
 3437              	.L415:
1763:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == state) {
 3438              		.loc 1 1763 0 is_stmt 0 discriminator 2
 3439 0026 DB68     		ldr	r3, [r3, #12]
 3440              	.LVL432:
 3441              	.L414:
1763:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == state) {
 3442              		.loc 1 1763 0 discriminator 1
 3443 0028 5BB1     		cbz	r3, .L420
1764:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
 3444              		.loc 1 1764 0 is_stmt 1
 3445 002a 1A7D     		ldrb	r2, [r3, #20]	@ zero_extendqisi2
 3446 002c 9442     		cmp	r4, r2
 3447 002e FAD1     		bne	.L415
1765:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         inactivity = tcp_ticks - pcb->tmr;
 3448              		.loc 1 1765 0
 3449 0030 1D6A     		ldr	r5, [r3, #32]
 3450 0032 0A4A     		ldr	r2, .L421+16
 3451 0034 1268     		ldr	r2, [r2]
 3452 0036 521B     		subs	r2, r2, r5
 3453 0038 9142     		cmp	r1, r2
 3454 003a F4D8     		bhi	.L415
1766:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         inactive = pcb;
 3455              		.loc 1 1766 0
 3456 003c 1146     		mov	r1, r2
 3457              	.LVL433:
1767:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 3458              		.loc 1 1767 0
 3459 003e 1846     		mov	r0, r3
 3460              	.LVL434:
 3461 0040 F1E7     		b	.L415
 3462              	.LVL435:
 3463              	.L420:
1771:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_kill_closing: killing oldest %s PCB %p (%"S32_F")\n",
 3464              		.loc 1 1771 0
 3465 0042 10B1     		cbz	r0, .L412
1775:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 3466              		.loc 1 1775 0
 3467 0044 0021     		movs	r1, #0
 3468              	.LVL436:
 3469 0046 FFF7FEFF 		bl	tcp_abandon
 3470              	.LVL437:
 3471              	.L412:
 3472 004a 38BD     		pop	{r3, r4, r5, pc}
 3473              	.L422:
 3474              		.align	2
 3475              	.L421:
 3476 004c 00000000 		.word	.LC0
 3477 0050 00000000 		.word	.LC37
 3478 0054 54000000 		.word	.LC2
 3479 0058 00000000 		.word	tcp_active_pcbs
 3480 005c 00000000 		.word	tcp_ticks
ARM GAS  /tmp/ccX62RBj.s 			page 110


 3481              		.cfi_endproc
 3482              	.LFE189:
 3484              		.section	.text.tcp_alloc,"ax",%progbits
 3485              		.align	1
 3486              		.global	tcp_alloc
 3487              		.syntax unified
 3488              		.thumb
 3489              		.thumb_func
 3490              		.fpu fpv5-d16
 3492              	tcp_alloc:
 3493              	.LFB192:
1835:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
 3494              		.loc 1 1835 0
 3495              		.cfi_startproc
 3496              		@ args = 0, pretend = 0, frame = 0
 3497              		@ frame_needed = 0, uses_anonymous_args = 0
 3498              	.LVL438:
 3499 0000 38B5     		push	{r3, r4, r5, lr}
 3500              	.LCFI53:
 3501              		.cfi_def_cfa_offset 16
 3502              		.cfi_offset 3, -16
 3503              		.cfi_offset 4, -12
 3504              		.cfi_offset 5, -8
 3505              		.cfi_offset 14, -4
 3506 0002 0546     		mov	r5, r0
1840:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb == NULL) {
 3507              		.loc 1 1840 0
 3508 0004 0120     		movs	r0, #1
 3509              	.LVL439:
 3510 0006 FFF7FEFF 		bl	memp_malloc
 3511              	.LVL440:
1841:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Try to send FIN for all pcbs stuck in TF_CLOSEPEND first */
 3512              		.loc 1 1841 0
 3513 000a 0446     		mov	r4, r0
 3514 000c 68B3     		cbz	r0, .L427
 3515              	.L424:
1888:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* zero out the whole pcb, so there is no need to initialize members to zero */
 3516              		.loc 1 1888 0
 3517 000e 54B3     		cbz	r4, .L423
1890:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->prio = prio;
 3518              		.loc 1 1890 0
 3519 0010 9C22     		movs	r2, #156
 3520 0012 0021     		movs	r1, #0
 3521 0014 2046     		mov	r0, r4
 3522 0016 FFF7FEFF 		bl	memset
 3523              	.LVL441:
1891:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->snd_buf = TCP_SND_BUF;
 3524              		.loc 1 1891 0
 3525 001a 6575     		strb	r5, [r4, #21]
1892:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Start with a window that does not need scaling. When window scaling is
 3526              		.loc 1 1892 0
 3527 001c 4FF48663 		mov	r3, #1072
 3528 0020 A4F86430 		strh	r3, [r4, #100]	@ movhi
1895:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->ttl = TCP_TTL;
 3529              		.loc 1 1895 0
 3530 0024 4FF40662 		mov	r2, #2144
 3531 0028 6285     		strh	r2, [r4, #42]	@ movhi
ARM GAS  /tmp/ccX62RBj.s 			page 111


 3532 002a 2285     		strh	r2, [r4, #40]	@ movhi
1896:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* As initial send MSS, we use TCP_MSS but limit it to 536.
 3533              		.loc 1 1896 0
 3534 002c FF22     		movs	r2, #255
 3535 002e E272     		strb	r2, [r4, #11]
1899:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rto = 3000 / TCP_SLOW_INTERVAL;
 3536              		.loc 1 1899 0
 3537 0030 4FF40672 		mov	r2, #536
 3538 0034 6286     		strh	r2, [r4, #50]	@ movhi
1900:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->sv = 3000 / TCP_SLOW_INTERVAL;
 3539              		.loc 1 1900 0
 3540 0036 0622     		movs	r2, #6
 3541 0038 A4F84020 		strh	r2, [r4, #64]	@ movhi
1901:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rtime = -1;
 3542              		.loc 1 1901 0
 3543 003c E287     		strh	r2, [r4, #62]	@ movhi
1902:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->cwnd = 1;
 3544              		.loc 1 1902 0
 3545 003e 4FF6FF72 		movw	r2, #65535
 3546 0042 2286     		strh	r2, [r4, #48]	@ movhi
1903:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->tmr = tcp_ticks;
 3547              		.loc 1 1903 0
 3548 0044 0122     		movs	r2, #1
 3549 0046 A4F84820 		strh	r2, [r4, #72]	@ movhi
1904:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->last_timer = tcp_timer_ctr;
 3550              		.loc 1 1904 0
 3551 004a 1A4A     		ldr	r2, .L428
 3552 004c 1268     		ldr	r2, [r2]
 3553 004e 2262     		str	r2, [r4, #32]
1905:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3554              		.loc 1 1905 0
 3555 0050 194A     		ldr	r2, .L428+4
 3556 0052 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3557 0054 A277     		strb	r2, [r4, #30]
1913:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3558              		.loc 1 1913 0
 3559 0056 A4F84A30 		strh	r3, [r4, #74]	@ movhi
1916:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 3560              		.loc 1 1916 0
 3561 005a 184B     		ldr	r3, .L428+8
 3562 005c C4F88430 		str	r3, [r4, #132]
1920:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3563              		.loc 1 1920 0
 3564 0060 174B     		ldr	r3, .L428+12
 3565 0062 C4F89430 		str	r3, [r4, #148]
 3566              	.L423:
1928:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3567              		.loc 1 1928 0
 3568 0066 2046     		mov	r0, r4
 3569 0068 38BD     		pop	{r3, r4, r5, pc}
 3570              	.LVL442:
 3571              	.L427:
1843:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3572              		.loc 1 1843 0
 3573 006a FFF7FEFF 		bl	tcp_handle_closepend
 3574              	.LVL443:
1847:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Try to allocate a tcp_pcb again. */
ARM GAS  /tmp/ccX62RBj.s 			page 112


 3575              		.loc 1 1847 0
 3576 006e FFF7FEFF 		bl	tcp_kill_timewait
 3577              	.LVL444:
1849:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb == NULL) {
 3578              		.loc 1 1849 0
 3579 0072 0120     		movs	r0, #1
 3580 0074 FFF7FEFF 		bl	memp_malloc
 3581              	.LVL445:
1850:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Try killing oldest connection in LAST-ACK (these wouldn't go to TIME-WAIT). */
 3582              		.loc 1 1850 0
 3583 0078 0446     		mov	r4, r0
 3584 007a 0028     		cmp	r0, #0
 3585 007c C7D1     		bne	.L424
1853:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Try to allocate a tcp_pcb again. */
 3586              		.loc 1 1853 0
 3587 007e 0920     		movs	r0, #9
 3588              	.LVL446:
 3589 0080 FFF7FEFF 		bl	tcp_kill_state
 3590              	.LVL447:
1855:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb == NULL) {
 3591              		.loc 1 1855 0
 3592 0084 0120     		movs	r0, #1
 3593 0086 FFF7FEFF 		bl	memp_malloc
 3594              	.LVL448:
1856:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* Try killing oldest connection in CLOSING. */
 3595              		.loc 1 1856 0
 3596 008a 0446     		mov	r4, r0
 3597 008c 0028     		cmp	r0, #0
 3598 008e BED1     		bne	.L424
1859:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* Try to allocate a tcp_pcb again. */
 3599              		.loc 1 1859 0
 3600 0090 0820     		movs	r0, #8
 3601              	.LVL449:
 3602 0092 FFF7FEFF 		bl	tcp_kill_state
 3603              	.LVL450:
1861:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb == NULL) {
 3604              		.loc 1 1861 0
 3605 0096 0120     		movs	r0, #1
 3606 0098 FFF7FEFF 		bl	memp_malloc
 3607              	.LVL451:
1862:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Try killing oldest active connection with lower priority than the new one. */
 3608              		.loc 1 1862 0
 3609 009c 0446     		mov	r4, r0
 3610 009e 0028     		cmp	r0, #0
 3611 00a0 B5D1     		bne	.L424
1865:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Try to allocate a tcp_pcb again. */
 3612              		.loc 1 1865 0
 3613 00a2 2846     		mov	r0, r5
 3614              	.LVL452:
 3615 00a4 FFF7FEFF 		bl	tcp_kill_prio
 3616              	.LVL453:
1867:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (pcb != NULL) {
 3617              		.loc 1 1867 0
 3618 00a8 0120     		movs	r0, #1
 3619 00aa FFF7FEFF 		bl	memp_malloc
 3620              	.LVL454:
 3621 00ae 0446     		mov	r4, r0
ARM GAS  /tmp/ccX62RBj.s 			page 113


 3622              	.LVL455:
 3623 00b0 ADE7     		b	.L424
 3624              	.L429:
 3625 00b2 00BF     		.align	2
 3626              	.L428:
 3627 00b4 00000000 		.word	tcp_ticks
 3628 00b8 00000000 		.word	.LANCHOR4
 3629 00bc 00000000 		.word	tcp_recv_null
 3630 00c0 00DD6D00 		.word	7200000
 3631              		.cfi_endproc
 3632              	.LFE192:
 3634              		.section	.text.tcp_new,"ax",%progbits
 3635              		.align	1
 3636              		.global	tcp_new
 3637              		.syntax unified
 3638              		.thumb
 3639              		.thumb_func
 3640              		.fpu fpv5-d16
 3642              	tcp_new:
 3643              	.LFB193:
1946:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return tcp_alloc(TCP_PRIO_NORMAL);
 3644              		.loc 1 1946 0
 3645              		.cfi_startproc
 3646              		@ args = 0, pretend = 0, frame = 0
 3647              		@ frame_needed = 0, uses_anonymous_args = 0
 3648 0000 08B5     		push	{r3, lr}
 3649              	.LCFI54:
 3650              		.cfi_def_cfa_offset 8
 3651              		.cfi_offset 3, -8
 3652              		.cfi_offset 14, -4
1947:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 3653              		.loc 1 1947 0
 3654 0002 4020     		movs	r0, #64
 3655 0004 FFF7FEFF 		bl	tcp_alloc
 3656              	.LVL456:
1948:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3657              		.loc 1 1948 0
 3658 0008 08BD     		pop	{r3, pc}
 3659              		.cfi_endproc
 3660              	.LFE193:
 3662              		.section	.text.tcp_new_ip_type,"ax",%progbits
 3663              		.align	1
 3664              		.global	tcp_new_ip_type
 3665              		.syntax unified
 3666              		.thumb
 3667              		.thumb_func
 3668              		.fpu fpv5-d16
 3670              	tcp_new_ip_type:
 3671              	.LFB194:
1963:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
 3672              		.loc 1 1963 0
 3673              		.cfi_startproc
 3674              		@ args = 0, pretend = 0, frame = 0
 3675              		@ frame_needed = 0, uses_anonymous_args = 0
 3676              	.LVL457:
 3677 0000 08B5     		push	{r3, lr}
 3678              	.LCFI55:
ARM GAS  /tmp/ccX62RBj.s 			page 114


 3679              		.cfi_def_cfa_offset 8
 3680              		.cfi_offset 3, -8
 3681              		.cfi_offset 14, -4
1965:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4 && LWIP_IPV6
 3682              		.loc 1 1965 0
 3683 0002 4020     		movs	r0, #64
 3684              	.LVL458:
 3685 0004 FFF7FEFF 		bl	tcp_alloc
 3686              	.LVL459:
1975:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3687              		.loc 1 1975 0
 3688 0008 08BD     		pop	{r3, pc}
 3689              		.cfi_endproc
 3690              	.LFE194:
 3692              		.section	.text.tcp_close_shutdown,"ax",%progbits
 3693              		.align	1
 3694              		.syntax unified
 3695              		.thumb
 3696              		.thumb_func
 3697              		.fpu fpv5-d16
 3699              	tcp_close_shutdown:
 3700              	.LFB164:
 349:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_close_shutdown: invalid pcb", pcb != NULL);
 3701              		.loc 1 349 0
 3702              		.cfi_startproc
 3703              		@ args = 0, pretend = 0, frame = 0
 3704              		@ frame_needed = 0, uses_anonymous_args = 0
 3705              	.LVL460:
 3706 0000 30B5     		push	{r4, r5, lr}
 3707              	.LCFI56:
 3708              		.cfi_def_cfa_offset 12
 3709              		.cfi_offset 4, -12
 3710              		.cfi_offset 5, -8
 3711              		.cfi_offset 14, -4
 3712 0002 85B0     		sub	sp, sp, #20
 3713              	.LCFI57:
 3714              		.cfi_def_cfa_offset 32
 3715 0004 0D46     		mov	r5, r1
 350:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3716              		.loc 1 350 0
 3717 0006 0446     		mov	r4, r0
 3718 0008 28B3     		cbz	r0, .L456
 3719              	.LVL461:
 3720              	.L435:
 352:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((pcb->refused_data != NULL) || (pcb->rcv_wnd != TCP_WND_MAX(pcb))) {
 3721              		.loc 1 352 0
 3722 000a 002D     		cmp	r5, #0
 3723 000c 2FD0     		beq	.L436
 352:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((pcb->refused_data != NULL) || (pcb->rcv_wnd != TCP_WND_MAX(pcb))) {
 3724              		.loc 1 352 0 is_stmt 0 discriminator 1
 3725 000e 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 3726 0010 072B     		cmp	r3, #7
 3727 0012 18BF     		it	ne
 3728 0014 042B     		cmpne	r3, #4
 3729 0016 2AD1     		bne	.L436
 353:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Not all data received by application, send RST to tell the remote
 3730              		.loc 1 353 0 is_stmt 1
ARM GAS  /tmp/ccX62RBj.s 			page 115


 3731 0018 A36F     		ldr	r3, [r4, #120]
 3732 001a 23B3     		cbz	r3, .L457
 3733              	.L437:
 356:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3734              		.loc 1 356 0
 3735 001c 638B     		ldrh	r3, [r4, #26]
 3736 001e 13F0100F 		tst	r3, #16
 3737 0022 2ED0     		beq	.L458
 3738              	.L438:
 360:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->local_port, pcb->remote_port);
 3739              		.loc 1 360 0
 3740 0024 231D     		adds	r3, r4, #4
 3741 0026 626A     		ldr	r2, [r4, #36]
 3742 0028 216D     		ldr	r1, [r4, #80]
 3743 002a 208B     		ldrh	r0, [r4, #24]
 3744 002c 0290     		str	r0, [sp, #8]
 3745 002e E08A     		ldrh	r0, [r4, #22]
 3746 0030 0190     		str	r0, [sp, #4]
 3747 0032 0093     		str	r3, [sp]
 3748 0034 2346     		mov	r3, r4
 3749 0036 2046     		mov	r0, r4
 3750 0038 FFF7FEFF 		bl	tcp_rst
 3751              	.LVL462:
 363:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_RMV_ACTIVE(pcb);
 3752              		.loc 1 363 0
 3753 003c 2046     		mov	r0, r4
 3754 003e FFF7FEFF 		bl	tcp_pcb_purge
 3755              	.LVL463:
 364:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Deallocate the pcb since we already sent a RST for it */
 3756              		.loc 1 364 0
 3757 0042 394B     		ldr	r3, .L464
 3758 0044 1B68     		ldr	r3, [r3]
 3759 0046 9C42     		cmp	r4, r3
 3760 0048 23D0     		beq	.L459
 3761              	.L439:
 3762              	.LVL464:
 3763              	.LBB23:
 364:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Deallocate the pcb since we already sent a RST for it */
 3764              		.loc 1 364 0 is_stmt 0 discriminator 8
 3765 004a 43B3     		cbz	r3, .L440
 364:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Deallocate the pcb since we already sent a RST for it */
 3766              		.loc 1 364 0 discriminator 9
 3767 004c DA68     		ldr	r2, [r3, #12]
 3768 004e 9442     		cmp	r4, r2
 3769 0050 23D0     		beq	.L460
 364:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Deallocate the pcb since we already sent a RST for it */
 3770              		.loc 1 364 0
 3771 0052 1346     		mov	r3, r2
 3772              	.LVL465:
 3773 0054 F9E7     		b	.L439
 3774              	.LVL466:
 3775              	.L456:
 3776              	.LBE23:
 350:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3777              		.loc 1 350 0 is_stmt 1 discriminator 1
 3778 0056 354B     		ldr	r3, .L464+4
 3779 0058 4FF4AF72 		mov	r2, #350
ARM GAS  /tmp/ccX62RBj.s 			page 116


 3780 005c 3449     		ldr	r1, .L464+8
 3781              	.LVL467:
 3782 005e 3548     		ldr	r0, .L464+12
 3783              	.LVL468:
 3784 0060 FFF7FEFF 		bl	printf
 3785              	.LVL469:
 3786 0064 D1E7     		b	.L435
 3787              	.L457:
 353:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Not all data received by application, send RST to tell the remote
 3788              		.loc 1 353 0 discriminator 1
 3789 0066 238D     		ldrh	r3, [r4, #40]
 3790 0068 B3F5066F 		cmp	r3, #2144
 3791 006c D6D1     		bne	.L437
 3792              	.L436:
 378:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case CLOSED:
 3793              		.loc 1 378 0
 3794 006e 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 3795 0070 012B     		cmp	r3, #1
 3796 0072 40D0     		beq	.L445
 3797 0074 33B3     		cbz	r3, .L446
 3798 0076 022B     		cmp	r3, #2
 3799 0078 49D0     		beq	.L447
 403:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 3800              		.loc 1 403 0
 3801 007a 2046     		mov	r0, r4
 3802 007c FFF7FEFF 		bl	tcp_close_shutdown_fin
 3803              	.LVL470:
 3804 0080 1AE0     		b	.L443
 3805              	.L458:
 356:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3806              		.loc 1 356 0 discriminator 1
 3807 0082 2A4B     		ldr	r3, .L464+4
 3808 0084 4FF4B272 		mov	r2, #356
 3809 0088 2B49     		ldr	r1, .L464+16
 3810 008a 2A48     		ldr	r0, .L464+12
 3811 008c FFF7FEFF 		bl	printf
 3812              	.LVL471:
 3813 0090 C8E7     		b	.L438
 3814              	.L459:
 364:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Deallocate the pcb since we already sent a RST for it */
 3815              		.loc 1 364 0 discriminator 1
 3816 0092 DA68     		ldr	r2, [r3, #12]
 3817 0094 244B     		ldr	r3, .L464
 3818 0096 1A60     		str	r2, [r3]
 3819 0098 01E0     		b	.L440
 3820              	.LVL472:
 3821              	.L460:
 3822              	.LBB24:
 364:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Deallocate the pcb since we already sent a RST for it */
 3823              		.loc 1 364 0 is_stmt 0 discriminator 5
 3824 009a E268     		ldr	r2, [r4, #12]
 3825 009c DA60     		str	r2, [r3, #12]
 3826              	.LVL473:
 3827              	.L440:
 3828              	.LBE24:
 364:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Deallocate the pcb since we already sent a RST for it */
 3829              		.loc 1 364 0 discriminator 10
ARM GAS  /tmp/ccX62RBj.s 			page 117


 3830 009e 0023     		movs	r3, #0
 3831 00a0 E360     		str	r3, [r4, #12]
 3832 00a2 0122     		movs	r2, #1
 3833 00a4 254B     		ldr	r3, .L464+20
 3834 00a6 1A70     		strb	r2, [r3]
 366:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* prevent using a deallocated pcb: free it from tcp_input later */
 3835              		.loc 1 366 0 is_stmt 1 discriminator 10
 3836 00a8 254B     		ldr	r3, .L464+24
 3837 00aa 1B68     		ldr	r3, [r3]
 3838 00ac 9C42     		cmp	r4, r3
 3839 00ae 05D0     		beq	.L461
 370:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 3840              		.loc 1 370 0
 3841 00b0 2046     		mov	r0, r4
 3842 00b2 FFF7FEFF 		bl	tcp_free
 3843              	.LVL474:
 372:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3844              		.loc 1 372 0
 3845 00b6 0020     		movs	r0, #0
 3846              	.L443:
 406:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 3847              		.loc 1 406 0
 3848 00b8 05B0     		add	sp, sp, #20
 3849              	.LCFI58:
 3850              		.cfi_remember_state
 3851              		.cfi_def_cfa_offset 12
 3852              		@ sp needed
 3853 00ba 30BD     		pop	{r4, r5, pc}
 3854              	.LVL475:
 3855              	.L461:
 3856              	.LCFI59:
 3857              		.cfi_restore_state
 368:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
 3858              		.loc 1 368 0
 3859 00bc FFF7FEFF 		bl	tcp_trigger_input_pcb_close
 3860              	.LVL476:
 372:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 3861              		.loc 1 372 0
 3862 00c0 0020     		movs	r0, #0
 3863 00c2 F9E7     		b	.L443
 3864              	.L446:
 387:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         TCP_RMV(&tcp_bound_pcbs, pcb);
 3865              		.loc 1 387 0
 3866 00c4 E38A     		ldrh	r3, [r4, #22]
 3867 00c6 8BB1     		cbz	r3, .L448
 388:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 3868              		.loc 1 388 0
 3869 00c8 1E4B     		ldr	r3, .L464+28
 3870 00ca 1B68     		ldr	r3, [r3]
 3871 00cc 9C42     		cmp	r4, r3
 3872 00ce 05D0     		beq	.L462
 3873              	.L449:
 3874              	.LVL477:
 3875              	.LBB25:
 388:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 3876              		.loc 1 388 0 is_stmt 0 discriminator 8
 3877 00d0 53B1     		cbz	r3, .L450
ARM GAS  /tmp/ccX62RBj.s 			page 118


 388:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 3878              		.loc 1 388 0 discriminator 9
 3879 00d2 DA68     		ldr	r2, [r3, #12]
 3880 00d4 9442     		cmp	r4, r2
 3881 00d6 05D0     		beq	.L463
 388:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 3882              		.loc 1 388 0
 3883 00d8 1346     		mov	r3, r2
 3884              	.LVL478:
 3885 00da F9E7     		b	.L449
 3886              	.L462:
 3887              	.LBE25:
 388:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 3888              		.loc 1 388 0 discriminator 1
 3889 00dc DA68     		ldr	r2, [r3, #12]
 3890 00de 194B     		ldr	r3, .L464+28
 3891 00e0 1A60     		str	r2, [r3]
 3892 00e2 01E0     		b	.L450
 3893              	.LVL479:
 3894              	.L463:
 3895              	.LBB26:
 388:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 3896              		.loc 1 388 0 discriminator 5
 3897 00e4 E268     		ldr	r2, [r4, #12]
 3898 00e6 DA60     		str	r2, [r3, #12]
 3899              	.LVL480:
 3900              	.L450:
 3901              	.LBE26:
 388:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 3902              		.loc 1 388 0 discriminator 10
 3903 00e8 0023     		movs	r3, #0
 3904 00ea E360     		str	r3, [r4, #12]
 3905              	.L448:
 390:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       break;
 3906              		.loc 1 390 0 is_stmt 1
 3907 00ec 2046     		mov	r0, r4
 3908 00ee FFF7FEFF 		bl	tcp_free
 3909              	.LVL481:
 405:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 3910              		.loc 1 405 0
 3911 00f2 0020     		movs	r0, #0
 391:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case LISTEN:
 3912              		.loc 1 391 0
 3913 00f4 E0E7     		b	.L443
 3914              	.L445:
 393:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_pcb_remove(&tcp_listen_pcbs.pcbs, pcb);
 3915              		.loc 1 393 0
 3916 00f6 2046     		mov	r0, r4
 3917 00f8 FFF7FEFF 		bl	tcp_listen_closed
 3918              	.LVL482:
 394:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free_listen(pcb);
 3919              		.loc 1 394 0
 3920 00fc 2146     		mov	r1, r4
 3921 00fe 1248     		ldr	r0, .L464+32
 3922 0100 FFF7FEFF 		bl	tcp_pcb_remove
 3923              	.LVL483:
 395:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       break;
ARM GAS  /tmp/ccX62RBj.s 			page 119


 3924              		.loc 1 395 0
 3925 0104 2046     		mov	r0, r4
 3926 0106 FFF7FEFF 		bl	tcp_free_listen
 3927              	.LVL484:
 405:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 3928              		.loc 1 405 0
 3929 010a 0020     		movs	r0, #0
 396:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case SYN_SENT:
 3930              		.loc 1 396 0
 3931 010c D4E7     		b	.L443
 3932              	.L447:
 398:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free(pcb);
 3933              		.loc 1 398 0
 3934 010e 2146     		mov	r1, r4
 3935 0110 0548     		ldr	r0, .L464
 3936 0112 FFF7FEFF 		bl	tcp_pcb_remove
 3937              	.LVL485:
 3938 0116 0122     		movs	r2, #1
 3939 0118 084B     		ldr	r3, .L464+20
 3940 011a 1A70     		strb	r2, [r3]
 399:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       MIB2_STATS_INC(mib2.tcpattemptfails);
 3941              		.loc 1 399 0
 3942 011c 2046     		mov	r0, r4
 3943 011e FFF7FEFF 		bl	tcp_free
 3944              	.LVL486:
 405:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 3945              		.loc 1 405 0
 3946 0122 0020     		movs	r0, #0
 401:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     default:
 3947              		.loc 1 401 0
 3948 0124 C8E7     		b	.L443
 3949              	.L465:
 3950 0126 00BF     		.align	2
 3951              	.L464:
 3952 0128 00000000 		.word	tcp_active_pcbs
 3953 012c 00000000 		.word	.LC0
 3954 0130 00000000 		.word	.LC38
 3955 0134 54000000 		.word	.LC2
 3956 0138 20000000 		.word	.LC39
 3957 013c 00000000 		.word	tcp_active_pcbs_changed
 3958 0140 00000000 		.word	tcp_input_pcb
 3959 0144 00000000 		.word	tcp_bound_pcbs
 3960 0148 00000000 		.word	tcp_listen_pcbs
 3961              		.cfi_endproc
 3962              	.LFE164:
 3964              		.section	.text.tcp_close,"ax",%progbits
 3965              		.align	1
 3966              		.global	tcp_close
 3967              		.syntax unified
 3968              		.thumb
 3969              		.thumb_func
 3970              		.fpu fpv5-d16
 3972              	tcp_close:
 3973              	.LFB166:
 485:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 3974              		.loc 1 485 0
 3975              		.cfi_startproc
ARM GAS  /tmp/ccX62RBj.s 			page 120


 3976              		@ args = 0, pretend = 0, frame = 0
 3977              		@ frame_needed = 0, uses_anonymous_args = 0
 3978              	.LVL487:
 3979 0000 08B5     		push	{r3, lr}
 3980              	.LCFI60:
 3981              		.cfi_def_cfa_offset 8
 3982              		.cfi_offset 3, -8
 3983              		.cfi_offset 14, -4
 488:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_close: closing in "));
 3984              		.loc 1 488 0
 3985 0002 60B1     		cbz	r0, .L471
 3986 0004 0346     		mov	r3, r0
 493:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Set a flag not to receive any more data... */
 3987              		.loc 1 493 0
 3988 0006 027D     		ldrb	r2, [r0, #20]	@ zero_extendqisi2
 3989 0008 012A     		cmp	r2, #1
 3990 000a 03D0     		beq	.L469
 495:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 3991              		.loc 1 495 0
 3992 000c 428B     		ldrh	r2, [r0, #26]
 3993 000e 42F01002 		orr	r2, r2, #16
 3994 0012 4283     		strh	r2, [r0, #26]	@ movhi
 3995              	.L469:
 498:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 3996              		.loc 1 498 0
 3997 0014 0121     		movs	r1, #1
 3998 0016 1846     		mov	r0, r3
 3999              	.LVL488:
 4000 0018 FFF7FEFF 		bl	tcp_close_shutdown
 4001              	.LVL489:
 499:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4002              		.loc 1 499 0
 4003 001c 08BD     		pop	{r3, pc}
 4004              	.LVL490:
 4005              	.L471:
 488:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_close: closing in "));
 4006              		.loc 1 488 0 discriminator 1
 4007 001e 054B     		ldr	r3, .L472
 4008 0020 4FF4F472 		mov	r2, #488
 4009 0024 0449     		ldr	r1, .L472+4
 4010 0026 0548     		ldr	r0, .L472+8
 4011              	.LVL491:
 4012 0028 FFF7FEFF 		bl	printf
 4013              	.LVL492:
 4014 002c 6FF00F00 		mvn	r0, #15
 4015 0030 08BD     		pop	{r3, pc}
 4016              	.L473:
 4017 0032 00BF     		.align	2
 4018              	.L472:
 4019 0034 00000000 		.word	.LC0
 4020 0038 00000000 		.word	.LC40
 4021 003c 54000000 		.word	.LC2
 4022              		.cfi_endproc
 4023              	.LFE166:
 4025              		.section	.text.tcp_recv_null,"ax",%progbits
 4026              		.align	1
 4027              		.global	tcp_recv_null
ARM GAS  /tmp/ccX62RBj.s 			page 121


 4028              		.syntax unified
 4029              		.thumb
 4030              		.thumb_func
 4031              		.fpu fpv5-d16
 4033              	tcp_recv_null:
 4034              	.LFB187:
1685:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(arg);
 4035              		.loc 1 1685 0
 4036              		.cfi_startproc
 4037              		@ args = 0, pretend = 0, frame = 0
 4038              		@ frame_needed = 0, uses_anonymous_args = 0
 4039              	.LVL493:
 4040 0000 10B5     		push	{r4, lr}
 4041              	.LCFI61:
 4042              		.cfi_def_cfa_offset 8
 4043              		.cfi_offset 4, -8
 4044              		.cfi_offset 14, -4
1688:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4045              		.loc 1 1688 0
 4046 0002 51B1     		cbz	r1, .L480
 4047 0004 1446     		mov	r4, r2
 4048 0006 0846     		mov	r0, r1
 4049              	.LVL494:
1690:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_recved(pcb, p->tot_len);
 4050              		.loc 1 1690 0
 4051 0008 8AB1     		cbz	r2, .L477
1691:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pbuf_free(p);
 4052              		.loc 1 1691 0
 4053 000a 1189     		ldrh	r1, [r2, #8]
 4054              	.LVL495:
 4055 000c FFF7FEFF 		bl	tcp_recved
 4056              	.LVL496:
1692:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else if (err == ERR_OK) {
 4057              		.loc 1 1692 0
 4058 0010 2046     		mov	r0, r4
 4059 0012 FFF7FEFF 		bl	pbuf_free
 4060              	.LVL497:
1696:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 4061              		.loc 1 1696 0
 4062 0016 0020     		movs	r0, #0
 4063 0018 10BD     		pop	{r4, pc}
 4064              	.LVL498:
 4065              	.L480:
1688:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4066              		.loc 1 1688 0 discriminator 1
 4067 001a 084B     		ldr	r3, .L482
 4068              	.LVL499:
 4069 001c 4FF4D362 		mov	r2, #1688
 4070              	.LVL500:
 4071 0020 0749     		ldr	r1, .L482+4
 4072              	.LVL501:
 4073 0022 0848     		ldr	r0, .L482+8
 4074              	.LVL502:
 4075 0024 FFF7FEFF 		bl	printf
 4076              	.LVL503:
 4077 0028 6FF00F00 		mvn	r0, #15
 4078 002c 10BD     		pop	{r4, pc}
ARM GAS  /tmp/ccX62RBj.s 			page 122


 4079              	.LVL504:
 4080              	.L477:
1693:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return tcp_close(pcb);
 4081              		.loc 1 1693 0
 4082 002e 0BB1     		cbz	r3, .L481
1696:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 4083              		.loc 1 1696 0
 4084 0030 0020     		movs	r0, #0
 4085              	.LVL505:
1697:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 4086              		.loc 1 1697 0
 4087 0032 10BD     		pop	{r4, pc}
 4088              	.LVL506:
 4089              	.L481:
1694:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 4090              		.loc 1 1694 0
 4091 0034 FFF7FEFF 		bl	tcp_close
 4092              	.LVL507:
 4093 0038 10BD     		pop	{r4, pc}
 4094              	.LVL508:
 4095              	.L483:
 4096 003a 00BF     		.align	2
 4097              	.L482:
 4098 003c 00000000 		.word	.LC0
 4099 0040 00000000 		.word	.LC41
 4100 0044 54000000 		.word	.LC2
 4101              		.cfi_endproc
 4102              	.LFE187:
 4104              		.section	.text.tcp_process_refused_data,"ax",%progbits
 4105              		.align	1
 4106              		.global	tcp_process_refused_data
 4107              		.syntax unified
 4108              		.thumb
 4109              		.thumb_func
 4110              		.fpu fpv5-d16
 4112              	tcp_process_refused_data:
 4113              	.LFB182:
1540:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 4114              		.loc 1 1540 0
 4115              		.cfi_startproc
 4116              		@ args = 0, pretend = 0, frame = 0
 4117              		@ frame_needed = 0, uses_anonymous_args = 0
 4118              	.LVL509:
 4119 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4120              	.LCFI62:
 4121              		.cfi_def_cfa_offset 24
 4122              		.cfi_offset 3, -24
 4123              		.cfi_offset 4, -20
 4124              		.cfi_offset 5, -16
 4125              		.cfi_offset 6, -12
 4126              		.cfi_offset 7, -8
 4127              		.cfi_offset 14, -4
1545:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4128              		.loc 1 1545 0
 4129 0002 18B3     		cbz	r0, .L494
 4130 0004 0446     		mov	r4, r0
 4131              	.LBB27:
ARM GAS  /tmp/ccX62RBj.s 			page 123


1552:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* set pcb->refused_data to NULL in case the callback frees it and then
 4132              		.loc 1 1552 0
 4133 0006 866F     		ldr	r6, [r0, #120]
 4134 0008 777B     		ldrb	r7, [r6, #13]	@ zero_extendqisi2
 4135              	.LVL510:
1560:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 4136              		.loc 1 1560 0
 4137 000a 0023     		movs	r3, #0
 4138 000c 8367     		str	r3, [r0, #120]
1564:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (err == ERR_OK) {
 4139              		.loc 1 1564 0
 4140 000e D0F88450 		ldr	r5, [r0, #132]
 4141 0012 2DB3     		cbz	r5, .L487
1564:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (err == ERR_OK) {
 4142              		.loc 1 1564 0 is_stmt 0 discriminator 1
 4143 0014 3246     		mov	r2, r6
 4144 0016 0146     		mov	r1, r0
 4145 0018 0069     		ldr	r0, [r0, #16]
 4146              	.LVL511:
 4147 001a A847     		blx	r5
 4148              	.LVL512:
 4149 001c 0546     		mov	r5, r0
 4150              	.LVL513:
 4151              	.L488:
1565:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* did refused_data include a FIN? */
 4152              		.loc 1 1565 0 is_stmt 1
 4153 001e 4DBB     		cbnz	r5, .L489
1567:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 4154              		.loc 1 1567 0
 4155 0020 17F0200F 		tst	r7, #32
 4156 0024 2CD0     		beq	.L486
1574:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb->rcv_wnd++;
 4157              		.loc 1 1574 0
 4158 0026 238D     		ldrh	r3, [r4, #40]
 4159 0028 B3F5066F 		cmp	r3, #2144
 4160 002c 01D0     		beq	.L490
1575:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 4161              		.loc 1 1575 0
 4162 002e 0133     		adds	r3, r3, #1
 4163 0030 2385     		strh	r3, [r4, #40]	@ movhi
 4164              	.L490:
1577:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_ABRT) {
 4165              		.loc 1 1577 0
 4166 0032 D4F88460 		ldr	r6, [r4, #132]
 4167              	.LVL514:
 4168 0036 DEB1     		cbz	r6, .L492
1577:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_ABRT) {
 4169              		.loc 1 1577 0 is_stmt 0 discriminator 1
 4170 0038 0023     		movs	r3, #0
 4171 003a 1A46     		mov	r2, r3
 4172 003c 2146     		mov	r1, r4
 4173 003e 2069     		ldr	r0, [r4, #16]
 4174 0040 B047     		blx	r6
 4175              	.LVL515:
 4176              	.L491:
1578:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           return ERR_ABRT;
 4177              		.loc 1 1578 0 is_stmt 1
ARM GAS  /tmp/ccX62RBj.s 			page 124


 4178 0042 10F10D0F 		cmn	r0, #13
 4179 0046 1BD1     		bne	.L486
1579:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 4180              		.loc 1 1579 0
 4181 0048 0546     		mov	r5, r0
 4182 004a 19E0     		b	.L486
 4183              	.LVL516:
 4184              	.L494:
 4185              	.LBE27:
1545:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4186              		.loc 1 1545 0 discriminator 1
 4187 004c 0D4B     		ldr	r3, .L495
 4188 004e 40F20962 		movw	r2, #1545
 4189 0052 0D49     		ldr	r1, .L495+4
 4190 0054 0D48     		ldr	r0, .L495+8
 4191              	.LVL517:
 4192 0056 FFF7FEFF 		bl	printf
 4193              	.LVL518:
 4194 005a 6FF00F05 		mvn	r5, #15
 4195 005e 0FE0     		b	.L486
 4196              	.LVL519:
 4197              	.L487:
 4198              	.LBB28:
1564:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (err == ERR_OK) {
 4199              		.loc 1 1564 0 discriminator 2
 4200 0060 0023     		movs	r3, #0
 4201 0062 3246     		mov	r2, r6
 4202 0064 0146     		mov	r1, r0
 4203 0066 1846     		mov	r0, r3
 4204              	.LVL520:
 4205 0068 FFF7FEFF 		bl	tcp_recv_null
 4206              	.LVL521:
 4207 006c 0546     		mov	r5, r0
 4208              	.LVL522:
 4209 006e D6E7     		b	.L488
 4210              	.LVL523:
 4211              	.L492:
1577:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_ABRT) {
 4212              		.loc 1 1577 0
 4213 0070 2846     		mov	r0, r5
 4214 0072 E6E7     		b	.L491
 4215              	.LVL524:
 4216              	.L489:
1582:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* if err == ERR_ABRT, 'pcb' is already deallocated */
 4217              		.loc 1 1582 0
 4218 0074 15F10D0F 		cmn	r5, #13
 4219 0078 02D0     		beq	.L486
1595:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_INPROGRESS;
 4220              		.loc 1 1595 0
 4221 007a A667     		str	r6, [r4, #120]
1596:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 4222              		.loc 1 1596 0
 4223 007c 6FF00405 		mvn	r5, #4
 4224              	.LVL525:
 4225              	.L486:
 4226              	.LBE28:
1600:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
ARM GAS  /tmp/ccX62RBj.s 			page 125


 4227              		.loc 1 1600 0
 4228 0080 2846     		mov	r0, r5
 4229 0082 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4230              	.L496:
 4231              		.align	2
 4232              	.L495:
 4233 0084 00000000 		.word	.LC0
 4234 0088 00000000 		.word	.LC42
 4235 008c 54000000 		.word	.LC2
 4236              		.cfi_endproc
 4237              	.LFE182:
 4239              		.section	.text.tcp_fasttmr,"ax",%progbits
 4240              		.align	1
 4241              		.global	tcp_fasttmr
 4242              		.syntax unified
 4243              		.thumb
 4244              		.thumb_func
 4245              		.fpu fpv5-d16
 4247              	tcp_fasttmr:
 4248              	.LFB180:
1480:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
 4249              		.loc 1 1480 0
 4250              		.cfi_startproc
 4251              		@ args = 0, pretend = 0, frame = 0
 4252              		@ frame_needed = 0, uses_anonymous_args = 0
 4253 0000 70B5     		push	{r4, r5, r6, lr}
 4254              	.LCFI63:
 4255              		.cfi_def_cfa_offset 16
 4256              		.cfi_offset 4, -16
 4257              		.cfi_offset 5, -12
 4258              		.cfi_offset 6, -8
 4259              		.cfi_offset 14, -4
1483:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4260              		.loc 1 1483 0
 4261 0002 1C4A     		ldr	r2, .L509
 4262 0004 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4263 0006 0133     		adds	r3, r3, #1
 4264 0008 1370     		strb	r3, [r2]
 4265              	.L498:
1486:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4266              		.loc 1 1486 0
 4267 000a 1B4B     		ldr	r3, .L509+4
 4268 000c 1C68     		ldr	r4, [r3]
 4269              	.LVL526:
1488:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->last_timer != tcp_timer_ctr) {
 4270              		.loc 1 1488 0
 4271 000e 13E0     		b	.L499
 4272              	.L507:
 4273              	.LBB29:
1495:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_output(pcb);
 4274              		.loc 1 1495 0
 4275 0010 43F00203 		orr	r3, r3, #2
 4276 0014 6383     		strh	r3, [r4, #26]	@ movhi
1496:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_clear_flags(pcb, TF_ACK_DELAY | TF_ACK_NOW);
 4277              		.loc 1 1496 0
 4278 0016 2046     		mov	r0, r4
 4279 0018 FFF7FEFF 		bl	tcp_output
ARM GAS  /tmp/ccX62RBj.s 			page 126


 4280              	.LVL527:
1497:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 4281              		.loc 1 1497 0
 4282 001c 638B     		ldrh	r3, [r4, #26]
 4283 001e 23F00303 		bic	r3, r3, #3
 4284 0022 6383     		strh	r3, [r4, #26]	@ movhi
 4285 0024 13E0     		b	.L501
 4286              	.L508:
1502:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_close_shutdown_fin(pcb);
 4287              		.loc 1 1502 0
 4288 0026 23F00803 		bic	r3, r3, #8
 4289 002a 6383     		strh	r3, [r4, #26]	@ movhi
1503:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 4290              		.loc 1 1503 0
 4291 002c 2046     		mov	r0, r4
 4292 002e FFF7FEFF 		bl	tcp_close_shutdown_fin
 4293              	.LVL528:
 4294 0032 10E0     		b	.L502
 4295              	.L500:
 4296              	.LBE29:
1519:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 4297              		.loc 1 1519 0
 4298 0034 E568     		ldr	r5, [r4, #12]
 4299              	.LVL529:
 4300              	.L503:
1480:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
 4301              		.loc 1 1480 0
 4302 0036 2C46     		mov	r4, r5
 4303              	.L499:
 4304              	.LVL530:
1488:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->last_timer != tcp_timer_ctr) {
 4305              		.loc 1 1488 0
 4306 0038 DCB1     		cbz	r4, .L506
1489:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *next;
 4307              		.loc 1 1489 0
 4308 003a A27F     		ldrb	r2, [r4, #30]	@ zero_extendqisi2
 4309 003c 0D4B     		ldr	r3, .L509
 4310 003e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4311 0040 9A42     		cmp	r2, r3
 4312 0042 F7D0     		beq	.L500
 4313              	.LBB30:
1491:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* send delayed ACKs */
 4314              		.loc 1 1491 0
 4315 0044 A377     		strb	r3, [r4, #30]
1493:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_fasttmr: delayed ACK\n"));
 4316              		.loc 1 1493 0
 4317 0046 638B     		ldrh	r3, [r4, #26]
 4318 0048 13F0010F 		tst	r3, #1
 4319 004c E0D1     		bne	.L507
 4320              	.L501:
1500:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_fasttmr: pending FIN\n"));
 4321              		.loc 1 1500 0
 4322 004e 638B     		ldrh	r3, [r4, #26]
 4323 0050 13F0080F 		tst	r3, #8
 4324 0054 E7D1     		bne	.L508
 4325              	.L502:
1506:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
ARM GAS  /tmp/ccX62RBj.s 			page 127


 4326              		.loc 1 1506 0
 4327 0056 E568     		ldr	r5, [r4, #12]
 4328              	.LVL531:
1509:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_active_pcbs_changed = 0;
 4329              		.loc 1 1509 0
 4330 0058 A36F     		ldr	r3, [r4, #120]
 4331 005a 002B     		cmp	r3, #0
 4332 005c EBD0     		beq	.L503
1510:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_process_refused_data(pcb);
 4333              		.loc 1 1510 0
 4334 005e 074E     		ldr	r6, .L509+8
 4335 0060 0023     		movs	r3, #0
 4336 0062 3370     		strb	r3, [r6]
1511:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (tcp_active_pcbs_changed) {
 4337              		.loc 1 1511 0
 4338 0064 2046     		mov	r0, r4
 4339 0066 FFF7FEFF 		bl	tcp_process_refused_data
 4340              	.LVL532:
1512:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* application callback has changed the pcb list: restart the loop */
 4341              		.loc 1 1512 0
 4342 006a 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 4343 006c 002B     		cmp	r3, #0
 4344 006e E2D0     		beq	.L503
 4345 0070 CBE7     		b	.L498
 4346              	.LVL533:
 4347              	.L506:
 4348              	.LBE30:
1522:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4349              		.loc 1 1522 0
 4350 0072 70BD     		pop	{r4, r5, r6, pc}
 4351              	.LVL534:
 4352              	.L510:
 4353              		.align	2
 4354              	.L509:
 4355 0074 00000000 		.word	.LANCHOR4
 4356 0078 00000000 		.word	tcp_active_pcbs
 4357 007c 00000000 		.word	tcp_active_pcbs_changed
 4358              		.cfi_endproc
 4359              	.LFE180:
 4361              		.section	.text.tcp_shutdown,"ax",%progbits
 4362              		.align	1
 4363              		.global	tcp_shutdown
 4364              		.syntax unified
 4365              		.thumb
 4366              		.thumb_func
 4367              		.fpu fpv5-d16
 4369              	tcp_shutdown:
 4370              	.LFB167:
 516:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 4371              		.loc 1 516 0
 4372              		.cfi_startproc
 4373              		@ args = 0, pretend = 0, frame = 0
 4374              		@ frame_needed = 0, uses_anonymous_args = 0
 4375              	.LVL535:
 4376 0000 70B5     		push	{r4, r5, r6, lr}
 4377              	.LCFI64:
 4378              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccX62RBj.s 			page 128


 4379              		.cfi_offset 4, -16
 4380              		.cfi_offset 5, -12
 4381              		.cfi_offset 6, -8
 4382              		.cfi_offset 14, -4
 519:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4383              		.loc 1 519 0
 4384 0002 F0B1     		cbz	r0, .L521
 4385 0004 0D46     		mov	r5, r1
 4386 0006 1646     		mov	r6, r2
 4387 0008 0446     		mov	r4, r0
 521:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return ERR_CONN;
 4388              		.loc 1 521 0
 4389 000a 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 4390 000c 012B     		cmp	r3, #1
 4391 000e 26D0     		beq	.L517
 524:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* shut down the receive side: set a flag not to receive any more data... */
 4392              		.loc 1 524 0
 4393 0010 51B1     		cbz	r1, .L514
 526:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (shut_tx) {
 4394              		.loc 1 526 0
 4395 0012 438B     		ldrh	r3, [r0, #26]
 4396 0014 43F01003 		orr	r3, r3, #16
 4397 0018 4383     		strh	r3, [r0, #26]	@ movhi
 527:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* shutting down the tx AND rx side is the same as closing for the raw API */
 4398              		.loc 1 527 0
 4399 001a E2B9     		cbnz	r2, .L522
 532:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pbuf_free(pcb->refused_data);
 4400              		.loc 1 532 0
 4401 001c 806F     		ldr	r0, [r0, #120]
 4402              	.LVL536:
 4403 001e 18B1     		cbz	r0, .L514
 533:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->refused_data = NULL;
 4404              		.loc 1 533 0
 4405 0020 FFF7FEFF 		bl	pbuf_free
 4406              	.LVL537:
 534:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 4407              		.loc 1 534 0
 4408 0024 0023     		movs	r3, #0
 4409 0026 A367     		str	r3, [r4, #120]
 4410              	.L514:
 537:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* This can't happen twice since if it succeeds, the pcb's state is changed.
 4411              		.loc 1 537 0
 4412 0028 E6B1     		cbz	r6, .L518
 540:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       case SYN_RCVD:
 4413              		.loc 1 540 0
 4414 002a 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 4415 002c 032B     		cmp	r3, #3
 4416 002e 1BD3     		bcc	.L519
 4417 0030 042B     		cmp	r3, #4
 4418 0032 01D9     		bls	.L516
 4419 0034 072B     		cmp	r3, #7
 4420 0036 17D1     		bne	.L519
 4421              	.L516:
 544:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       default:
 4422              		.loc 1 544 0
 4423 0038 E9B2     		uxtb	r1, r5
 4424 003a 2046     		mov	r0, r4
ARM GAS  /tmp/ccX62RBj.s 			page 129


 4425 003c FFF7FEFF 		bl	tcp_close_shutdown
 4426              	.LVL538:
 4427 0040 70BD     		pop	{r4, r5, r6, pc}
 4428              	.LVL539:
 4429              	.L521:
 519:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4430              		.loc 1 519 0 discriminator 1
 4431 0042 0B4B     		ldr	r3, .L523
 4432 0044 40F20722 		movw	r2, #519
 4433              	.LVL540:
 4434 0048 0A49     		ldr	r1, .L523+4
 4435              	.LVL541:
 4436 004a 0B48     		ldr	r0, .L523+8
 4437              	.LVL542:
 4438 004c FFF7FEFF 		bl	printf
 4439              	.LVL543:
 4440 0050 6FF00F00 		mvn	r0, #15
 4441 0054 70BD     		pop	{r4, r5, r6, pc}
 4442              	.LVL544:
 4443              	.L522:
 529:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 4444              		.loc 1 529 0
 4445 0056 0121     		movs	r1, #1
 4446              	.LVL545:
 4447 0058 FFF7FEFF 		bl	tcp_close_shutdown
 4448              	.LVL546:
 4449 005c 70BD     		pop	{r4, r5, r6, pc}
 4450              	.LVL547:
 4451              	.L517:
 522:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 4452              		.loc 1 522 0
 4453 005e 6FF00A00 		mvn	r0, #10
 4454              	.LVL548:
 4455 0062 70BD     		pop	{r4, r5, r6, pc}
 4456              	.LVL549:
 4457              	.L518:
 551:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 4458              		.loc 1 551 0
 4459 0064 0020     		movs	r0, #0
 4460 0066 70BD     		pop	{r4, r5, r6, pc}
 4461              	.LVL550:
 4462              	.L519:
 548:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 4463              		.loc 1 548 0
 4464 0068 6FF00A00 		mvn	r0, #10
 552:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4465              		.loc 1 552 0
 4466 006c 70BD     		pop	{r4, r5, r6, pc}
 4467              	.LVL551:
 4468              	.L524:
 4469 006e 00BF     		.align	2
 4470              	.L523:
 4471 0070 00000000 		.word	.LC0
 4472 0074 00000000 		.word	.LC43
 4473 0078 54000000 		.word	.LC2
 4474              		.cfi_endproc
 4475              	.LFE167:
ARM GAS  /tmp/ccX62RBj.s 			page 130


 4477              		.section	.text.tcp_slowtmr,"ax",%progbits
 4478              		.align	1
 4479              		.global	tcp_slowtmr
 4480              		.syntax unified
 4481              		.thumb
 4482              		.thumb_func
 4483              		.fpu fpv5-d16
 4485              	tcp_slowtmr:
 4486              	.LFB179:
1193:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *prev;
 4487              		.loc 1 1193 0
 4488              		.cfi_startproc
 4489              		@ args = 0, pretend = 0, frame = 0
 4490              		@ frame_needed = 0, uses_anonymous_args = 0
 4491 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4492              	.LCFI65:
 4493              		.cfi_def_cfa_offset 24
 4494              		.cfi_offset 4, -24
 4495              		.cfi_offset 5, -20
 4496              		.cfi_offset 6, -16
 4497              		.cfi_offset 7, -12
 4498              		.cfi_offset 8, -8
 4499              		.cfi_offset 14, -4
 4500 0004 84B0     		sub	sp, sp, #16
 4501              	.LCFI66:
 4502              		.cfi_def_cfa_offset 40
 4503              	.LVL552:
1202:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ++tcp_timer_ctr;
 4504              		.loc 1 1202 0
 4505 0006 9D4A     		ldr	r2, .L611
 4506 0008 1368     		ldr	r3, [r2]
 4507 000a 0133     		adds	r3, r3, #1
 4508 000c 1360     		str	r3, [r2]
1203:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4509              		.loc 1 1203 0
 4510 000e 9C4A     		ldr	r2, .L611+4
 4511 0010 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4512 0012 0133     		adds	r3, r3, #1
 4513 0014 1370     		strb	r3, [r2]
 4514              	.L527:
 4515              	.LVL553:
 4516              	.L526:
1208:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb == NULL) {
 4517              		.loc 1 1208 0
 4518 0016 9B4B     		ldr	r3, .L611+8
 4519 0018 1C68     		ldr	r4, [r3]
 4520              	.LVL554:
1207:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = tcp_active_pcbs;
 4521              		.loc 1 1207 0
 4522 001a 0026     		movs	r6, #0
1212:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: processing active pcb\n"));
 4523              		.loc 1 1212 0
 4524 001c 19E0     		b	.L528
 4525              	.LVL555:
 4526              	.L592:
1214:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: active pcb->state != LISTEN\n", pcb->state != LISTEN);
 4527              		.loc 1 1214 0 discriminator 1
ARM GAS  /tmp/ccX62RBj.s 			page 131


 4528 001e 9A4B     		ldr	r3, .L611+12
 4529 0020 40F2BE42 		movw	r2, #1214
 4530 0024 9949     		ldr	r1, .L611+16
 4531 0026 9A48     		ldr	r0, .L611+20
 4532 0028 FFF7FEFF 		bl	printf
 4533              	.LVL556:
 4534 002c 17E0     		b	.L529
 4535              	.L593:
1215:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: active pcb->state != TIME-WAIT\n", pcb->state != TIME_WAIT);
 4536              		.loc 1 1215 0 discriminator 1
 4537 002e 964B     		ldr	r3, .L611+12
 4538 0030 40F2BF42 		movw	r2, #1215
 4539 0034 9749     		ldr	r1, .L611+24
 4540 0036 9648     		ldr	r0, .L611+20
 4541 0038 FFF7FEFF 		bl	printf
 4542              	.LVL557:
 4543 003c 12E0     		b	.L530
 4544              	.L594:
1216:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->last_timer == tcp_timer_ctr) {
 4545              		.loc 1 1216 0 discriminator 1
 4546 003e 924B     		ldr	r3, .L611+12
 4547 0040 4FF49862 		mov	r2, #1216
 4548 0044 9449     		ldr	r1, .L611+28
 4549 0046 9248     		ldr	r0, .L611+20
 4550 0048 FFF7FEFF 		bl	printf
 4551              	.LVL558:
 4552 004c 0DE0     		b	.L531
 4553              	.L595:
 4554              	.LVL559:
1219:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 4555              		.loc 1 1219 0
 4556 004e 2646     		mov	r6, r4
1220:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       continue;
 4557              		.loc 1 1220 0
 4558 0050 E468     		ldr	r4, [r4, #12]
 4559              	.LVL560:
 4560              	.L528:
1212:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: processing active pcb\n"));
 4561              		.loc 1 1212 0
 4562 0052 002C     		cmp	r4, #0
 4563 0054 00F0CD81 		beq	.L591
1214:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: active pcb->state != LISTEN\n", pcb->state != LISTEN);
 4564              		.loc 1 1214 0
 4565 0058 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 4566 005a 002B     		cmp	r3, #0
 4567 005c DFD0     		beq	.L592
 4568              	.L529:
1215:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: active pcb->state != TIME-WAIT\n", pcb->state != TIME_WAIT);
 4569              		.loc 1 1215 0
 4570 005e 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 4571 0060 012B     		cmp	r3, #1
 4572 0062 E4D0     		beq	.L593
 4573              	.L530:
1216:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->last_timer == tcp_timer_ctr) {
 4574              		.loc 1 1216 0
 4575 0064 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 4576 0066 0A2B     		cmp	r3, #10
ARM GAS  /tmp/ccX62RBj.s 			page 132


 4577 0068 E9D0     		beq	.L594
 4578              	.L531:
1217:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* skip this pcb, we have already processed it */
 4579              		.loc 1 1217 0
 4580 006a A27F     		ldrb	r2, [r4, #30]	@ zero_extendqisi2
 4581 006c 844B     		ldr	r3, .L611+4
 4582 006e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4583 0070 9A42     		cmp	r2, r3
 4584 0072 ECD0     		beq	.L595
1223:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4585              		.loc 1 1223 0
 4586 0074 A377     		strb	r3, [r4, #30]
 4587              	.LVL561:
1228:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
 4588              		.loc 1 1228 0
 4589 0076 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 4590 0078 022B     		cmp	r3, #2
 4591 007a 32D0     		beq	.L596
 4592              	.L534:
1231:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
 4593              		.loc 1 1231 0
 4594 007c 94F84230 		ldrb	r3, [r4, #66]	@ zero_extendqisi2
 4595 0080 0B2B     		cmp	r3, #11
 4596 0082 00F2AD80 		bhi	.L573
1235:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtimr: persist ticking with in-flight data", pcb->unacked == NULL);
 4597              		.loc 1 1235 0
 4598 0086 94F89950 		ldrb	r5, [r4, #153]	@ zero_extendqisi2
 4599 008a 002D     		cmp	r5, #0
 4600 008c 56D0     		beq	.L536
1236:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtimr: persist ticking with empty send buffer", pcb->unsent != NULL);
 4601              		.loc 1 1236 0
 4602 008e 236F     		ldr	r3, [r4, #112]
 4603 0090 33B1     		cbz	r3, .L537
1236:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtimr: persist ticking with empty send buffer", pcb->unsent != NULL);
 4604              		.loc 1 1236 0 is_stmt 0 discriminator 1
 4605 0092 7D4B     		ldr	r3, .L611+12
 4606 0094 40F2D442 		movw	r2, #1236
 4607 0098 8049     		ldr	r1, .L611+32
 4608 009a 7D48     		ldr	r0, .L611+20
 4609 009c FFF7FEFF 		bl	printf
 4610              	.LVL562:
 4611              	.L537:
1237:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb->persist_probe >= TCP_MAXRTX) {
 4612              		.loc 1 1237 0 is_stmt 1
 4613 00a0 E36E     		ldr	r3, [r4, #108]
 4614 00a2 23B3     		cbz	r3, .L597
 4615              	.L538:
1238:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ++pcb_remove; /* max probes reached */
 4616              		.loc 1 1238 0
 4617 00a4 94F89A30 		ldrb	r3, [r4, #154]	@ zero_extendqisi2
 4618 00a8 0B2B     		cmp	r3, #11
 4619 00aa 00F2B880 		bhi	.L574
 4620              	.LBB31:
1241:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (pcb->persist_cnt < backoff_cnt) {
 4621              		.loc 1 1241 0
 4622 00ae 94F89930 		ldrb	r3, [r4, #153]	@ zero_extendqisi2
 4623 00b2 013B     		subs	r3, r3, #1
ARM GAS  /tmp/ccX62RBj.s 			page 133


 4624 00b4 7A4A     		ldr	r2, .L611+36
 4625 00b6 D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 4626              	.LVL563:
1242:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->persist_cnt++;
 4627              		.loc 1 1242 0
 4628 00b8 94F89830 		ldrb	r3, [r4, #152]	@ zero_extendqisi2
 4629 00bc 9A42     		cmp	r2, r3
 4630 00be 02D9     		bls	.L539
1243:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
 4631              		.loc 1 1243 0
 4632 00c0 0133     		adds	r3, r3, #1
 4633 00c2 84F89830 		strb	r3, [r4, #152]
 4634              	.L539:
1245:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             int next_slot = 1; /* increment timer to next slot */
 4635              		.loc 1 1245 0
 4636 00c6 94F89830 		ldrb	r3, [r4, #152]	@ zero_extendqisi2
 4637 00ca 9A42     		cmp	r2, r3
 4638 00cc 00F2A980 		bhi	.L575
 4639              	.LVL564:
 4640              	.LBB32:
1248:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               if (tcp_zero_window_probe(pcb) != ERR_OK) {
 4641              		.loc 1 1248 0
 4642 00d0 B4F86010 		ldrh	r1, [r4, #96]
 4643 00d4 99B9     		cbnz	r1, .L540
1249:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 next_slot = 0; /* try probe again with current slot */
 4644              		.loc 1 1249 0
 4645 00d6 2046     		mov	r0, r4
 4646 00d8 FFF7FEFF 		bl	tcp_zero_window_probe
 4647              	.LVL565:
 4648 00dc 50BB     		cbnz	r0, .L576
1246:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* If snd_wnd is zero, send 1 byte probes */
 4649              		.loc 1 1246 0
 4650 00de 0123     		movs	r3, #1
 4651 00e0 12E0     		b	.L541
 4652              	.LVL566:
 4653              	.L596:
 4654              	.LBE32:
 4655              	.LBE31:
1228:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
 4656              		.loc 1 1228 0 discriminator 1
 4657 00e2 94F84230 		ldrb	r3, [r4, #66]	@ zero_extendqisi2
 4658 00e6 052B     		cmp	r3, #5
 4659 00e8 C8D9     		bls	.L534
1229:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: max SYN retries reached\n"));
 4660              		.loc 1 1229 0
 4661 00ea 0125     		movs	r5, #1
 4662 00ec 79E0     		b	.L535
 4663              	.L597:
1237:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb->persist_probe >= TCP_MAXRTX) {
 4664              		.loc 1 1237 0 discriminator 1
 4665 00ee 664B     		ldr	r3, .L611+12
 4666 00f0 40F2D542 		movw	r2, #1237
 4667 00f4 6B49     		ldr	r1, .L611+40
 4668 00f6 6648     		ldr	r0, .L611+20
 4669 00f8 FFF7FEFF 		bl	printf
 4670              	.LVL567:
 4671 00fc D2E7     		b	.L538
ARM GAS  /tmp/ccX62RBj.s 			page 134


 4672              	.LVL568:
 4673              	.L540:
 4674              	.LBB35:
 4675              	.LBB33:
1254:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 if (tcp_output(pcb) == ERR_OK) {
 4676              		.loc 1 1254 0
 4677 00fe 2046     		mov	r0, r4
 4678 0100 FFF7FEFF 		bl	tcp_split_unsent_seg
 4679              	.LVL569:
 4680 0104 80B1     		cbz	r0, .L598
1246:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* If snd_wnd is zero, send 1 byte probes */
 4681              		.loc 1 1246 0
 4682 0106 0123     		movs	r3, #1
 4683              	.L541:
 4684              	.LVL570:
1261:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->persist_cnt = 0;
 4685              		.loc 1 1261 0
 4686 0108 002B     		cmp	r3, #0
 4687 010a 00F08C80 		beq	.L579
1262:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               if (pcb->persist_backoff < sizeof(tcp_persist_backoff)) {
 4688              		.loc 1 1262 0
 4689 010e 0023     		movs	r3, #0
 4690              	.LVL571:
 4691 0110 84F89830 		strb	r3, [r4, #152]
1263:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 pcb->persist_backoff++;
 4692              		.loc 1 1263 0
 4693 0114 94F89930 		ldrb	r3, [r4, #153]	@ zero_extendqisi2
 4694 0118 062B     		cmp	r3, #6
 4695 011a 00F28680 		bhi	.L580
1264:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               }
 4696              		.loc 1 1264 0
 4697 011e 0133     		adds	r3, r3, #1
 4698 0120 84F89930 		strb	r3, [r4, #153]
 4699              	.LBE33:
 4700              	.LBE35:
1225:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb_reset = 0;
 4701              		.loc 1 1225 0
 4702 0124 0025     		movs	r5, #0
 4703 0126 5CE0     		b	.L535
 4704              	.LVL572:
 4705              	.L598:
 4706              	.LBB36:
 4707              	.LBB34:
1255:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                   /* sending will cancel persist timer, else retry with current slot */
 4708              		.loc 1 1255 0
 4709 0128 2046     		mov	r0, r4
 4710 012a FFF7FEFF 		bl	tcp_output
 4711              	.LVL573:
 4712 012e 18B1     		cbz	r0, .L578
1246:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* If snd_wnd is zero, send 1 byte probes */
 4713              		.loc 1 1246 0
 4714 0130 0123     		movs	r3, #1
 4715 0132 E9E7     		b	.L541
 4716              	.L576:
1250:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               }
 4717              		.loc 1 1250 0
 4718 0134 0023     		movs	r3, #0
ARM GAS  /tmp/ccX62RBj.s 			page 135


 4719 0136 E7E7     		b	.L541
 4720              	.L578:
1257:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 }
 4721              		.loc 1 1257 0
 4722 0138 0023     		movs	r3, #0
 4723 013a E5E7     		b	.L541
 4724              	.LVL574:
 4725              	.L536:
 4726              	.LBE34:
 4727              	.LBE36:
1271:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ++pcb->rtime;
 4728              		.loc 1 1271 0
 4729 013c B4F93030 		ldrsh	r3, [r4, #48]
 4730 0140 47F6FF71 		movw	r1, #32767
 4731 0144 DA43     		mvns	r2, r3
 4732 0146 D20F     		lsrs	r2, r2, #31
 4733 0148 8B42     		cmp	r3, r1
 4734 014a 08BF     		it	eq
 4735 014c 0022     		moveq	r2, #0
 4736 014e 0AB1     		cbz	r2, .L542
1272:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 4737              		.loc 1 1272 0
 4738 0150 0133     		adds	r3, r3, #1
 4739 0152 2386     		strh	r3, [r4, #48]	@ movhi
 4740              	.L542:
1275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Time for a retransmission. */
 4741              		.loc 1 1275 0
 4742 0154 B4F93020 		ldrsh	r2, [r4, #48]
 4743 0158 B4F94030 		ldrsh	r3, [r4, #64]
 4744 015c 9A42     		cmp	r2, r3
 4745 015e 40DB     		blt	.L535
1283:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* Double retransmission time-out unless we are trying to
 4746              		.loc 1 1283 0
 4747 0160 2046     		mov	r0, r4
 4748 0162 FFF7FEFF 		bl	tcp_rexmit_rto_prepare
 4749              	.LVL575:
 4750 0166 20B1     		cbz	r0, .L543
1283:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* Double retransmission time-out unless we are trying to
 4751              		.loc 1 1283 0 is_stmt 0 discriminator 1
 4752 0168 236F     		ldr	r3, [r4, #112]
 4753 016a 002B     		cmp	r3, #0
 4754 016c 39D1     		bne	.L535
1283:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* Double retransmission time-out unless we are trying to
 4755              		.loc 1 1283 0 discriminator 2
 4756 016e E36E     		ldr	r3, [r4, #108]
 4757 0170 BBB3     		cbz	r3, .L535
 4758              	.L543:
1286:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               u8_t backoff_idx = LWIP_MIN(pcb->nrtx, sizeof(tcp_backoff) - 1);
 4759              		.loc 1 1286 0 is_stmt 1
 4760 0172 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 4761 0174 022B     		cmp	r3, #2
 4762 0176 17D0     		beq	.L544
 4763              	.LBB37:
1287:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               int calc_rto = ((pcb->sa >> 3) + pcb->sv) << tcp_backoff[backoff_idx];
 4764              		.loc 1 1287 0
 4765 0178 94F84220 		ldrb	r2, [r4, #66]	@ zero_extendqisi2
 4766 017c 0C2A     		cmp	r2, #12
ARM GAS  /tmp/ccX62RBj.s 			page 136


 4767 017e 28BF     		it	cs
 4768 0180 0C22     		movcs	r2, #12
 4769              	.LVL576:
1288:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->rto = (s16_t)LWIP_MIN(calc_rto, 0x7FFF);
 4770              		.loc 1 1288 0
 4771 0182 B4F93C10 		ldrsh	r1, [r4, #60]
 4772 0186 B4F93E30 		ldrsh	r3, [r4, #62]
 4773 018a 03EBE103 		add	r3, r3, r1, asr #3
 4774 018e 4649     		ldr	r1, .L611+44
 4775 0190 8A5C     		ldrb	r2, [r1, r2]	@ zero_extendqisi2
 4776              	.LVL577:
 4777 0192 9340     		lsls	r3, r3, r2
 4778              	.LVL578:
1289:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
 4779              		.loc 1 1289 0
 4780 0194 47F6FE72 		movw	r2, #32766
 4781 0198 9342     		cmp	r3, r2
 4782              	.LVL579:
 4783 019a 01DC     		bgt	.L581
1289:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
 4784              		.loc 1 1289 0 is_stmt 0 discriminator 1
 4785 019c 1BB2     		sxth	r3, r3
 4786              	.LVL580:
 4787 019e 01E0     		b	.L545
 4788              	.LVL581:
 4789              	.L581:
1289:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
 4790              		.loc 1 1289 0
 4791 01a0 47F6FF73 		movw	r3, #32767
 4792              	.LVL582:
 4793              	.L545:
1289:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
 4794              		.loc 1 1289 0 discriminator 4
 4795 01a4 A4F84030 		strh	r3, [r4, #64]	@ movhi
 4796              	.LVL583:
 4797              	.L544:
 4798              	.LBE37:
1293:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4799              		.loc 1 1293 0 is_stmt 1
 4800 01a8 0023     		movs	r3, #0
 4801 01aa 2386     		strh	r3, [r4, #48]	@ movhi
1296:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->ssthresh = eff_wnd >> 1;
 4802              		.loc 1 1296 0
 4803 01ac B4F86030 		ldrh	r3, [r4, #96]
 4804 01b0 B4F84820 		ldrh	r2, [r4, #72]
 4805 01b4 9342     		cmp	r3, r2
 4806 01b6 28BF     		it	cs
 4807 01b8 1346     		movcs	r3, r2
 4808              	.LVL584:
1297:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             if (pcb->ssthresh < (tcpwnd_size_t)(pcb->mss << 1)) {
 4809              		.loc 1 1297 0
 4810 01ba 5B08     		lsrs	r3, r3, #1
 4811              	.LVL585:
 4812 01bc A4F84A30 		strh	r3, [r4, #74]	@ movhi
1298:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->ssthresh = (tcpwnd_size_t)(pcb->mss << 1);
 4813              		.loc 1 1298 0
 4814 01c0 618E     		ldrh	r1, [r4, #50]
ARM GAS  /tmp/ccX62RBj.s 			page 137


 4815 01c2 4A00     		lsls	r2, r1, #1
 4816              	.LVL586:
 4817 01c4 92B2     		uxth	r2, r2
 4818 01c6 9342     		cmp	r3, r2
 4819              	.LVL587:
 4820 01c8 01D2     		bcs	.L546
1299:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
 4821              		.loc 1 1299 0
 4822 01ca A4F84A20 		strh	r2, [r4, #74]	@ movhi
 4823              	.L546:
1301:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_slowtmr: cwnd %"TCPWNDSIZE_F
 4824              		.loc 1 1301 0
 4825 01ce A4F84810 		strh	r1, [r4, #72]	@ movhi
 4826              	.LVL588:
1305:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4827              		.loc 1 1305 0
 4828 01d2 0023     		movs	r3, #0
 4829 01d4 A4F86A30 		strh	r3, [r4, #106]	@ movhi
1309:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
 4830              		.loc 1 1309 0
 4831 01d8 2046     		mov	r0, r4
 4832 01da FFF7FEFF 		bl	tcp_rexmit_rto_commit
 4833              	.LVL589:
 4834 01de 00E0     		b	.L535
 4835              	.L573:
1232:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: max DATA retries reached\n"));
 4836              		.loc 1 1232 0
 4837 01e0 0125     		movs	r5, #1
 4838              	.L535:
 4839              	.LVL590:
1315:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* If this PCB is in FIN_WAIT_2 because of SHUT_WR don't let it time out. */
 4840              		.loc 1 1315 0
 4841 01e2 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 4842 01e4 062B     		cmp	r3, #6
 4843 01e6 22D0     		beq	.L599
 4844              	.L547:
1329:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ((pcb->state == ESTABLISHED) ||
 4845              		.loc 1 1329 0
 4846 01e8 627A     		ldrb	r2, [r4, #9]	@ zero_extendqisi2
 4847 01ea 12F0080F 		tst	r2, #8
 4848 01ee 63D0     		beq	.L582
1329:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ((pcb->state == ESTABLISHED) ||
 4849              		.loc 1 1329 0 is_stmt 0 discriminator 1
 4850 01f0 072B     		cmp	r3, #7
 4851 01f2 18BF     		it	ne
 4852 01f4 042B     		cmpne	r3, #4
 4853 01f6 40F09180 		bne	.L583
1332:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           (pcb->keep_idle + TCP_KEEP_DUR(pcb)) / TCP_SLOW_INTERVAL) {
 4854              		.loc 1 1332 0 is_stmt 1
 4855 01fa 204B     		ldr	r3, .L611
 4856 01fc 1A68     		ldr	r2, [r3]
 4857 01fe 236A     		ldr	r3, [r4, #32]
 4858 0200 D21A     		subs	r2, r2, r3
1333:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: KEEPALIVE timeout. Aborting connection to "));
 4859              		.loc 1 1333 0
 4860 0202 D4F89410 		ldr	r1, [r4, #148]
 4861 0206 294B     		ldr	r3, .L611+48
ARM GAS  /tmp/ccX62RBj.s 			page 138


 4862 0208 0B44     		add	r3, r3, r1
 4863 020a 2948     		ldr	r0, .L611+52
 4864 020c A0FB0303 		umull	r0, r3, r0, r3
1332:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           (pcb->keep_idle + TCP_KEEP_DUR(pcb)) / TCP_SLOW_INTERVAL) {
 4865              		.loc 1 1332 0
 4866 0210 B2EB531F 		cmp	r2, r3, lsr #5
 4867 0214 18D9     		bls	.L549
1338:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ++pcb_reset;
 4868              		.loc 1 1338 0
 4869 0216 0135     		adds	r5, r5, #1
 4870              	.LVL591:
 4871 0218 EDB2     		uxtb	r5, r5
 4872              	.LVL592:
1339:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else if ((u32_t)(tcp_ticks - pcb->tmr) >
 4873              		.loc 1 1339 0
 4874 021a 0127     		movs	r7, #1
 4875 021c 4DE0     		b	.L548
 4876              	.LVL593:
 4877              	.L574:
1239:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         } else {
 4878              		.loc 1 1239 0
 4879 021e 0125     		movs	r5, #1
 4880 0220 DFE7     		b	.L535
 4881              	.LVL594:
 4882              	.L575:
1225:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb_reset = 0;
 4883              		.loc 1 1225 0
 4884 0222 0025     		movs	r5, #0
 4885 0224 DDE7     		b	.L535
 4886              	.LVL595:
 4887              	.L579:
 4888 0226 0025     		movs	r5, #0
 4889 0228 DBE7     		b	.L535
 4890              	.LVL596:
 4891              	.L580:
 4892 022a 0025     		movs	r5, #0
 4893 022c D9E7     		b	.L535
 4894              	.LVL597:
 4895              	.L599:
1317:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* PCB was fully closed (either through close() or SHUT_RDWR):
 4896              		.loc 1 1317 0
 4897 022e 628B     		ldrh	r2, [r4, #26]
 4898 0230 12F0100F 		tst	r2, #16
 4899 0234 D8D0     		beq	.L547
1320:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             TCP_FIN_WAIT_TIMEOUT / TCP_SLOW_INTERVAL) {
 4900              		.loc 1 1320 0
 4901 0236 216A     		ldr	r1, [r4, #32]
 4902 0238 104A     		ldr	r2, .L611
 4903 023a 1268     		ldr	r2, [r2]
 4904 023c 521A     		subs	r2, r2, r1
 4905 023e 282A     		cmp	r2, #40
 4906 0240 D2D9     		bls	.L547
1322:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: removing pcb stuck in FIN-WAIT-2\n"));
 4907              		.loc 1 1322 0
 4908 0242 0135     		adds	r5, r5, #1
 4909              	.LVL598:
 4910 0244 EDB2     		uxtb	r5, r5
ARM GAS  /tmp/ccX62RBj.s 			page 139


 4911              	.LVL599:
 4912 0246 CFE7     		b	.L547
 4913              	.L549:
1341:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                  / TCP_SLOW_INTERVAL) {
 4914              		.loc 1 1341 0
 4915 0248 94F89B30 		ldrb	r3, [r4, #155]	@ zero_extendqisi2
 4916 024c 1948     		ldr	r0, .L611+56
 4917 024e 00FB0313 		mla	r3, r0, r3, r1
1342:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         err = tcp_keepalive(pcb);
 4918              		.loc 1 1342 0
 4919 0252 1749     		ldr	r1, .L611+52
 4920 0254 A1FB0313 		umull	r1, r3, r1, r3
1340:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                  (pcb->keep_idle + pcb->keep_cnt_sent * TCP_KEEP_INTVL(pcb))
 4921              		.loc 1 1340 0
 4922 0258 B2EB531F 		cmp	r2, r3, lsr #5
 4923 025c 01D8     		bhi	.L600
1226:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4924              		.loc 1 1226 0
 4925 025e 0027     		movs	r7, #0
 4926 0260 2BE0     		b	.L548
 4927              	.L600:
1343:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_OK) {
 4928              		.loc 1 1343 0
 4929 0262 2046     		mov	r0, r4
 4930 0264 FFF7FEFF 		bl	tcp_keepalive
 4931              	.LVL600:
1344:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb->keep_cnt_sent++;
 4932              		.loc 1 1344 0
 4933 0268 0028     		cmp	r0, #0
 4934 026a 59D1     		bne	.L585
1345:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 4935              		.loc 1 1345 0
 4936 026c 94F89B30 		ldrb	r3, [r4, #155]	@ zero_extendqisi2
 4937 0270 0133     		adds	r3, r3, #1
 4938 0272 84F89B30 		strb	r3, [r4, #155]
1226:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4939              		.loc 1 1226 0
 4940 0276 0027     		movs	r7, #0
 4941 0278 1FE0     		b	.L548
 4942              	.L612:
 4943 027a 00BF     		.align	2
 4944              	.L611:
 4945 027c 00000000 		.word	tcp_ticks
 4946 0280 00000000 		.word	.LANCHOR4
 4947 0284 00000000 		.word	tcp_active_pcbs
 4948 0288 00000000 		.word	.LC0
 4949 028c 00000000 		.word	.LC44
 4950 0290 54000000 		.word	.LC2
 4951 0294 2C000000 		.word	.LC45
 4952 0298 58000000 		.word	.LC46
 4953 029c 88000000 		.word	.LC47
 4954 02a0 00000000 		.word	.LANCHOR5
 4955 02a4 BC000000 		.word	.LC48
 4956 02a8 00000000 		.word	.LANCHOR6
 4957 02ac B84C0A00 		.word	675000
 4958 02b0 D34D6210 		.word	274877907
 4959 02b4 F8240100 		.word	75000
ARM GAS  /tmp/ccX62RBj.s 			page 140


 4960              	.LVL601:
 4961              	.L582:
 4962 02b8 0027     		movs	r7, #0
 4963              	.LVL602:
 4964              	.L548:
1354:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         (tcp_ticks - pcb->tmr >= (u32_t)pcb->rto * TCP_OOSEQ_TIMEOUT)) {
 4965              		.loc 1 1354 0
 4966 02ba 636F     		ldr	r3, [r4, #116]
 4967 02bc 53B1     		cbz	r3, .L550
1355:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_slowtmr: dropping OOSEQ queued data\n"));
 4968              		.loc 1 1355 0 discriminator 1
 4969 02be 236A     		ldr	r3, [r4, #32]
 4970 02c0 6E4A     		ldr	r2, .L613
 4971 02c2 1268     		ldr	r2, [r2]
 4972 02c4 D21A     		subs	r2, r2, r3
 4973 02c6 B4F94030 		ldrsh	r3, [r4, #64]
 4974 02ca 03EB4303 		add	r3, r3, r3, lsl #1
 4975 02ce 5900     		lsls	r1, r3, #1
1354:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         (tcp_ticks - pcb->tmr >= (u32_t)pcb->rto * TCP_OOSEQ_TIMEOUT)) {
 4976              		.loc 1 1354 0 discriminator 1
 4977 02d0 8A42     		cmp	r2, r1
 4978 02d2 27D2     		bcs	.L601
 4979              	.L550:
1362:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) >
 4980              		.loc 1 1362 0
 4981 02d4 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 4982 02d6 032B     		cmp	r3, #3
 4983 02d8 28D0     		beq	.L602
 4984              	.L551:
1371:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) > 2 * TCP_MSL / TCP_SLOW_INTERVAL) {
 4985              		.loc 1 1371 0
 4986 02da 092B     		cmp	r3, #9
 4987 02dc 2FD0     		beq	.L603
 4988              	.L552:
1379:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *pcb2;
 4989              		.loc 1 1379 0
 4990 02de 002D     		cmp	r5, #0
 4991 02e0 36D1     		bne	.L604
 4992              	.LVL603:
1416:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 4993              		.loc 1 1416 0
 4994 02e2 E568     		ldr	r5, [r4, #12]
 4995              	.LVL604:
1419:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (prev->polltmr >= prev->pollinterval) {
 4996              		.loc 1 1419 0
 4997 02e4 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 4998 02e6 0133     		adds	r3, r3, #1
 4999 02e8 DBB2     		uxtb	r3, r3
 5000 02ea 2377     		strb	r3, [r4, #28]
1420:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         prev->polltmr = 0;
 5001              		.loc 1 1420 0
 5002 02ec 627F     		ldrb	r2, [r4, #29]	@ zero_extendqisi2
 5003 02ee 9342     		cmp	r3, r2
 5004 02f0 7CD3     		bcc	.L586
1421:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: polling application\n"));
 5005              		.loc 1 1421 0
 5006 02f2 0023     		movs	r3, #0
ARM GAS  /tmp/ccX62RBj.s 			page 141


 5007 02f4 2377     		strb	r3, [r4, #28]
1423:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         TCP_EVENT_POLL(prev, err);
 5008              		.loc 1 1423 0
 5009 02f6 624A     		ldr	r2, .L613+4
 5010 02f8 1370     		strb	r3, [r2]
1424:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (tcp_active_pcbs_changed) {
 5011              		.loc 1 1424 0
 5012 02fa D4F88C30 		ldr	r3, [r4, #140]
 5013 02fe 002B     		cmp	r3, #0
 5014 0300 6CD0     		beq	.L587
1424:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (tcp_active_pcbs_changed) {
 5015              		.loc 1 1424 0 is_stmt 0 discriminator 1
 5016 0302 2146     		mov	r1, r4
 5017 0304 2069     		ldr	r0, [r4, #16]
 5018 0306 9847     		blx	r3
 5019              	.LVL605:
 5020              	.L560:
1425:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           goto tcp_slowtmr_start;
 5021              		.loc 1 1425 0 is_stmt 1
 5022 0308 5D4B     		ldr	r3, .L613+4
 5023 030a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5024 030c 002B     		cmp	r3, #0
 5025 030e 7FF482AE 		bne	.L526
1429:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           tcp_output(prev);
 5026              		.loc 1 1429 0
 5027 0312 0028     		cmp	r0, #0
 5028 0314 64D0     		beq	.L605
1415:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 5029              		.loc 1 1415 0
 5030 0316 2646     		mov	r6, r4
1416:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 5031              		.loc 1 1416 0
 5032 0318 2C46     		mov	r4, r5
 5033              	.LVL606:
 5034 031a 9AE6     		b	.L528
 5035              	.LVL607:
 5036              	.L583:
1226:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 5037              		.loc 1 1226 0
 5038 031c 0027     		movs	r7, #0
 5039 031e CCE7     		b	.L548
 5040              	.LVL608:
 5041              	.L585:
 5042 0320 0027     		movs	r7, #0
 5043 0322 CAE7     		b	.L548
 5044              	.LVL609:
 5045              	.L601:
1357:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 5046              		.loc 1 1357 0
 5047 0324 2046     		mov	r0, r4
 5048 0326 FFF7FEFF 		bl	tcp_free_ooseq
 5049              	.LVL610:
 5050 032a D3E7     		b	.L550
 5051              	.L602:
1363:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           TCP_SYN_RCVD_TIMEOUT / TCP_SLOW_INTERVAL) {
 5052              		.loc 1 1363 0
 5053 032c 216A     		ldr	r1, [r4, #32]
ARM GAS  /tmp/ccX62RBj.s 			page 142


 5054 032e 534A     		ldr	r2, .L613
 5055 0330 1268     		ldr	r2, [r2]
 5056 0332 521A     		subs	r2, r2, r1
 5057 0334 282A     		cmp	r2, #40
 5058 0336 D0D9     		bls	.L551
1365:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: removing pcb stuck in SYN-RCVD\n"));
 5059              		.loc 1 1365 0
 5060 0338 0135     		adds	r5, r5, #1
 5061              	.LVL611:
 5062 033a EDB2     		uxtb	r5, r5
 5063              	.LVL612:
 5064 033c CDE7     		b	.L551
 5065              	.L603:
1372:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ++pcb_remove;
 5066              		.loc 1 1372 0
 5067 033e 226A     		ldr	r2, [r4, #32]
 5068 0340 4E4B     		ldr	r3, .L613
 5069 0342 1B68     		ldr	r3, [r3]
 5070 0344 9B1A     		subs	r3, r3, r2
 5071 0346 F02B     		cmp	r3, #240
 5072 0348 C9D9     		bls	.L552
1373:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: removing pcb stuck in LAST-ACK\n"));
 5073              		.loc 1 1373 0
 5074 034a 0135     		adds	r5, r5, #1
 5075              	.LVL613:
 5076 034c EDB2     		uxtb	r5, r5
 5077              	.LVL614:
 5078 034e C6E7     		b	.L552
 5079              	.L604:
 5080              	.LBB38:
1382:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 5081              		.loc 1 1382 0
 5082 0350 D4F89050 		ldr	r5, [r4, #144]
 5083              	.LVL615:
1386:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Remove PCB from tcp_active_pcbs list. */
 5084              		.loc 1 1386 0
 5085 0354 2046     		mov	r0, r4
 5086 0356 FFF7FEFF 		bl	tcp_pcb_purge
 5087              	.LVL616:
1388:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtmr: middle tcp != tcp_active_pcbs", pcb != tcp_active_pcbs);
 5088              		.loc 1 1388 0
 5089 035a 1EB3     		cbz	r6, .L554
1389:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         prev->next = pcb->next;
 5090              		.loc 1 1389 0
 5091 035c 494B     		ldr	r3, .L613+8
 5092 035e 1B68     		ldr	r3, [r3]
 5093 0360 9C42     		cmp	r4, r3
 5094 0362 17D0     		beq	.L606
 5095              	.L555:
1390:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
 5096              		.loc 1 1390 0
 5097 0364 E368     		ldr	r3, [r4, #12]
 5098 0366 F360     		str	r3, [r6, #12]
 5099              	.L556:
1397:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_rst(pcb, pcb->snd_nxt, pcb->rcv_nxt, &pcb->local_ip, &pcb->remote_ip,
 5100              		.loc 1 1397 0
 5101 0368 5FBB     		cbnz	r7, .L607
ARM GAS  /tmp/ccX62RBj.s 			page 143


 5102              	.L558:
1402:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       last_state = pcb->state;
 5103              		.loc 1 1402 0
 5104 036a D4F81080 		ldr	r8, [r4, #16]
 5105              	.LVL617:
1405:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free(pcb2);
 5106              		.loc 1 1405 0
 5107 036e E768     		ldr	r7, [r4, #12]
 5108              	.LVL618:
1406:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 5109              		.loc 1 1406 0
 5110 0370 2046     		mov	r0, r4
 5111 0372 FFF7FEFF 		bl	tcp_free
 5112              	.LVL619:
1408:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_EVENT_ERR(last_state, err_fn, err_arg, ERR_ABRT);
 5113              		.loc 1 1408 0
 5114 0376 0022     		movs	r2, #0
 5115 0378 414B     		ldr	r3, .L613+4
 5116 037a 1A70     		strb	r2, [r3]
1409:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (tcp_active_pcbs_changed) {
 5117              		.loc 1 1409 0
 5118 037c 1DB1     		cbz	r5, .L559
1409:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (tcp_active_pcbs_changed) {
 5119              		.loc 1 1409 0 is_stmt 0 discriminator 1
 5120 037e 6FF00C01 		mvn	r1, #12
 5121 0382 4046     		mov	r0, r8
 5122 0384 A847     		blx	r5
 5123              	.LVL620:
 5124              	.L559:
1410:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         goto tcp_slowtmr_start;
 5125              		.loc 1 1410 0 is_stmt 1
 5126 0386 3E4B     		ldr	r3, .L613+4
 5127 0388 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5128 038a 002B     		cmp	r3, #0
 5129 038c 7FF443AE 		bne	.L526
1405:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free(pcb2);
 5130              		.loc 1 1405 0
 5131 0390 3C46     		mov	r4, r7
 5132              	.LVL621:
 5133 0392 5EE6     		b	.L528
 5134              	.LVL622:
 5135              	.L606:
1389:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         prev->next = pcb->next;
 5136              		.loc 1 1389 0 discriminator 1
 5137 0394 3C4B     		ldr	r3, .L613+12
 5138 0396 40F26D52 		movw	r2, #1389
 5139 039a 3C49     		ldr	r1, .L613+16
 5140 039c 3C48     		ldr	r0, .L613+20
 5141 039e FFF7FEFF 		bl	printf
 5142              	.LVL623:
 5143 03a2 DFE7     		b	.L555
 5144              	.L554:
1393:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_active_pcbs = pcb->next;
 5145              		.loc 1 1393 0
 5146 03a4 374B     		ldr	r3, .L613+8
 5147 03a6 1B68     		ldr	r3, [r3]
 5148 03a8 9C42     		cmp	r4, r3
ARM GAS  /tmp/ccX62RBj.s 			page 144


 5149 03aa 06D0     		beq	.L557
1393:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_active_pcbs = pcb->next;
 5150              		.loc 1 1393 0 is_stmt 0 discriminator 1
 5151 03ac 364B     		ldr	r3, .L613+12
 5152 03ae 40F27152 		movw	r2, #1393
 5153 03b2 3849     		ldr	r1, .L613+24
 5154 03b4 3648     		ldr	r0, .L613+20
 5155 03b6 FFF7FEFF 		bl	printf
 5156              	.LVL624:
 5157              	.L557:
1394:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 5158              		.loc 1 1394 0 is_stmt 1
 5159 03ba E268     		ldr	r2, [r4, #12]
 5160 03bc 314B     		ldr	r3, .L613+8
 5161 03be 1A60     		str	r2, [r3]
 5162 03c0 D2E7     		b	.L556
 5163              	.L607:
1398:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 pcb->local_port, pcb->remote_port);
 5164              		.loc 1 1398 0
 5165 03c2 231D     		adds	r3, r4, #4
 5166 03c4 626A     		ldr	r2, [r4, #36]
 5167 03c6 216D     		ldr	r1, [r4, #80]
 5168 03c8 208B     		ldrh	r0, [r4, #24]
 5169 03ca 0290     		str	r0, [sp, #8]
 5170 03cc E08A     		ldrh	r0, [r4, #22]
 5171 03ce 0190     		str	r0, [sp, #4]
 5172 03d0 0093     		str	r3, [sp]
 5173 03d2 2346     		mov	r3, r4
 5174 03d4 2046     		mov	r0, r4
 5175 03d6 FFF7FEFF 		bl	tcp_rst
 5176              	.LVL625:
 5177 03da C6E7     		b	.L558
 5178              	.LVL626:
 5179              	.L587:
 5180              	.LBE38:
1424:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (tcp_active_pcbs_changed) {
 5181              		.loc 1 1424 0
 5182 03dc 0020     		movs	r0, #0
 5183 03de 93E7     		b	.L560
 5184              	.LVL627:
 5185              	.L605:
1430:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 5186              		.loc 1 1430 0
 5187 03e0 2046     		mov	r0, r4
 5188              	.LVL628:
 5189 03e2 FFF7FEFF 		bl	tcp_output
 5190              	.LVL629:
1415:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 5191              		.loc 1 1415 0
 5192 03e6 2646     		mov	r6, r4
1416:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 5193              		.loc 1 1416 0
 5194 03e8 2C46     		mov	r4, r5
 5195              	.LVL630:
 5196 03ea 32E6     		b	.L528
 5197              	.LVL631:
 5198              	.L586:
ARM GAS  /tmp/ccX62RBj.s 			page 145


1415:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 5199              		.loc 1 1415 0
 5200 03ec 2646     		mov	r6, r4
1416:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 5201              		.loc 1 1416 0
 5202 03ee 2C46     		mov	r4, r5
 5203              	.LVL632:
 5204 03f0 2FE6     		b	.L528
 5205              	.LVL633:
 5206              	.L591:
1439:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb != NULL) {
 5207              		.loc 1 1439 0
 5208 03f2 294B     		ldr	r3, .L613+28
 5209 03f4 1D68     		ldr	r5, [r3]
 5210              	.LVL634:
1440:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 5211              		.loc 1 1440 0
 5212 03f6 03E0     		b	.L562
 5213              	.LVL635:
 5214              	.L589:
1446:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 5215              		.loc 1 1446 0
 5216 03f8 0123     		movs	r3, #1
 5217              	.L564:
 5218              	.LVL636:
1450:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *pcb2;
 5219              		.loc 1 1450 0
 5220 03fa ABB9     		cbnz	r3, .L608
 5221              	.LVL637:
1466:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 5222              		.loc 1 1466 0
 5223 03fc 2C46     		mov	r4, r5
1467:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 5224              		.loc 1 1467 0
 5225 03fe ED68     		ldr	r5, [r5, #12]
 5226              	.LVL638:
 5227              	.L562:
1440:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 5228              		.loc 1 1440 0
 5229 0400 002D     		cmp	r5, #0
 5230 0402 38D0     		beq	.L609
1441:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb_remove = 0;
 5231              		.loc 1 1441 0
 5232 0404 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 5233 0406 0A2B     		cmp	r3, #10
 5234 0408 06D0     		beq	.L563
1441:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb_remove = 0;
 5235              		.loc 1 1441 0 is_stmt 0 discriminator 1
 5236 040a 1F4B     		ldr	r3, .L613+12
 5237 040c 40F2A152 		movw	r2, #1441
 5238 0410 2249     		ldr	r1, .L613+32
 5239 0412 1F48     		ldr	r0, .L613+20
 5240 0414 FFF7FEFF 		bl	printf
 5241              	.LVL639:
 5242              	.L563:
1445:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
 5243              		.loc 1 1445 0 is_stmt 1
ARM GAS  /tmp/ccX62RBj.s 			page 146


 5244 0418 2A6A     		ldr	r2, [r5, #32]
 5245 041a 184B     		ldr	r3, .L613
 5246 041c 1B68     		ldr	r3, [r3]
 5247 041e 9B1A     		subs	r3, r3, r2
 5248 0420 F02B     		cmp	r3, #240
 5249 0422 E9D8     		bhi	.L589
1442:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 5250              		.loc 1 1442 0
 5251 0424 0023     		movs	r3, #0
 5252 0426 E8E7     		b	.L564
 5253              	.LVL640:
 5254              	.L608:
 5255              	.LBB39:
1452:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Remove PCB from tcp_tw_pcbs list. */
 5256              		.loc 1 1452 0
 5257 0428 2846     		mov	r0, r5
 5258 042a FFF7FEFF 		bl	tcp_pcb_purge
 5259              	.LVL641:
1454:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtmr: middle tcp != tcp_tw_pcbs", pcb != tcp_tw_pcbs);
 5260              		.loc 1 1454 0
 5261 042e 9CB1     		cbz	r4, .L566
1455:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         prev->next = pcb->next;
 5262              		.loc 1 1455 0
 5263 0430 194B     		ldr	r3, .L613+28
 5264 0432 1B68     		ldr	r3, [r3]
 5265 0434 9D42     		cmp	r5, r3
 5266 0436 07D0     		beq	.L610
 5267              	.L567:
1456:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
 5268              		.loc 1 1456 0
 5269 0438 EB68     		ldr	r3, [r5, #12]
 5270 043a E360     		str	r3, [r4, #12]
 5271              	.L568:
 5272              	.LVL642:
1463:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free(pcb2);
 5273              		.loc 1 1463 0
 5274 043c EE68     		ldr	r6, [r5, #12]
 5275              	.LVL643:
1464:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
 5276              		.loc 1 1464 0
 5277 043e 2846     		mov	r0, r5
 5278 0440 FFF7FEFF 		bl	tcp_free
 5279              	.LVL644:
1463:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free(pcb2);
 5280              		.loc 1 1463 0
 5281 0444 3546     		mov	r5, r6
 5282              	.LVL645:
 5283              	.LBE39:
 5284 0446 DBE7     		b	.L562
 5285              	.LVL646:
 5286              	.L610:
 5287              	.LBB40:
1455:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         prev->next = pcb->next;
 5288              		.loc 1 1455 0 discriminator 1
 5289 0448 0F4B     		ldr	r3, .L613+12
 5290 044a 40F2AF52 		movw	r2, #1455
 5291 044e 1449     		ldr	r1, .L613+36
ARM GAS  /tmp/ccX62RBj.s 			page 147


 5292 0450 0F48     		ldr	r0, .L613+20
 5293 0452 FFF7FEFF 		bl	printf
 5294              	.LVL647:
 5295 0456 EFE7     		b	.L567
 5296              	.L566:
1459:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_tw_pcbs = pcb->next;
 5297              		.loc 1 1459 0
 5298 0458 0F4B     		ldr	r3, .L613+28
 5299 045a 1B68     		ldr	r3, [r3]
 5300 045c 9D42     		cmp	r5, r3
 5301 045e 06D0     		beq	.L569
1459:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_tw_pcbs = pcb->next;
 5302              		.loc 1 1459 0 is_stmt 0 discriminator 1
 5303 0460 094B     		ldr	r3, .L613+12
 5304 0462 40F2B352 		movw	r2, #1459
 5305 0466 0F49     		ldr	r1, .L613+40
 5306 0468 0948     		ldr	r0, .L613+20
 5307 046a FFF7FEFF 		bl	printf
 5308              	.LVL648:
 5309              	.L569:
1460:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 5310              		.loc 1 1460 0 is_stmt 1
 5311 046e EA68     		ldr	r2, [r5, #12]
 5312 0470 094B     		ldr	r3, .L613+28
 5313 0472 1A60     		str	r2, [r3]
 5314 0474 E2E7     		b	.L568
 5315              	.L609:
 5316              	.LBE40:
1470:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 5317              		.loc 1 1470 0
 5318 0476 04B0     		add	sp, sp, #16
 5319              	.LCFI67:
 5320              		.cfi_def_cfa_offset 24
 5321              		@ sp needed
 5322 0478 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 5323              	.LVL649:
 5324              	.L614:
 5325              		.align	2
 5326              	.L613:
 5327 047c 00000000 		.word	tcp_ticks
 5328 0480 00000000 		.word	tcp_active_pcbs_changed
 5329 0484 00000000 		.word	tcp_active_pcbs
 5330 0488 00000000 		.word	.LC0
 5331 048c F4000000 		.word	.LC49
 5332 0490 54000000 		.word	.LC2
 5333 0494 20010000 		.word	.LC50
 5334 0498 00000000 		.word	tcp_tw_pcbs
 5335 049c 4C010000 		.word	.LC51
 5336 04a0 7C010000 		.word	.LC52
 5337 04a4 A4010000 		.word	.LC53
 5338              		.cfi_endproc
 5339              	.LFE179:
 5341              		.section	.text.tcp_tmr,"ax",%progbits
 5342              		.align	1
 5343              		.global	tcp_tmr
 5344              		.syntax unified
 5345              		.thumb
ARM GAS  /tmp/ccX62RBj.s 			page 148


 5346              		.thumb_func
 5347              		.fpu fpv5-d16
 5349              	tcp_tmr:
 5350              	.LFB161:
 235:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Call tcp_fasttmr() every 250 ms */
 5351              		.loc 1 235 0
 5352              		.cfi_startproc
 5353              		@ args = 0, pretend = 0, frame = 0
 5354              		@ frame_needed = 0, uses_anonymous_args = 0
 5355 0000 08B5     		push	{r3, lr}
 5356              	.LCFI68:
 5357              		.cfi_def_cfa_offset 8
 5358              		.cfi_offset 3, -8
 5359              		.cfi_offset 14, -4
 237:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 5360              		.loc 1 237 0
 5361 0002 FFF7FEFF 		bl	tcp_fasttmr
 5362              	.LVL650:
 239:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Call tcp_slowtmr() every 500 ms, i.e., every other timer
 5363              		.loc 1 239 0
 5364 0006 064A     		ldr	r2, .L619
 5365 0008 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5366 000a 0133     		adds	r3, r3, #1
 5367 000c DBB2     		uxtb	r3, r3
 5368 000e 1370     		strb	r3, [r2]
 5369 0010 13F0010F 		tst	r3, #1
 5370 0014 00D1     		bne	.L618
 5371              	.L615:
 5372 0016 08BD     		pop	{r3, pc}
 5373              	.L618:
 242:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 5374              		.loc 1 242 0
 5375 0018 FFF7FEFF 		bl	tcp_slowtmr
 5376              	.LVL651:
 244:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 5377              		.loc 1 244 0
 5378 001c FBE7     		b	.L615
 5379              	.L620:
 5380 001e 00BF     		.align	2
 5381              	.L619:
 5382 0020 00000000 		.word	.LANCHOR7
 5383              		.cfi_endproc
 5384              	.LFE161:
 5386              		.comm	tcp_active_pcbs_changed,1,1
 5387              		.global	tcp_pcb_lists
 5388              		.comm	tcp_tw_pcbs,4,4
 5389              		.comm	tcp_active_pcbs,4,4
 5390              		.comm	tcp_listen_pcbs,4,4
 5391              		.comm	tcp_bound_pcbs,4,4
 5392              		.comm	tcp_ticks,4,4
 5393              		.section	.bss.tcp_timer,"aw",%nobits
 5394              		.set	.LANCHOR7,. + 0
 5397              	tcp_timer:
 5398 0000 00       		.space	1
 5399              		.section	.bss.tcp_timer_ctr,"aw",%nobits
 5400              		.set	.LANCHOR4,. + 0
 5403              	tcp_timer_ctr:
ARM GAS  /tmp/ccX62RBj.s 			page 149


 5404 0000 00       		.space	1
 5405              		.section	.data.iss.11579,"aw",%progbits
 5406              		.align	2
 5407              		.set	.LANCHOR2,. + 0
 5410              	iss.11579:
 5411 0000 6E190000 		.word	6510
 5412              		.section	.data.tcp_port,"aw",%progbits
 5413              		.align	1
 5414              		.set	.LANCHOR0,. + 0
 5417              	tcp_port:
 5418 0000 00C0     		.short	-16384
 5419              		.section	.rodata.str1.4,"aMS",%progbits,1
 5420              		.align	2
 5421              	.LC54:
 5422 0000 434C4F53 		.ascii	"CLOSED\000"
 5422      454400
 5423 0007 00       		.space	1
 5424              	.LC55:
 5425 0008 4C495354 		.ascii	"LISTEN\000"
 5425      454E00
 5426 000f 00       		.space	1
 5427              	.LC56:
 5428 0010 53594E5F 		.ascii	"SYN_SENT\000"
 5428      53454E54 
 5428      00
 5429 0019 000000   		.space	3
 5430              	.LC57:
 5431 001c 53594E5F 		.ascii	"SYN_RCVD\000"
 5431      52435644 
 5431      00
 5432 0025 000000   		.space	3
 5433              	.LC58:
 5434 0028 45535441 		.ascii	"ESTABLISHED\000"
 5434      424C4953 
 5434      48454400 
 5435              	.LC59:
 5436 0034 46494E5F 		.ascii	"FIN_WAIT_1\000"
 5436      57414954 
 5436      5F3100
 5437 003f 00       		.space	1
 5438              	.LC60:
 5439 0040 46494E5F 		.ascii	"FIN_WAIT_2\000"
 5439      57414954 
 5439      5F3200
 5440 004b 00       		.space	1
 5441              	.LC61:
 5442 004c 434C4F53 		.ascii	"CLOSE_WAIT\000"
 5442      455F5741 
 5442      495400
 5443 0057 00       		.space	1
 5444              	.LC62:
 5445 0058 434C4F53 		.ascii	"CLOSING\000"
 5445      494E4700 
 5446              	.LC63:
 5447 0060 4C415354 		.ascii	"LAST_ACK\000"
 5447      5F41434B 
 5447      00
ARM GAS  /tmp/ccX62RBj.s 			page 150


 5448 0069 000000   		.space	3
 5449              	.LC64:
 5450 006c 54494D45 		.ascii	"TIME_WAIT\000"
 5450      5F574149 
 5450      5400
 5451              		.section	.rodata.tcp_abandon.str1.4,"aMS",%progbits,1
 5452              		.align	2
 5453              	.LC33:
 5454 0000 7463705F 		.ascii	"tcp_abandon: invalid pcb\000"
 5454      6162616E 
 5454      646F6E3A 
 5454      20696E76 
 5454      616C6964 
 5455 0019 000000   		.space	3
 5456              	.LC34:
 5457 001c 646F6E27 		.ascii	"don't call tcp_abort/tcp_abandon for listen-pcbs\000"
 5457      74206361 
 5457      6C6C2074 
 5457      63705F61 
 5457      626F7274 
 5458              		.section	.rodata.tcp_accept_null.str1.4,"aMS",%progbits,1
 5459              		.align	2
 5460              	.LC35:
 5461 0000 7463705F 		.ascii	"tcp_accept_null: invalid pcb\000"
 5461      61636365 
 5461      70745F6E 
 5461      756C6C3A 
 5461      20696E76 
 5462              		.section	.rodata.tcp_backoff,"a",%progbits
 5463              		.align	2
 5464              		.set	.LANCHOR6,. + 0
 5467              	tcp_backoff:
 5468 0000 01       		.byte	1
 5469 0001 02       		.byte	2
 5470 0002 03       		.byte	3
 5471 0003 04       		.byte	4
 5472 0004 05       		.byte	5
 5473 0005 06       		.byte	6
 5474 0006 07       		.byte	7
 5475 0007 07       		.byte	7
 5476 0008 07       		.byte	7
 5477 0009 07       		.byte	7
 5478 000a 07       		.byte	7
 5479 000b 07       		.byte	7
 5480 000c 07       		.byte	7
 5481              		.section	.rodata.tcp_bind.str1.4,"aMS",%progbits,1
 5482              		.align	2
 5483              	.LC7:
 5484 0000 7463705F 		.ascii	"tcp_bind: invalid pcb\000"
 5484      62696E64 
 5484      3A20696E 
 5484      76616C69 
 5484      64207063 
 5485 0016 0000     		.space	2
 5486              	.LC8:
 5487 0018 7463705F 		.ascii	"tcp_bind: can only bind in state CLOSED\000"
 5487      62696E64 
ARM GAS  /tmp/ccX62RBj.s 			page 151


 5487      3A206361 
 5487      6E206F6E 
 5487      6C792062 
 5488              		.section	.rodata.tcp_close.str1.4,"aMS",%progbits,1
 5489              		.align	2
 5490              	.LC40:
 5491 0000 7463705F 		.ascii	"tcp_close: invalid pcb\000"
 5491      636C6F73 
 5491      653A2069 
 5491      6E76616C 
 5491      69642070 
 5492              		.section	.rodata.tcp_close_shutdown.str1.4,"aMS",%progbits,1
 5493              		.align	2
 5494              	.LC38:
 5495 0000 7463705F 		.ascii	"tcp_close_shutdown: invalid pcb\000"
 5495      636C6F73 
 5495      655F7368 
 5495      7574646F 
 5495      776E3A20 
 5496              	.LC39:
 5497 0020 7063622D 		.ascii	"pcb->flags & TF_RXCLOSED\000"
 5497      3E666C61 
 5497      67732026 
 5497      2054465F 
 5497      5258434C 
 5498              		.section	.rodata.tcp_connect.str1.4,"aMS",%progbits,1
 5499              		.align	2
 5500              	.LC24:
 5501 0000 7463705F 		.ascii	"tcp_connect: invalid pcb\000"
 5501      636F6E6E 
 5501      6563743A 
 5501      20696E76 
 5501      616C6964 
 5502 0019 000000   		.space	3
 5503              	.LC25:
 5504 001c 7463705F 		.ascii	"tcp_connect: invalid ipaddr\000"
 5504      636F6E6E 
 5504      6563743A 
 5504      20696E76 
 5504      616C6964 
 5505              	.LC26:
 5506 0038 7463705F 		.ascii	"tcp_connect: can only connect from state CLOSED\000"
 5506      636F6E6E 
 5506      6563743A 
 5506      2063616E 
 5506      206F6E6C 
 5507              		.section	.rodata.tcp_eff_send_mss_netif.str1.4,"aMS",%progbits,1
 5508              		.align	2
 5509              	.LC23:
 5510 0000 7463705F 		.ascii	"tcp_eff_send_mss_netif: invalid dst_ip\000"
 5510      6566665F 
 5510      73656E64 
 5510      5F6D7373 
 5510      5F6E6574 
 5511              		.section	.rodata.tcp_err.str1.4,"aMS",%progbits,1
 5512              		.align	2
 5513              	.LC19:
ARM GAS  /tmp/ccX62RBj.s 			page 152


 5514 0000 696E7661 		.ascii	"invalid socket state for err callback\000"
 5514      6C696420 
 5514      736F636B 
 5514      65742073 
 5514      74617465 
 5515              		.section	.rodata.tcp_free.str1.4,"aMS",%progbits,1
 5516              		.align	2
 5517              	.LC6:
 5518 0000 7463705F 		.ascii	"tcp_free: LISTEN\000"
 5518      66726565 
 5518      3A204C49 
 5518      5354454E 
 5518      00
 5519              		.section	.rodata.tcp_free_listen.str1.4,"aMS",%progbits,1
 5520              		.align	2
 5521              	.LC5:
 5522 0000 7463705F 		.ascii	"tcp_free_listen: !LISTEN\000"
 5522      66726565 
 5522      5F6C6973 
 5522      74656E3A 
 5522      20214C49 
 5523              		.section	.rodata.tcp_kill_state.str1.4,"aMS",%progbits,1
 5524              		.align	2
 5525              	.LC37:
 5526 0000 696E7661 		.ascii	"invalid state\000"
 5526      6C696420 
 5526      73746174 
 5526      6500
 5527              		.section	.rodata.tcp_listen_closed.str1.4,"aMS",%progbits,1
 5528              		.align	2
 5529              	.LC3:
 5530 0000 70636220 		.ascii	"pcb != NULL\000"
 5530      213D204E 
 5530      554C4C00 
 5531              	.LC4:
 5532 000c 7063622D 		.ascii	"pcb->state == LISTEN\000"
 5532      3E737461 
 5532      7465203D 
 5532      3D204C49 
 5532      5354454E 
 5533              		.section	.rodata.tcp_listen_with_backlog_and_err.str1.4,"aMS",%progbits,1
 5534              		.align	2
 5535              	.LC9:
 5536 0000 7463705F 		.ascii	"tcp_listen_with_backlog_and_err: invalid pcb\000"
 5536      6C697374 
 5536      656E5F77 
 5536      6974685F 
 5536      6261636B 
 5537 002d 000000   		.space	3
 5538              	.LC10:
 5539 0030 7463705F 		.ascii	"tcp_listen_with_backlog_and_err: pcb already connec"
 5539      6C697374 
 5539      656E5F77 
 5539      6974685F 
 5539      6261636B 
 5540 0063 74656400 		.ascii	"ted\000"
 5541              		.section	.rodata.tcp_netif_ip_addr_changed_pcblist.str1.4,"aMS",%progbits,1
ARM GAS  /tmp/ccX62RBj.s 			page 153


 5542              		.align	2
 5543              	.LC36:
 5544 0000 7463705F 		.ascii	"tcp_netif_ip_addr_changed_pcblist: invalid old_addr"
 5544      6E657469 
 5544      665F6970 
 5544      5F616464 
 5544      725F6368 
 5545 0033 00       		.ascii	"\000"
 5546              		.section	.rodata.tcp_next_iss.str1.4,"aMS",%progbits,1
 5547              		.align	2
 5548              	.LC22:
 5549 0000 7463705F 		.ascii	"tcp_next_iss: invalid pcb\000"
 5549      6E657874 
 5549      5F697373 
 5549      3A20696E 
 5549      76616C69 
 5550              		.section	.rodata.tcp_pcb_lists,"a",%progbits
 5551              		.align	2
 5552              		.set	.LANCHOR1,. + 0
 5555              	tcp_pcb_lists:
 5556 0000 00000000 		.word	tcp_listen_pcbs
 5557 0004 00000000 		.word	tcp_bound_pcbs
 5558 0008 00000000 		.word	tcp_active_pcbs
 5559 000c 00000000 		.word	tcp_tw_pcbs
 5560              		.section	.rodata.tcp_pcb_purge.str1.4,"aMS",%progbits,1
 5561              		.align	2
 5562              	.LC27:
 5563 0000 7463705F 		.ascii	"tcp_pcb_purge: invalid pcb\000"
 5563      7063625F 
 5563      70757267 
 5563      653A2069 
 5563      6E76616C 
 5564              		.section	.rodata.tcp_pcb_remove.str1.4,"aMS",%progbits,1
 5565              		.align	2
 5566              	.LC28:
 5567 0000 7463705F 		.ascii	"tcp_pcb_remove: invalid pcb\000"
 5567      7063625F 
 5567      72656D6F 
 5567      76653A20 
 5567      696E7661 
 5568              	.LC29:
 5569 001c 7463705F 		.ascii	"tcp_pcb_remove: invalid pcblist\000"
 5569      7063625F 
 5569      72656D6F 
 5569      76653A20 
 5569      696E7661 
 5570              	.LC30:
 5571 003c 756E7365 		.ascii	"unsent segments leaking\000"
 5571      6E742073 
 5571      65676D65 
 5571      6E747320 
 5571      6C65616B 
 5572              	.LC31:
 5573 0054 756E6163 		.ascii	"unacked segments leaking\000"
 5573      6B656420 
 5573      7365676D 
 5573      656E7473 
ARM GAS  /tmp/ccX62RBj.s 			page 154


 5573      206C6561 
 5574 006d 000000   		.space	3
 5575              	.LC32:
 5576 0070 6F6F7365 		.ascii	"ooseq segments leaking\000"
 5576      71207365 
 5576      676D656E 
 5576      7473206C 
 5576      65616B69 
 5577              		.section	.rodata.tcp_persist_backoff,"a",%progbits
 5578              		.align	2
 5579              		.set	.LANCHOR5,. + 0
 5582              	tcp_persist_backoff:
 5583 0000 03       		.byte	3
 5584 0001 06       		.byte	6
 5585 0002 0C       		.byte	12
 5586 0003 18       		.byte	24
 5587 0004 30       		.byte	48
 5588 0005 60       		.byte	96
 5589 0006 78       		.byte	120
 5590              		.section	.rodata.tcp_poll.str1.4,"aMS",%progbits,1
 5591              		.align	2
 5592              	.LC20:
 5593 0000 7463705F 		.ascii	"tcp_poll: invalid pcb\000"
 5593      706F6C6C 
 5593      3A20696E 
 5593      76616C69 
 5593      64207063 
 5594 0016 0000     		.space	2
 5595              	.LC21:
 5596 0018 696E7661 		.ascii	"invalid socket state for poll\000"
 5596      6C696420 
 5596      736F636B 
 5596      65742073 
 5596      74617465 
 5597              		.section	.rodata.tcp_process_refused_data.str1.4,"aMS",%progbits,1
 5598              		.align	2
 5599              	.LC42:
 5600 0000 7463705F 		.ascii	"tcp_process_refused_data: invalid pcb\000"
 5600      70726F63 
 5600      6573735F 
 5600      72656675 
 5600      7365645F 
 5601              		.section	.rodata.tcp_recv.str1.4,"aMS",%progbits,1
 5602              		.align	2
 5603              	.LC17:
 5604 0000 696E7661 		.ascii	"invalid socket state for recv callback\000"
 5604      6C696420 
 5604      736F636B 
 5604      65742073 
 5604      74617465 
 5605              		.section	.rodata.tcp_recv_null.str1.4,"aMS",%progbits,1
 5606              		.align	2
 5607              	.LC41:
 5608 0000 7463705F 		.ascii	"tcp_recv_null: invalid pcb\000"
 5608      72656376 
 5608      5F6E756C 
 5608      6C3A2069 
ARM GAS  /tmp/ccX62RBj.s 			page 155


 5608      6E76616C 
 5609              		.section	.rodata.tcp_recved.str1.4,"aMS",%progbits,1
 5610              		.align	2
 5611              	.LC13:
 5612 0000 7463705F 		.ascii	"tcp_recved: invalid pcb\000"
 5612      72656376 
 5612      65643A20 
 5612      696E7661 
 5612      6C696420 
 5613              	.LC14:
 5614 0018 646F6E27 		.ascii	"don't call tcp_recved for listen-pcbs\000"
 5614      74206361 
 5614      6C6C2074 
 5614      63705F72 
 5614      65637665 
 5615              		.section	.rodata.tcp_remove_listener.str1.4,"aMS",%progbits,1
 5616              		.align	2
 5617              	.LC0:
 5618 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/tcp.c\000"
 5618      6C657761 
 5618      7265732F 
 5618      54686972 
 5618      645F5061 
 5619              	.LC1:
 5620 002c 7463705F 		.ascii	"tcp_remove_listener: invalid listener\000"
 5620      72656D6F 
 5620      76655F6C 
 5620      69737465 
 5620      6E65723A 
 5621 0052 0000     		.space	2
 5622              	.LC2:
 5623 0054 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 5623      7274696F 
 5623      6E202225 
 5623      73222066 
 5623      61696C65 
 5624              		.section	.rodata.tcp_seg_copy.str1.4,"aMS",%progbits,1
 5625              		.align	2
 5626              	.LC16:
 5627 0000 7463705F 		.ascii	"tcp_seg_copy: invalid seg\000"
 5627      7365675F 
 5627      636F7079 
 5627      3A20696E 
 5627      76616C69 
 5628              		.section	.rodata.tcp_sent.str1.4,"aMS",%progbits,1
 5629              		.align	2
 5630              	.LC18:
 5631 0000 696E7661 		.ascii	"invalid socket state for sent callback\000"
 5631      6C696420 
 5631      736F636B 
 5631      65742073 
 5631      74617465 
 5632              		.section	.rodata.tcp_setprio.str1.4,"aMS",%progbits,1
 5633              		.align	2
 5634              	.LC15:
 5635 0000 7463705F 		.ascii	"tcp_setprio: invalid pcb\000"
 5635      73657470 
ARM GAS  /tmp/ccX62RBj.s 			page 156


 5635      72696F3A 
 5635      20696E76 
 5635      616C6964 
 5636              		.section	.rodata.tcp_shutdown.str1.4,"aMS",%progbits,1
 5637              		.align	2
 5638              	.LC43:
 5639 0000 7463705F 		.ascii	"tcp_shutdown: invalid pcb\000"
 5639      73687574 
 5639      646F776E 
 5639      3A20696E 
 5639      76616C69 
 5640              		.section	.rodata.tcp_slowtmr.str1.4,"aMS",%progbits,1
 5641              		.align	2
 5642              	.LC44:
 5643 0000 7463705F 		.ascii	"tcp_slowtmr: active pcb->state != CLOSED\012\000"
 5643      736C6F77 
 5643      746D723A 
 5643      20616374 
 5643      69766520 
 5644 002a 0000     		.space	2
 5645              	.LC45:
 5646 002c 7463705F 		.ascii	"tcp_slowtmr: active pcb->state != LISTEN\012\000"
 5646      736C6F77 
 5646      746D723A 
 5646      20616374 
 5646      69766520 
 5647 0056 0000     		.space	2
 5648              	.LC46:
 5649 0058 7463705F 		.ascii	"tcp_slowtmr: active pcb->state != TIME-WAIT\012\000"
 5649      736C6F77 
 5649      746D723A 
 5649      20616374 
 5649      69766520 
 5650 0085 000000   		.space	3
 5651              	.LC47:
 5652 0088 7463705F 		.ascii	"tcp_slowtimr: persist ticking with in-flight data\000"
 5652      736C6F77 
 5652      74696D72 
 5652      3A207065 
 5652      72736973 
 5653 00ba 0000     		.space	2
 5654              	.LC48:
 5655 00bc 7463705F 		.ascii	"tcp_slowtimr: persist ticking with empty send buffe"
 5655      736C6F77 
 5655      74696D72 
 5655      3A207065 
 5655      72736973 
 5656 00ef 7200     		.ascii	"r\000"
 5657 00f1 000000   		.space	3
 5658              	.LC49:
 5659 00f4 7463705F 		.ascii	"tcp_slowtmr: middle tcp != tcp_active_pcbs\000"
 5659      736C6F77 
 5659      746D723A 
 5659      206D6964 
 5659      646C6520 
 5660 011f 00       		.space	1
 5661              	.LC50:
ARM GAS  /tmp/ccX62RBj.s 			page 157


 5662 0120 7463705F 		.ascii	"tcp_slowtmr: first pcb == tcp_active_pcbs\000"
 5662      736C6F77 
 5662      746D723A 
 5662      20666972 
 5662      73742070 
 5663 014a 0000     		.space	2
 5664              	.LC51:
 5665 014c 7463705F 		.ascii	"tcp_slowtmr: TIME-WAIT pcb->state == TIME-WAIT\000"
 5665      736C6F77 
 5665      746D723A 
 5665      2054494D 
 5665      452D5741 
 5666 017b 00       		.space	1
 5667              	.LC52:
 5668 017c 7463705F 		.ascii	"tcp_slowtmr: middle tcp != tcp_tw_pcbs\000"
 5668      736C6F77 
 5668      746D723A 
 5668      206D6964 
 5668      646C6520 
 5669 01a3 00       		.space	1
 5670              	.LC53:
 5671 01a4 7463705F 		.ascii	"tcp_slowtmr: first pcb == tcp_tw_pcbs\000"
 5671      736C6F77 
 5671      746D723A 
 5671      20666972 
 5671      73742070 
 5672              		.section	.rodata.tcp_state_str,"a",%progbits
 5673              		.align	2
 5674              		.set	.LANCHOR3,. + 0
 5677              	tcp_state_str:
 5678 0000 00000000 		.word	.LC54
 5679 0004 08000000 		.word	.LC55
 5680 0008 10000000 		.word	.LC56
 5681 000c 1C000000 		.word	.LC57
 5682 0010 28000000 		.word	.LC58
 5683 0014 34000000 		.word	.LC59
 5684 0018 40000000 		.word	.LC60
 5685 001c 4C000000 		.word	.LC61
 5686 0020 58000000 		.word	.LC62
 5687 0024 60000000 		.word	.LC63
 5688 0028 6C000000 		.word	.LC64
 5689              		.section	.rodata.tcp_update_rcv_ann_wnd.str1.4,"aMS",%progbits,1
 5690              		.align	2
 5691              	.LC11:
 5692 0000 7463705F 		.ascii	"tcp_update_rcv_ann_wnd: invalid pcb\000"
 5692      75706461 
 5692      74655F72 
 5692      63765F61 
 5692      6E6E5F77 
 5693              	.LC12:
 5694 0024 6E65775F 		.ascii	"new_rcv_ann_wnd <= 0xffff\000"
 5694      7263765F 
 5694      616E6E5F 
 5694      776E6420 
 5694      3C3D2030 
 5695              		.text
 5696              	.Letext0:
ARM GAS  /tmp/ccX62RBj.s 			page 158


 5697              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 5698              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 5699              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 5700              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 5701              		.file 6 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 5702              		.file 7 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal.h"
 5703              		.file 8 "/usr/include/newlib/sys/lock.h"
 5704              		.file 9 "/usr/include/newlib/sys/_types.h"
 5705              		.file 10 "/usr/include/newlib/sys/reent.h"
 5706              		.file 11 "/usr/include/newlib/stdlib.h"
 5707              		.file 12 "/usr/include/newlib/time.h"
 5708              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 5709              		.file 14 "/usr/include/newlib/ctype.h"
 5710              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 5711              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 5712              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpbase.h"
 5713              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 5714              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 5715              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 5716              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 5717              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 5718              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 5719              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 5720              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 5721              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
 5722              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/tcp.h"
 5723              		.file 28 "/usr/include/newlib/stdio.h"
 5724              		.file 29 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4.h"
ARM GAS  /tmp/ccX62RBj.s 			page 159


DEFINED SYMBOLS
                            *ABS*:0000000000000000 tcp.c
     /tmp/ccX62RBj.s:17     .text.tcp_new_port:0000000000000000 $t
     /tmp/ccX62RBj.s:23     .text.tcp_new_port:0000000000000000 tcp_new_port
     /tmp/ccX62RBj.s:128    .text.tcp_new_port:0000000000000060 $d
     /tmp/ccX62RBj.s:134    .text.tcp_remove_listener:0000000000000000 $t
     /tmp/ccX62RBj.s:140    .text.tcp_remove_listener:0000000000000000 tcp_remove_listener
     /tmp/ccX62RBj.s:191    .text.tcp_remove_listener:0000000000000028 $d
     /tmp/ccX62RBj.s:198    .text.tcp_listen_closed:0000000000000000 $t
     /tmp/ccX62RBj.s:204    .text.tcp_listen_closed:0000000000000000 tcp_listen_closed
     /tmp/ccX62RBj.s:271    .text.tcp_listen_closed:0000000000000044 $d
     /tmp/ccX62RBj.s:280    .text.tcp_free_listen:0000000000000000 $t
     /tmp/ccX62RBj.s:286    .text.tcp_free_listen:0000000000000000 tcp_free_listen
     /tmp/ccX62RBj.s:325    .text.tcp_free_listen:0000000000000024 $d
     /tmp/ccX62RBj.s:332    .text.tcp_close_shutdown_fin:0000000000000000 $t
     /tmp/ccX62RBj.s:338    .text.tcp_close_shutdown_fin:0000000000000000 tcp_close_shutdown_fin
     /tmp/ccX62RBj.s:449    .text.tcp_close_shutdown_fin:000000000000007c $d
     /tmp/ccX62RBj.s:456    .text.tcp_handle_closepend:0000000000000000 $t
     /tmp/ccX62RBj.s:462    .text.tcp_handle_closepend:0000000000000000 tcp_handle_closepend
     /tmp/ccX62RBj.s:520    .text.tcp_handle_closepend:0000000000000028 $d
                            *COM*:0000000000000004 tcp_active_pcbs
     /tmp/ccX62RBj.s:525    .text.tcp_init:0000000000000000 $t
     /tmp/ccX62RBj.s:532    .text.tcp_init:0000000000000000 tcp_init
     /tmp/ccX62RBj.s:554    .text.tcp_init:0000000000000010 $d
     /tmp/ccX62RBj.s:560    .text.tcp_free:0000000000000000 $t
     /tmp/ccX62RBj.s:567    .text.tcp_free:0000000000000000 tcp_free
     /tmp/ccX62RBj.s:606    .text.tcp_free:0000000000000024 $d
     /tmp/ccX62RBj.s:613    .text.tcp_bind:0000000000000000 $t
     /tmp/ccX62RBj.s:620    .text.tcp_bind:0000000000000000 tcp_bind
     /tmp/ccX62RBj.s:784    .text.tcp_bind:00000000000000b0 $d
                            *COM*:0000000000000004 tcp_bound_pcbs
     /tmp/ccX62RBj.s:795    .text.tcp_bind_netif:0000000000000000 $t
     /tmp/ccX62RBj.s:802    .text.tcp_bind_netif:0000000000000000 tcp_bind_netif
     /tmp/ccX62RBj.s:826    .text.tcp_listen_with_backlog_and_err:0000000000000000 $t
     /tmp/ccX62RBj.s:833    .text.tcp_listen_with_backlog_and_err:0000000000000000 tcp_listen_with_backlog_and_err
     /tmp/ccX62RBj.s:1013   .text.tcp_listen_with_backlog_and_err:00000000000000c4 $d
     /tmp/ccX62RBj.s:3001   .text.tcp_accept_null:0000000000000000 tcp_accept_null
                            *COM*:0000000000000004 tcp_listen_pcbs
     /tmp/ccX62RBj.s:1024   .text.tcp_listen_with_backlog:0000000000000000 $t
     /tmp/ccX62RBj.s:1031   .text.tcp_listen_with_backlog:0000000000000000 tcp_listen_with_backlog
     /tmp/ccX62RBj.s:1053   .text.tcp_update_rcv_ann_wnd:0000000000000000 $t
     /tmp/ccX62RBj.s:1060   .text.tcp_update_rcv_ann_wnd:0000000000000000 tcp_update_rcv_ann_wnd
     /tmp/ccX62RBj.s:1157   .text.tcp_update_rcv_ann_wnd:0000000000000064 $d
     /tmp/ccX62RBj.s:1166   .text.tcp_recved:0000000000000000 $t
     /tmp/ccX62RBj.s:1173   .text.tcp_recved:0000000000000000 tcp_recved
     /tmp/ccX62RBj.s:1267   .text.tcp_recved:0000000000000068 $d
     /tmp/ccX62RBj.s:1275   .text.tcp_txnow:0000000000000000 $t
     /tmp/ccX62RBj.s:1282   .text.tcp_txnow:0000000000000000 tcp_txnow
     /tmp/ccX62RBj.s:1321   .text.tcp_txnow:0000000000000020 $d
     /tmp/ccX62RBj.s:1326   .text.tcp_seg_free:0000000000000000 $t
     /tmp/ccX62RBj.s:1333   .text.tcp_seg_free:0000000000000000 tcp_seg_free
     /tmp/ccX62RBj.s:1374   .text.tcp_segs_free:0000000000000000 $t
     /tmp/ccX62RBj.s:1381   .text.tcp_segs_free:0000000000000000 tcp_segs_free
     /tmp/ccX62RBj.s:1423   .text.tcp_setprio:0000000000000000 $t
     /tmp/ccX62RBj.s:1430   .text.tcp_setprio:0000000000000000 tcp_setprio
     /tmp/ccX62RBj.s:1461   .text.tcp_setprio:0000000000000018 $d
     /tmp/ccX62RBj.s:1468   .text.tcp_seg_copy:0000000000000000 $t
ARM GAS  /tmp/ccX62RBj.s 			page 160


     /tmp/ccX62RBj.s:1475   .text.tcp_seg_copy:0000000000000000 tcp_seg_copy
     /tmp/ccX62RBj.s:1533   .text.tcp_seg_copy:000000000000003c $d
     /tmp/ccX62RBj.s:1540   .text.tcp_arg:0000000000000000 $t
     /tmp/ccX62RBj.s:1547   .text.tcp_arg:0000000000000000 tcp_arg
     /tmp/ccX62RBj.s:1565   .text.tcp_recv:0000000000000000 $t
     /tmp/ccX62RBj.s:1572   .text.tcp_recv:0000000000000000 tcp_recv
     /tmp/ccX62RBj.s:1624   .text.tcp_recv:0000000000000028 $d
     /tmp/ccX62RBj.s:1631   .text.tcp_sent:0000000000000000 $t
     /tmp/ccX62RBj.s:1638   .text.tcp_sent:0000000000000000 tcp_sent
     /tmp/ccX62RBj.s:1690   .text.tcp_sent:0000000000000028 $d
     /tmp/ccX62RBj.s:1697   .text.tcp_err:0000000000000000 $t
     /tmp/ccX62RBj.s:1704   .text.tcp_err:0000000000000000 tcp_err
     /tmp/ccX62RBj.s:1756   .text.tcp_err:0000000000000028 $d
     /tmp/ccX62RBj.s:1763   .text.tcp_accept:0000000000000000 $t
     /tmp/ccX62RBj.s:1770   .text.tcp_accept:0000000000000000 tcp_accept
     /tmp/ccX62RBj.s:1798   .text.tcp_poll:0000000000000000 $t
     /tmp/ccX62RBj.s:1805   .text.tcp_poll:0000000000000000 tcp_poll
     /tmp/ccX62RBj.s:1864   .text.tcp_poll:0000000000000038 $d
     /tmp/ccX62RBj.s:1872   .text.tcp_next_iss:0000000000000000 $t
     /tmp/ccX62RBj.s:1879   .text.tcp_next_iss:0000000000000000 tcp_next_iss
     /tmp/ccX62RBj.s:1918   .text.tcp_next_iss:0000000000000024 $d
                            *COM*:0000000000000004 tcp_ticks
     /tmp/ccX62RBj.s:1927   .text.tcp_eff_send_mss_netif:0000000000000000 $t
     /tmp/ccX62RBj.s:1934   .text.tcp_eff_send_mss_netif:0000000000000000 tcp_eff_send_mss_netif
     /tmp/ccX62RBj.s:2015   .text.tcp_eff_send_mss_netif:000000000000003c $d
     /tmp/ccX62RBj.s:2022   .text.tcp_connect:0000000000000000 $t
     /tmp/ccX62RBj.s:2029   .text.tcp_connect:0000000000000000 tcp_connect
     /tmp/ccX62RBj.s:2290   .text.tcp_connect:0000000000000130 $d
                            *COM*:0000000000000001 tcp_active_pcbs_changed
     /tmp/ccX62RBj.s:2302   .text.tcp_debug_state_str:0000000000000000 $t
     /tmp/ccX62RBj.s:2309   .text.tcp_debug_state_str:0000000000000000 tcp_debug_state_str
     /tmp/ccX62RBj.s:2325   .text.tcp_debug_state_str:0000000000000008 $d
     /tmp/ccX62RBj.s:2330   .text.tcp_tcp_get_tcp_addrinfo:0000000000000000 $t
     /tmp/ccX62RBj.s:2337   .text.tcp_tcp_get_tcp_addrinfo:0000000000000000 tcp_tcp_get_tcp_addrinfo
     /tmp/ccX62RBj.s:2422   .text.tcp_free_ooseq:0000000000000000 $t
     /tmp/ccX62RBj.s:2429   .text.tcp_free_ooseq:0000000000000000 tcp_free_ooseq
     /tmp/ccX62RBj.s:2466   .text.tcp_pcb_purge:0000000000000000 $t
     /tmp/ccX62RBj.s:2473   .text.tcp_pcb_purge:0000000000000000 tcp_pcb_purge
     /tmp/ccX62RBj.s:2549   .text.tcp_pcb_purge:0000000000000058 $d
     /tmp/ccX62RBj.s:2556   .text.tcp_pcb_remove:0000000000000000 $t
     /tmp/ccX62RBj.s:2563   .text.tcp_pcb_remove:0000000000000000 tcp_pcb_remove
     /tmp/ccX62RBj.s:2714   .text.tcp_pcb_remove:00000000000000b4 $d
     /tmp/ccX62RBj.s:2725   .text.tcp_abandon:0000000000000000 $t
     /tmp/ccX62RBj.s:2732   .text.tcp_abandon:0000000000000000 tcp_abandon
     /tmp/ccX62RBj.s:2954   .text.tcp_abandon:00000000000000ec $d
                            *COM*:0000000000000004 tcp_tw_pcbs
     /tmp/ccX62RBj.s:2967   .text.tcp_abort:0000000000000000 $t
     /tmp/ccX62RBj.s:2974   .text.tcp_abort:0000000000000000 tcp_abort
     /tmp/ccX62RBj.s:2995   .text.tcp_accept_null:0000000000000000 $t
     /tmp/ccX62RBj.s:3041   .text.tcp_accept_null:0000000000000024 $d
     /tmp/ccX62RBj.s:3048   .text.tcp_kill_timewait:0000000000000000 $t
     /tmp/ccX62RBj.s:3054   .text.tcp_kill_timewait:0000000000000000 tcp_kill_timewait
     /tmp/ccX62RBj.s:3111   .text.tcp_kill_timewait:000000000000002c $d
     /tmp/ccX62RBj.s:3117   .text.tcp_kill_prio:0000000000000000 $t
     /tmp/ccX62RBj.s:3123   .text.tcp_kill_prio:0000000000000000 tcp_kill_prio
     /tmp/ccX62RBj.s:3216   .text.tcp_kill_prio:0000000000000048 $d
     /tmp/ccX62RBj.s:3222   .text.tcp_netif_ip_addr_changed_pcblist:0000000000000000 $t
ARM GAS  /tmp/ccX62RBj.s 			page 161


     /tmp/ccX62RBj.s:3228   .text.tcp_netif_ip_addr_changed_pcblist:0000000000000000 tcp_netif_ip_addr_changed_pcblist
     /tmp/ccX62RBj.s:3290   .text.tcp_netif_ip_addr_changed_pcblist:0000000000000034 $d
     /tmp/ccX62RBj.s:3297   .text.tcp_netif_ip_addr_changed:0000000000000000 $t
     /tmp/ccX62RBj.s:3304   .text.tcp_netif_ip_addr_changed:0000000000000000 tcp_netif_ip_addr_changed
     /tmp/ccX62RBj.s:3384   .text.tcp_netif_ip_addr_changed:0000000000000048 $d
     /tmp/ccX62RBj.s:3391   .text.tcp_kill_state:0000000000000000 $t
     /tmp/ccX62RBj.s:3397   .text.tcp_kill_state:0000000000000000 tcp_kill_state
     /tmp/ccX62RBj.s:3476   .text.tcp_kill_state:000000000000004c $d
     /tmp/ccX62RBj.s:3485   .text.tcp_alloc:0000000000000000 $t
     /tmp/ccX62RBj.s:3492   .text.tcp_alloc:0000000000000000 tcp_alloc
     /tmp/ccX62RBj.s:3627   .text.tcp_alloc:00000000000000b4 $d
     /tmp/ccX62RBj.s:4033   .text.tcp_recv_null:0000000000000000 tcp_recv_null
     /tmp/ccX62RBj.s:3635   .text.tcp_new:0000000000000000 $t
     /tmp/ccX62RBj.s:3642   .text.tcp_new:0000000000000000 tcp_new
     /tmp/ccX62RBj.s:3663   .text.tcp_new_ip_type:0000000000000000 $t
     /tmp/ccX62RBj.s:3670   .text.tcp_new_ip_type:0000000000000000 tcp_new_ip_type
     /tmp/ccX62RBj.s:3693   .text.tcp_close_shutdown:0000000000000000 $t
     /tmp/ccX62RBj.s:3699   .text.tcp_close_shutdown:0000000000000000 tcp_close_shutdown
     /tmp/ccX62RBj.s:3952   .text.tcp_close_shutdown:0000000000000128 $d
     /tmp/ccX62RBj.s:3965   .text.tcp_close:0000000000000000 $t
     /tmp/ccX62RBj.s:3972   .text.tcp_close:0000000000000000 tcp_close
     /tmp/ccX62RBj.s:4019   .text.tcp_close:0000000000000034 $d
     /tmp/ccX62RBj.s:4026   .text.tcp_recv_null:0000000000000000 $t
     /tmp/ccX62RBj.s:4098   .text.tcp_recv_null:000000000000003c $d
     /tmp/ccX62RBj.s:4105   .text.tcp_process_refused_data:0000000000000000 $t
     /tmp/ccX62RBj.s:4112   .text.tcp_process_refused_data:0000000000000000 tcp_process_refused_data
     /tmp/ccX62RBj.s:4233   .text.tcp_process_refused_data:0000000000000084 $d
     /tmp/ccX62RBj.s:4240   .text.tcp_fasttmr:0000000000000000 $t
     /tmp/ccX62RBj.s:4247   .text.tcp_fasttmr:0000000000000000 tcp_fasttmr
     /tmp/ccX62RBj.s:4355   .text.tcp_fasttmr:0000000000000074 $d
     /tmp/ccX62RBj.s:4362   .text.tcp_shutdown:0000000000000000 $t
     /tmp/ccX62RBj.s:4369   .text.tcp_shutdown:0000000000000000 tcp_shutdown
     /tmp/ccX62RBj.s:4471   .text.tcp_shutdown:0000000000000070 $d
     /tmp/ccX62RBj.s:4478   .text.tcp_slowtmr:0000000000000000 $t
     /tmp/ccX62RBj.s:4485   .text.tcp_slowtmr:0000000000000000 tcp_slowtmr
     /tmp/ccX62RBj.s:4945   .text.tcp_slowtmr:000000000000027c $d
     /tmp/ccX62RBj.s:4962   .text.tcp_slowtmr:00000000000002b8 $t
     /tmp/ccX62RBj.s:5327   .text.tcp_slowtmr:000000000000047c $d
     /tmp/ccX62RBj.s:5342   .text.tcp_tmr:0000000000000000 $t
     /tmp/ccX62RBj.s:5349   .text.tcp_tmr:0000000000000000 tcp_tmr
     /tmp/ccX62RBj.s:5382   .text.tcp_tmr:0000000000000020 $d
     /tmp/ccX62RBj.s:5555   .rodata.tcp_pcb_lists:0000000000000000 tcp_pcb_lists
     /tmp/ccX62RBj.s:5397   .bss.tcp_timer:0000000000000000 tcp_timer
     /tmp/ccX62RBj.s:5398   .bss.tcp_timer:0000000000000000 $d
     /tmp/ccX62RBj.s:5403   .bss.tcp_timer_ctr:0000000000000000 tcp_timer_ctr
     /tmp/ccX62RBj.s:5404   .bss.tcp_timer_ctr:0000000000000000 $d
     /tmp/ccX62RBj.s:5406   .data.iss.11579:0000000000000000 $d
     /tmp/ccX62RBj.s:5410   .data.iss.11579:0000000000000000 iss.11579
     /tmp/ccX62RBj.s:5413   .data.tcp_port:0000000000000000 $d
     /tmp/ccX62RBj.s:5417   .data.tcp_port:0000000000000000 tcp_port
     /tmp/ccX62RBj.s:5420   .rodata.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5452   .rodata.tcp_abandon.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5459   .rodata.tcp_accept_null.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5463   .rodata.tcp_backoff:0000000000000000 $d
     /tmp/ccX62RBj.s:5467   .rodata.tcp_backoff:0000000000000000 tcp_backoff
     /tmp/ccX62RBj.s:5482   .rodata.tcp_bind.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5489   .rodata.tcp_close.str1.4:0000000000000000 $d
ARM GAS  /tmp/ccX62RBj.s 			page 162


     /tmp/ccX62RBj.s:5493   .rodata.tcp_close_shutdown.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5499   .rodata.tcp_connect.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5508   .rodata.tcp_eff_send_mss_netif.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5512   .rodata.tcp_err.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5516   .rodata.tcp_free.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5520   .rodata.tcp_free_listen.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5524   .rodata.tcp_kill_state.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5528   .rodata.tcp_listen_closed.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5534   .rodata.tcp_listen_with_backlog_and_err.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5542   .rodata.tcp_netif_ip_addr_changed_pcblist.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5547   .rodata.tcp_next_iss.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5551   .rodata.tcp_pcb_lists:0000000000000000 $d
     /tmp/ccX62RBj.s:5561   .rodata.tcp_pcb_purge.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5565   .rodata.tcp_pcb_remove.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5578   .rodata.tcp_persist_backoff:0000000000000000 $d
     /tmp/ccX62RBj.s:5582   .rodata.tcp_persist_backoff:0000000000000000 tcp_persist_backoff
     /tmp/ccX62RBj.s:5591   .rodata.tcp_poll.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5598   .rodata.tcp_process_refused_data.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5602   .rodata.tcp_recv.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5606   .rodata.tcp_recv_null.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5610   .rodata.tcp_recved.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5616   .rodata.tcp_remove_listener.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5625   .rodata.tcp_seg_copy.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5629   .rodata.tcp_sent.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5633   .rodata.tcp_setprio.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5637   .rodata.tcp_shutdown.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5641   .rodata.tcp_slowtmr.str1.4:0000000000000000 $d
     /tmp/ccX62RBj.s:5673   .rodata.tcp_state_str:0000000000000000 $d
     /tmp/ccX62RBj.s:5677   .rodata.tcp_state_str:0000000000000000 tcp_state_str
     /tmp/ccX62RBj.s:5690   .rodata.tcp_update_rcv_ann_wnd.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
printf
memp_free
tcp_send_fin
tcp_output
rand
tcp_timer_needed
ip_addr_any
memp_malloc
pbuf_free
pbuf_ref
netif_get_by_index
tcp_enqueue_flags
ip4_route
tcp_rst
memset
tcp_trigger_input_pcb_close
tcp_input_pcb
tcp_zero_window_probe
tcp_split_unsent_seg
tcp_rexmit_rto_prepare
tcp_rexmit_rto_commit
tcp_keepalive

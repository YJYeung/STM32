ARM GAS  /tmp/ccbjEDX3.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"tcp_in.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.tcp_get_next_optbyte,"ax",%progbits
  17              		.align	1
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu fpv5-d16
  23              	tcp_get_next_optbyte:
  24              	.LFB166:
  25              		.file 1 "Middlewares/Third_Party/LwIP/src/core/tcp_in.c"
   1:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Transmission Control Protocol, incoming traffic
   4:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * The input processing functions of the TCP layer.
   6:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
   7:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * These functions are generally called in the order (ip_input() ->)
   8:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * tcp_input() -> * tcp_process() -> tcp_receive() (-> application).
   9:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  10:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
  11:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  12:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /*
  13:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  14:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * All rights reserved.
  15:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  16:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Redistribution and use in source and binary forms, with or without modification,
  17:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * are permitted provided that the following conditions are met:
  18:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  19:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  20:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *    this list of conditions and the following disclaimer.
  21:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  22:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *    this list of conditions and the following disclaimer in the documentation
  23:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *    and/or other materials provided with the distribution.
  24:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * 3. The name of the author may not be used to endorse or promote products
  25:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *    derived from this software without specific prior written permission.
  26:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  27:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  28:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  29:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  30:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  31:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  32:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  33:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
ARM GAS  /tmp/ccbjEDX3.s 			page 2


  34:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  35:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  36:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * OF SUCH DAMAGE.
  37:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  38:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * This file is part of the lwIP TCP/IP stack.
  39:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  40:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Author: Adam Dunkels <adam@sics.se>
  41:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  42:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
  43:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  44:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/opt.h"
  45:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  46:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP /* don't build if not configured for use in lwipopts.h */
  47:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  48:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/priv/tcp_priv.h"
  49:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/def.h"
  50:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/ip_addr.h"
  51:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/netif.h"
  52:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/mem.h"
  53:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/memp.h"
  54:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/inet_chksum.h"
  55:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/stats.h"
  56:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/ip6.h"
  57:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/ip6_addr.h"
  58:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_ND6_TCP_REACHABILITY_HINTS
  59:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/nd6.h"
  60:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_ND6_TCP_REACHABILITY_HINTS */
  61:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  62:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include <string.h>
  63:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  64:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #ifdef LWIP_HOOK_FILENAME
  65:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include LWIP_HOOK_FILENAME
  66:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
  67:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  68:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /** Initial CWND calculation as defined RFC 2581 */
  69:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #define LWIP_TCP_CALC_INITIAL_CWND(mss) ((tcpwnd_size_t)LWIP_MIN((4U * (mss)), LWIP_MAX((2U * (mss)
  70:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  71:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /* These variables are global to all functions involved in the input
  72:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****    processing of TCP segments. They are set by the tcp_input()
  73:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****    function. */
  74:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static struct tcp_seg inseg;
  75:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static struct tcp_hdr *tcphdr;
  76:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u16_t tcphdr_optlen;
  77:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u16_t tcphdr_opt1len;
  78:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u8_t *tcphdr_opt2;
  79:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u16_t tcp_optidx;
  80:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u32_t seqno, ackno;
  81:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static tcpwnd_size_t recv_acked;
  82:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u16_t tcplen;
  83:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u8_t flags;
  84:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  85:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u8_t recv_flags;
  86:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static struct pbuf *recv_data;
  87:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  88:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** struct tcp_pcb *tcp_input_pcb;
  89:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  90:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /* Forward declarations. */
ARM GAS  /tmp/ccbjEDX3.s 			page 3


  91:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static err_t tcp_process(struct tcp_pcb *pcb);
  92:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void tcp_receive(struct tcp_pcb *pcb);
  93:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void tcp_parseopt(struct tcp_pcb *pcb);
  94:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  95:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void tcp_listen_input(struct tcp_pcb_listen *pcb);
  96:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void tcp_timewait_input(struct tcp_pcb *pcb);
  97:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  98:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static int tcp_input_delayed_close(struct tcp_pcb *pcb);
  99:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 100:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_SACK_OUT
 101:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void tcp_add_sack(struct tcp_pcb *pcb, u32_t left, u32_t right);
 102:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void tcp_remove_sacks_lt(struct tcp_pcb *pcb, u32_t seq);
 103:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if defined(TCP_OOSEQ_BYTES_LIMIT) || defined(TCP_OOSEQ_PBUFS_LIMIT)
 104:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void tcp_remove_sacks_gt(struct tcp_pcb *pcb, u32_t seq);
 105:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_OOSEQ_BYTES_LIMIT || TCP_OOSEQ_PBUFS_LIMIT */
 106:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_TCP_SACK_OUT */
 107:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 108:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
 109:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * The initial input processing of TCP. It verifies the TCP header, demultiplexes
 110:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * the segment between the PCBs and passes it on to tcp_process(), which implements
 111:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * the TCP finite state machine. This function is called by the IP layer (in
 112:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * ip_input()).
 113:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 114:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param p received TCP segment to process (p->payload pointing to the TCP header)
 115:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param inp network interface on which this segment was received
 116:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 117:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** void
 118:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_input(struct pbuf *p, struct netif *inp)
 119:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 120:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *pcb, *prev;
 121:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb_listen *lpcb;
 122:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if SO_REUSE
 123:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *lpcb_prev = NULL;
 124:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb_listen *lpcb_any = NULL;
 125:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* SO_REUSE */
 126:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u8_t hdrlen_bytes;
 127:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 128:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 129:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_UNUSED_ARG(inp);
 130:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT_CORE_LOCKED();
 131:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_input: invalid pbuf", p != NULL);
 132:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 133:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   PERF_START;
 134:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 135:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   TCP_STATS_INC(tcp.recv);
 136:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   MIB2_STATS_INC(mib2.tcpinsegs);
 137:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 138:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr = (struct tcp_hdr *)p->payload;
 139:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 140:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_INPUT_DEBUG
 141:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcp_debug_print(tcphdr);
 142:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
 143:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 144:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Check that TCP header fits in payload */
 145:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (p->len < TCP_HLEN) {
 146:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* drop short packets */
 147:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: short packet (%"U16_F" bytes) discarded\n", p->tot_le
ARM GAS  /tmp/ccbjEDX3.s 			page 4


 148:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     TCP_STATS_INC(tcp.lenerr);
 149:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     goto dropped;
 150:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 151:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 152:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Don't even process incoming broadcasts/multicasts. */
 153:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (ip_addr_isbroadcast(ip_current_dest_addr(), ip_current_netif()) ||
 154:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       ip_addr_ismulticast(ip_current_dest_addr())) {
 155:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     TCP_STATS_INC(tcp.proterr);
 156:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     goto dropped;
 157:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 158:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 159:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if CHECKSUM_CHECK_TCP
 160:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   IF__NETIF_CHECKSUM_ENABLED(inp, NETIF_CHECKSUM_CHECK_TCP) {
 161:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Verify TCP checksum. */
 162:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     u16_t chksum = ip_chksum_pseudo(p, IP_PROTO_TCP, p->tot_len,
 163:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     ip_current_src_addr(), ip_current_dest_addr());
 164:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (chksum != 0) {
 165:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: packet discarded due to failing checksum 0x%04"X16_
 166:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     chksum));
 167:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_debug_print(tcphdr);
 168:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.chkerr);
 169:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       goto dropped;
 170:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 171:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 172:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* CHECKSUM_CHECK_TCP */
 173:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 174:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* sanity-check header length */
 175:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   hdrlen_bytes = TCPH_HDRLEN_BYTES(tcphdr);
 176:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((hdrlen_bytes < TCP_HLEN) || (hdrlen_bytes > p->tot_len)) {
 177:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: invalid header length (%"U16_F")\n", (u16_t)hdrlen_by
 178:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     TCP_STATS_INC(tcp.lenerr);
 179:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     goto dropped;
 180:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 181:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 182:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Move the payload pointer in the pbuf so that it points to the
 183:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      TCP data instead of the TCP header. */
 184:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr_optlen = (u16_t)(hdrlen_bytes - TCP_HLEN);
 185:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr_opt2 = NULL;
 186:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (p->len >= hdrlen_bytes) {
 187:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* all options are in the first pbuf */
 188:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcphdr_opt1len = tcphdr_optlen;
 189:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_remove_header(p, hdrlen_bytes); /* cannot fail */
 190:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
 191:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     u16_t opt2len;
 192:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* TCP header fits into first pbuf, options don't - data is in the next pbuf */
 193:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* there must be a next pbuf, due to hdrlen_bytes sanity check above */
 194:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("p->next != NULL", p->next != NULL);
 195:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 196:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* advance over the TCP header (cannot fail) */
 197:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_remove_header(p, TCP_HLEN);
 198:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 199:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* determine how long the first and second parts of the options are */
 200:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcphdr_opt1len = p->len;
 201:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     opt2len = (u16_t)(tcphdr_optlen - tcphdr_opt1len);
 202:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 203:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* options continue in the next pbuf: set p to zero length and hide the
 204:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         options in the next pbuf (adjusting p->tot_len) */
ARM GAS  /tmp/ccbjEDX3.s 			page 5


 205:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_remove_header(p, tcphdr_opt1len);
 206:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 207:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* check that the options fit in the second pbuf */
 208:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (opt2len > p->next->len) {
 209:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* drop short packets */
 210:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: options overflow second pbuf (%"U16_F" bytes)\n", p
 211:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.lenerr);
 212:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       goto dropped;
 213:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 214:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 215:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* remember the pointer to the second part of the options */
 216:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcphdr_opt2 = (u8_t *)p->next->payload;
 217:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 218:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* advance p->next to point after the options, and manually
 219:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         adjust p->tot_len to keep it consistent with the changed p->next */
 220:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_remove_header(p->next, opt2len);
 221:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     p->tot_len = (u16_t)(p->tot_len - opt2len);
 222:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("p->len == 0", p->len == 0);
 224:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("p->tot_len == p->next->tot_len", p->tot_len == p->next->tot_len);
 225:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 226:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 227:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Convert fields in TCP header to host byte order. */
 228:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr->src = lwip_ntohs(tcphdr->src);
 229:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr->dest = lwip_ntohs(tcphdr->dest);
 230:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   seqno = tcphdr->seqno = lwip_ntohl(tcphdr->seqno);
 231:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   ackno = tcphdr->ackno = lwip_ntohl(tcphdr->ackno);
 232:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr->wnd = lwip_ntohs(tcphdr->wnd);
 233:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 234:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   flags = TCPH_FLAGS(tcphdr);
 235:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcplen = p->tot_len;
 236:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & (TCP_FIN | TCP_SYN)) {
 237:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcplen++;
 238:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (tcplen < p->tot_len) {
 239:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* u16_t overflow, cannot handle this */
 240:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: length u16_t overflow, cannot handle this\n"));
 241:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.lenerr);
 242:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       goto dropped;
 243:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 244:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 245:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 246:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Demultiplex an incoming segment. First, we check if it is destined
 247:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      for an active connection. */
 248:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   prev = NULL;
 249:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 250:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   for (pcb = tcp_active_pcbs; pcb != NULL; pcb = pcb->next) {
 251:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != CLOSED", pcb->state != CLOSED);
 252:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != TIME-WAIT", pcb->state != TIME_WAIT);
 253:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != LISTEN", pcb->state != LISTEN);
 254:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 255:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* check if PCB is bound to specific netif */
 256:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if ((pcb->netif_idx != NETIF_NO_INDEX) &&
 257:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         (pcb->netif_idx != netif_get_index(ip_data.current_input_netif))) {
 258:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       prev = pcb;
 259:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       continue;
 260:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 261:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
ARM GAS  /tmp/ccbjEDX3.s 			page 6


 262:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->remote_port == tcphdr->src &&
 263:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->local_port == tcphdr->dest &&
 264:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 265:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 266:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Move this PCB to the front of the list so that subsequent
 267:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          lookups will be faster (we exploit locality in TCP segment
 268:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          arrivals). */
 269:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: pcb->next != pcb (before cache)", pcb->next != pcb);
 270:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (prev != NULL) {
 271:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         prev->next = pcb->next;
 272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->next = tcp_active_pcbs;
 273:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_active_pcbs = pcb;
 274:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 275:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_STATS_INC(tcp.cachehit);
 276:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 277:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: pcb->next != pcb (after cache)", pcb->next != pcb);
 278:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
 279:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 280:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     prev = pcb;
 281:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 282:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 283:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (pcb == NULL) {
 284:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If it did not go to an active connection, we check the connections
 285:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        in the TIME-WAIT state. */
 286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     for (pcb = tcp_tw_pcbs; pcb != NULL; pcb = pcb->next) {
 287:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 288:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 289:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* check if PCB is bound to specific netif */
 290:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((pcb->netif_idx != NETIF_NO_INDEX) &&
 291:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           (pcb->netif_idx != netif_get_index(ip_data.current_input_netif))) {
 292:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         continue;
 293:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 294:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 295:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->remote_port == tcphdr->src &&
 296:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->local_port == tcphdr->dest &&
 297:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 298:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 299:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* We don't really care enough to move this PCB to the front
 300:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            of the list since we are not very likely to receive that
 301:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            many segments for connections in TIME-WAIT. */
 302:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: packed for TIME_WAITing connection.\n"));
 303:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #ifdef LWIP_HOOK_TCP_INPACKET_PCB
 304:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (LWIP_HOOK_TCP_INPACKET_PCB(pcb, tcphdr, tcphdr_optlen, tcphdr_opt1len,
 305:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                        tcphdr_opt2, p) == ERR_OK)
 306:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
 307:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         {
 308:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_timewait_input(pcb);
 309:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 310:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pbuf_free(p);
 311:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         return;
 312:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 313:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 314:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 315:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Finally, if we still did not get a match, we check all PCBs that
 316:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        are LISTENing for incoming connections. */
 317:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     prev = NULL;
 318:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     for (lpcb = tcp_listen_pcbs.listen_pcbs; lpcb != NULL; lpcb = lpcb->next) {
ARM GAS  /tmp/ccbjEDX3.s 			page 7


 319:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* check if PCB is bound to specific netif */
 320:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((lpcb->netif_idx != NETIF_NO_INDEX) &&
 321:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           (lpcb->netif_idx != netif_get_index(ip_data.current_input_netif))) {
 322:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         prev = (struct tcp_pcb *)lpcb;
 323:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         continue;
 324:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 325:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 326:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (lpcb->local_port == tcphdr->dest) {
 327:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (IP_IS_ANY_TYPE_VAL(lpcb->local_ip)) {
 328:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* found an ANY TYPE (IPv4/IPv6) match */
 329:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if SO_REUSE
 330:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           lpcb_any = lpcb;
 331:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           lpcb_prev = prev;
 332:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #else /* SO_REUSE */
 333:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           break;
 334:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* SO_REUSE */
 335:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else if (IP_ADDR_PCB_VERSION_MATCH_EXACT(lpcb, ip_current_dest_addr())) {
 336:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (ip_addr_cmp(&lpcb->local_ip, ip_current_dest_addr())) {
 337:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* found an exact match */
 338:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             break;
 339:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else if (ip_addr_isany(&lpcb->local_ip)) {
 340:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* found an ANY-match */
 341:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if SO_REUSE
 342:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             lpcb_any = lpcb;
 343:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             lpcb_prev = prev;
 344:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #else /* SO_REUSE */
 345:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             break;
 346:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* SO_REUSE */
 347:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 348:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 349:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 350:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       prev = (struct tcp_pcb *)lpcb;
 351:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 352:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if SO_REUSE
 353:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* first try specific local IP */
 354:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (lpcb == NULL) {
 355:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* only pass to ANY if no specific local IP has been found */
 356:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       lpcb = lpcb_any;
 357:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       prev = lpcb_prev;
 358:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 359:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* SO_REUSE */
 360:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (lpcb != NULL) {
 361:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Move this PCB to the front of the list so that subsequent
 362:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          lookups will be faster (we exploit locality in TCP segment
 363:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          arrivals). */
 364:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (prev != NULL) {
 365:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ((struct tcp_pcb_listen *)prev)->next = lpcb->next;
 366:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* our successor is the remainder of the listening list */
 367:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         lpcb->next = tcp_listen_pcbs.listen_pcbs;
 368:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* put this listening pcb at the head of the listening list */
 369:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_listen_pcbs.listen_pcbs = lpcb;
 370:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 371:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_STATS_INC(tcp.cachehit);
 372:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 373:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 374:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: packed for LISTENing connection.\n"));
 375:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #ifdef LWIP_HOOK_TCP_INPACKET_PCB
ARM GAS  /tmp/ccbjEDX3.s 			page 8


 376:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (LWIP_HOOK_TCP_INPACKET_PCB((struct tcp_pcb *)lpcb, tcphdr, tcphdr_optlen,
 377:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                      tcphdr_opt1len, tcphdr_opt2, p) == ERR_OK)
 378:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
 379:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       {
 380:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_listen_input(lpcb);
 381:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 382:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pbuf_free(p);
 383:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 384:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 385:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 386:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 387:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_INPUT_DEBUG
 388:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_DEBUGF(TCP_INPUT_DEBUG, ("+-+-+-+-+-+-+-+-+-+-+-+-+-+- tcp_input: flags "));
 389:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcp_debug_print_flags(TCPH_FLAGS(tcphdr));
 390:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_DEBUGF(TCP_INPUT_DEBUG, ("-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"));
 391:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_INPUT_DEBUG */
 392:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 393:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 394:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #ifdef LWIP_HOOK_TCP_INPACKET_PCB
 395:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((pcb != NULL) && LWIP_HOOK_TCP_INPACKET_PCB(pcb, tcphdr, tcphdr_optlen,
 396:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcphdr_opt1len, tcphdr_opt2, p) != ERR_OK) {
 397:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_free(p);
 398:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return;
 399:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 400:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
 401:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (pcb != NULL) {
 402:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* The incoming segment belongs to a connection. */
 403:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_INPUT_DEBUG
 404:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_debug_print_state(pcb->state);
 405:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_INPUT_DEBUG */
 406:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 407:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Set up a tcp_seg structure. */
 408:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.next = NULL;
 409:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.len = p->tot_len;
 410:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.p = p;
 411:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.tcphdr = tcphdr;
 412:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 413:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_data = NULL;
 414:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_flags = 0;
 415:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_acked = 0;
 416:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 417:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (flags & TCP_PSH) {
 418:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       p->flags |= PBUF_FLAG_PUSH;
 419:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 420:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 421:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If there is data which was previously "refused" by upper layer */
 422:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->refused_data != NULL) {
 423:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((tcp_process_refused_data(pcb) == ERR_ABRT) ||
 424:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ((pcb->refused_data != NULL) && (tcplen > 0))) {
 425:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* pcb has been aborted or refused data is still refused and the new
 426:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            segment contains data */
 427:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->rcv_ann_wnd == 0) {
 428:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* this is a zero-window probe, we respond to it with current RCV.NXT
 429:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           and drop the data segment */
 430:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_send_empty_ack(pcb);
 431:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 432:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_STATS_INC(tcp.drop);
ARM GAS  /tmp/ccbjEDX3.s 			page 9


 433:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         MIB2_STATS_INC(mib2.tcpinerrs);
 434:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         goto aborted;
 435:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 436:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 437:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_input_pcb = pcb;
 438:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     err = tcp_process(pcb);
 439:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* A return value of ERR_ABRT means that tcp_abort() was called
 440:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        and that the pcb has been freed. If so, we don't do anything. */
 441:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (err != ERR_ABRT) {
 442:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (recv_flags & TF_RESET) {
 443:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* TF_RESET means that the connection was reset by the other
 444:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            end. We then call the error callback to inform the
 445:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            application that the connection is dead before we
 446:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            deallocate the PCB. */
 447:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_EVENT_ERR(pcb->state, pcb->errf, pcb->callback_arg, ERR_RST);
 448:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_pcb_remove(&tcp_active_pcbs, pcb);
 449:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_free(pcb);
 450:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 451:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         err = ERR_OK;
 452:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If the application has registered a "sent" function to be
 453:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            called when new send buffer space is available, we call it
 454:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            now. */
 455:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (recv_acked > 0) {
 456:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           u16_t acked16;
 457:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_WND_SCALE
 458:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* recv_acked is u32_t but the sent callback only takes a u16_t,
 459:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              so we might have to call it multiple times. */
 460:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           u32_t acked = recv_acked;
 461:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           while (acked > 0) {
 462:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             acked16 = (u16_t)LWIP_MIN(acked, 0xffffu);
 463:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             acked -= acked16;
 464:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #else
 465:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           {
 466:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             acked16 = recv_acked;
 467:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
 468:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             TCP_EVENT_SENT(pcb, (u16_t)acked16, err);
 469:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 470:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               goto aborted;
 471:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 472:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 473:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           recv_acked = 0;
 474:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 475:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcp_input_delayed_close(pcb)) {
 476:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           goto aborted;
 477:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 478:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 479:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         while (recv_data != NULL) {
 480:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           struct pbuf *rest = NULL;
 481:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pbuf_split_64k(recv_data, &rest);
 482:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #else /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 483:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (recv_data != NULL) {
 484:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 485:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 486:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("pcb->refused_data == NULL", pcb->refused_data == NULL);
 487:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->flags & TF_RXCLOSED) {
 488:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* received data although already closed -> abort (send RST) to
 489:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                notify the remote host that not all data has been processed */
ARM GAS  /tmp/ccbjEDX3.s 			page 10


 490:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pbuf_free(recv_data);
 491:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 492:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (rest != NULL) {
 493:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_free(rest);
 494:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 495:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 496:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             tcp_abort(pcb);
 497:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             goto aborted;
 498:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 499:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 500:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Notify application that data has been received. */
 501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           TCP_EVENT_RECV(pcb, recv_data, ERR_OK, err);
 502:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err == ERR_ABRT) {
 503:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 504:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (rest != NULL) {
 505:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_free(rest);
 506:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 507:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 508:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             goto aborted;
 509:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 510:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 511:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* If the upper layer can't receive this data, store it */
 512:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err != ERR_OK) {
 513:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 514:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (rest != NULL) {
 515:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_cat(recv_data, rest);
 516:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 517:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 518:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->refused_data = recv_data;
 519:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: keep incoming packet, because pcb is \"full\"
 520:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 521:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             break;
 522:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else {
 523:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Upper layer received the data, go on with the rest if > 64K */
 524:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             recv_data = rest;
 525:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 526:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 527:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 528:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 529:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If a FIN segment was received, we call the callback
 530:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            function with a NULL buffer to indicate EOF. */
 531:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (recv_flags & TF_GOT_FIN) {
 532:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->refused_data != NULL) {
 533:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Delay this if we have refused data. */
 534:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->refused_data->flags |= PBUF_FLAG_TCP_FIN;
 535:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else {
 536:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* correct rcv_wnd as the application won't call tcp_recved()
 537:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                for the FIN's seqno */
 538:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (pcb->rcv_wnd != TCP_WND_MAX(pcb)) {
 539:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pcb->rcv_wnd++;
 540:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 541:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             TCP_EVENT_CLOSED(pcb, err);
 542:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 543:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               goto aborted;
 544:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 545:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 546:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
ARM GAS  /tmp/ccbjEDX3.s 			page 11


 547:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 548:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_input_pcb = NULL;
 549:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcp_input_delayed_close(pcb)) {
 550:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           goto aborted;
 551:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 552:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Try to send something out. */
 553:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_output(pcb);
 554:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_INPUT_DEBUG
 555:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_DEBUG
 556:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_debug_print_state(pcb->state);
 557:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_DEBUG */
 558:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_INPUT_DEBUG */
 559:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 560:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 561:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Jump target if pcb has been aborted in a callback (by calling tcp_abort()).
 562:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        Below this line, 'pcb' may not be dereferenced! */
 563:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** aborted:
 564:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_input_pcb = NULL;
 565:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_data = NULL;
 566:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 567:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* give up our reference to inseg.p */
 568:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (inseg.p != NULL) {
 569:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pbuf_free(inseg.p);
 570:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.p = NULL;
 571:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 572:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
 573:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If no matching PCB was found, send a TCP RST (reset) to the
 574:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        sender. */
 575:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_RST_DEBUG, ("tcp_input: no PCB match found, resetting.\n"));
 576:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (!(TCPH_FLAGS(tcphdr) & TCP_RST)) {
 577:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.proterr);
 578:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.drop);
 579:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_rst(NULL, ackno, seqno + tcplen, ip_current_dest_addr(),
 580:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 581:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 582:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_free(p);
 583:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 584:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 585:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_input: tcp_pcbs_sane()", tcp_pcbs_sane());
 586:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   PERF_STOP("tcp_input");
 587:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   return;
 588:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** dropped:
 589:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   TCP_STATS_INC(tcp.drop);
 590:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   MIB2_STATS_INC(mib2.tcpinerrs);
 591:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   pbuf_free(p);
 592:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 593:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 594:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /** Called from tcp_input to check for TF_CLOSED flag. This results in closing
 595:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * and deallocating a pcb at the correct place to ensure noone references it
 596:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * any more.
 597:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @returns 1 if the pcb has been closed and deallocated, 0 otherwise
 598:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 599:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static int
 600:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_input_delayed_close(struct tcp_pcb *pcb)
 601:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 602:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_input_delayed_close: invalid pcb", pcb != NULL);
 603:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
ARM GAS  /tmp/ccbjEDX3.s 			page 12


 604:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (recv_flags & TF_CLOSED) {
 605:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* The connection has been closed and we will deallocate the
 606:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         PCB. */
 607:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (!(pcb->flags & TF_RXCLOSED)) {
 608:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Connection closed although the application has only shut down the
 609:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tx side: call the PCB's err callback and indicate the closure to
 610:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ensure the application doesn't continue using the PCB. */
 611:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_EVENT_ERR(pcb->state, pcb->errf, pcb->callback_arg, ERR_CLSD);
 612:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 613:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_pcb_remove(&tcp_active_pcbs, pcb);
 614:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_free(pcb);
 615:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return 1;
 616:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 617:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   return 0;
 618:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 619:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 620:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
 621:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called by tcp_input() when a segment arrives for a listening
 622:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * connection (from tcp_input()).
 623:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 624:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param pcb the tcp_pcb_listen for which a segment arrived
 625:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 626:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @note the segment which arrived is saved in global variables, therefore only the pcb
 627:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *       involved is passed as a parameter to this function
 628:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 629:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void
 630:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_listen_input(struct tcp_pcb_listen *pcb)
 631:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 632:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *npcb;
 633:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u32_t iss;
 634:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t rc;
 635:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 636:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_RST) {
 637:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* An incoming RST should be ignored. Return. */
 638:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return;
 639:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 640:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 641:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_listen_input: invalid pcb", pcb != NULL);
 642:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 643:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* In the LISTEN state, we check for incoming SYN segments,
 644:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      creates a new PCB, and responds with a SYN|ACK. */
 645:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_ACK) {
 646:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* For incoming segments with the ACK flag set, respond with a
 647:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        RST. */
 648:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_RST_DEBUG, ("tcp_listen_input: ACK in LISTEN, sending reset\n"));
 649:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_rst((const struct tcp_pcb *)pcb, ackno, seqno + tcplen, ip_current_dest_addr(),
 650:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 651:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else if (flags & TCP_SYN) {
 652:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_DEBUG, ("TCP connection request %"U16_F" -> %"U16_F".\n", tcphdr->src, tcphdr->
 653:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_LISTEN_BACKLOG
 654:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->accepts_pending >= pcb->backlog) {
 655:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_listen_input: listen backlog exceeded for port %"U16_F"\n", tcph
 656:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 657:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 658:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_LISTEN_BACKLOG */
 659:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb = tcp_alloc(pcb->prio);
 660:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If a new PCB could not be created (probably due to lack of memory),
ARM GAS  /tmp/ccbjEDX3.s 			page 13


 661:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        we don't do anything, but rely on the sender will retransmit the
 662:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        SYN at a time when we have more memory available. */
 663:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (npcb == NULL) {
 664:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       err_t err;
 665:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_listen_input: could not allocate PCB\n"));
 666:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.memerr);
 667:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_EVENT_ACCEPT(pcb, NULL, pcb->callback_arg, ERR_MEM, err);
 668:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_UNUSED_ARG(err); /* err not useful here */
 669:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 670:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 671:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_LISTEN_BACKLOG
 672:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pcb->accepts_pending++;
 673:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_set_flags(npcb, TF_BACKLOGPEND);
 674:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_LISTEN_BACKLOG */
 675:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Set up the new PCB. */
 676:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     ip_addr_copy(npcb->local_ip, *ip_current_dest_addr());
 677:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     ip_addr_copy(npcb->remote_ip, *ip_current_src_addr());
 678:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->local_port = pcb->local_port;
 679:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->remote_port = tcphdr->src;
 680:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->state = SYN_RCVD;
 681:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->rcv_nxt = seqno + 1;
 682:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->rcv_ann_right_edge = npcb->rcv_nxt;
 683:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     iss = tcp_next_iss(npcb);
 684:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wl2 = iss;
 685:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_nxt = iss;
 686:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->lastack = iss;
 687:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_lbb = iss;
 688:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wl1 = seqno - 1;/* initialise to seqno-1 to force window update */
 689:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->callback_arg = pcb->callback_arg;
 690:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
 691:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->listener = pcb;
 692:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG */
 693:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* inherit socket options */
 694:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->so_options = pcb->so_options & SOF_INHERITED;
 695:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->netif_idx = pcb->netif_idx;
 696:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Register the new PCB so that we can begin receiving segments
 697:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        for it. */
 698:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     TCP_REG_ACTIVE(npcb);
 699:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 700:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Parse any options in the SYN. */
 701:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_parseopt(npcb);
 702:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wnd = tcphdr->wnd;
 703:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wnd_max = npcb->snd_wnd;
 704:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 705:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_CALCULATE_EFF_SEND_MSS
 706:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->mss = tcp_eff_send_mss(npcb->mss, &npcb->local_ip, &npcb->remote_ip);
 707:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
 708:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 709:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     MIB2_STATS_INC(mib2.tcppassiveopens);
 710:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 711:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_PCB_NUM_EXT_ARGS
 712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (tcp_ext_arg_invoke_callbacks_passive_open(pcb, npcb) != ERR_OK) {
 713:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_abandon(npcb, 0);
 714:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 715:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 716:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
 717:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
ARM GAS  /tmp/ccbjEDX3.s 			page 14


 718:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Send a SYN|ACK together with the MSS option. */
 719:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     rc = tcp_enqueue_flags(npcb, TCP_SYN | TCP_ACK);
 720:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (rc != ERR_OK) {
 721:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_abandon(npcb, 0);
 722:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 723:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 724:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_output(npcb);
 725:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 726:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   return;
 727:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 728:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 729:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
 730:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called by tcp_input() when a segment arrives for a connection in
 731:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * TIME_WAIT.
 732:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 733:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param pcb the tcp_pcb for which a segment arrived
 734:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 735:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @note the segment which arrived is saved in global variables, therefore only the pcb
 736:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *       involved is passed as a parameter to this function
 737:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 738:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void
 739:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_timewait_input(struct tcp_pcb *pcb)
 740:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 741:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* RFC 1337: in TIME_WAIT, ignore RST and ACK FINs + any 'acceptable' segments */
 742:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* RFC 793 3.9 Event Processing - Segment Arrives:
 743:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****    * - first check sequence number - we skip that one in TIME_WAIT (always
 744:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****    *   acceptable since we only send ACKs)
 745:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****    * - second check the RST bit (... return) */
 746:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_RST) {
 747:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return;
 748:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 749:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 750:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_timewait_input: invalid pcb", pcb != NULL);
 751:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 752:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* - fourth, check the SYN bit, */
 753:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_SYN) {
 754:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If an incoming segment is not acceptable, an acknowledgment
 755:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        should be sent in reply */
 756:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (TCP_SEQ_BETWEEN(seqno, pcb->rcv_nxt, pcb->rcv_nxt + pcb->rcv_wnd)) {
 757:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If the SYN is in the window it is an error, send a reset */
 758:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_rst(pcb, ackno, seqno + tcplen, ip_current_dest_addr(),
 759:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 760:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 761:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 762:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else if (flags & TCP_FIN) {
 763:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* - eighth, check the FIN bit: Remain in the TIME-WAIT state.
 764:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          Restart the 2 MSL time-wait timeout.*/
 765:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pcb->tmr = tcp_ticks;
 766:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 767:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 768:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((tcplen > 0)) {
 769:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Acknowledge data, FIN or out-of-window SYN */
 770:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_ack_now(pcb);
 771:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_output(pcb);
 772:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 773:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   return;
 774:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
ARM GAS  /tmp/ccbjEDX3.s 			page 15


 775:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 776:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
 777:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Implements the TCP state machine. Called by tcp_input. In some
 778:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * states tcp_receive() is called to receive data. The tcp_seg
 779:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * argument will be freed by the caller (tcp_input()) unless the
 780:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * recv_data pointer in the pcb is set.
 781:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 782:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param pcb the tcp_pcb for which a segment arrived
 783:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 784:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @note the segment which arrived is saved in global variables, therefore only the pcb
 785:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *       involved is passed as a parameter to this function
 786:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 787:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static err_t
 788:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_process(struct tcp_pcb *pcb)
 789:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 790:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *rseg;
 791:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u8_t acceptable = 0;
 792:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 793:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 794:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err = ERR_OK;
 795:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 796:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_process: invalid pcb", pcb != NULL);
 797:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 798:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Process incoming RST segments. */
 799:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_RST) {
 800:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* First, determine if the reset is acceptable. */
 801:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->state == SYN_SENT) {
 802:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* "In the SYN-SENT state (a RST received in response to an initial SYN),
 803:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           the RST is acceptable if the ACK field acknowledges the SYN." */
 804:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (ackno == pcb->snd_nxt) {
 805:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         acceptable = 1;
 806:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 807:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
 808:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* "In all states except SYN-SENT, all reset (RST) segments are validated
 809:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           by checking their SEQ-fields." */
 810:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (seqno == pcb->rcv_nxt) {
 811:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         acceptable = 1;
 812:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else  if (TCP_SEQ_BETWEEN(seqno, pcb->rcv_nxt,
 813:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   pcb->rcv_nxt + pcb->rcv_wnd)) {
 814:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If the sequence number is inside the window, we send a challenge ACK
 815:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            and wait for a re-send with matching sequence number.
 816:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            This follows RFC 5961 section 3.2 and addresses CVE-2004-0230
 817:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            (RST spoofing attack), which is present in RFC 793 RST handling. */
 818:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack_now(pcb);
 819:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 820:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 821:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 822:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (acceptable) {
 823:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_process: Connection RESET\n"));
 824:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: pcb->state != CLOSED", pcb->state != CLOSED);
 825:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       recv_flags |= TF_RESET;
 826:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_clear_flags(pcb, TF_ACK_DELAY);
 827:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return ERR_RST;
 828:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
 829:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_process: unacceptable reset seqno %"U32_F" rcv_nxt %"U32_F
 830:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     seqno, pcb->rcv_nxt));
 831:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_process: unacceptable reset seqno %"U32_F" rcv_nxt %"U32_F"\n",
ARM GAS  /tmp/ccbjEDX3.s 			page 16


 832:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                               seqno, pcb->rcv_nxt));
 833:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return ERR_OK;
 834:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 835:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 836:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 837:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((flags & TCP_SYN) && (pcb->state != SYN_SENT && pcb->state != SYN_RCVD)) {
 838:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Cope with new connection attempt after remote end crashed */
 839:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_ack_now(pcb);
 840:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return ERR_OK;
 841:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 842:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 843:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((pcb->flags & TF_RXCLOSED) == 0) {
 844:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Update the PCB (in)activity timer unless rx is closed (see tcp_shutdown) */
 845:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pcb->tmr = tcp_ticks;
 846:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 847:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   pcb->keep_cnt_sent = 0;
 848:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   pcb->persist_probe = 0;
 849:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 850:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcp_parseopt(pcb);
 851:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 852:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Do different things depending on the TCP state. */
 853:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   switch (pcb->state) {
 854:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     case SYN_SENT:
 855:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("SYN-SENT: ackno %"U32_F" pcb->snd_nxt %"U32_F" unacked %"U32_F
 856:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     pcb->snd_nxt, lwip_ntohl(pcb->unacked->tcphdr->seqno)));
 857:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* received SYN ACK with expected sequence number? */
 858:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((flags & TCP_ACK) && (flags & TCP_SYN)
 859:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           && (ackno == pcb->lastack + 1)) {
 860:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rcv_nxt = seqno + 1;
 861:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rcv_ann_right_edge = pcb->rcv_nxt;
 862:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->lastack = ackno;
 863:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->snd_wnd = tcphdr->wnd;
 864:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->snd_wnd_max = pcb->snd_wnd;
 865:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->snd_wl1 = seqno - 1; /* initialise to seqno - 1 to force window update */
 866:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = ESTABLISHED;
 867:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 868:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_CALCULATE_EFF_SEND_MSS
 869:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->mss = tcp_eff_send_mss(pcb->mss, &pcb->local_ip, &pcb->remote_ip);
 870:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
 871:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 872:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->cwnd = LWIP_TCP_CALC_INITIAL_CWND(pcb->mss);
 873:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SENT): cwnd %"TCPWNDSIZE_F
 874:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                      " ssthresh %"TCPWNDSIZE_F"\n",
 875:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                      pcb->cwnd, pcb->ssthresh));
 876:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("pcb->snd_queuelen > 0", (pcb->snd_queuelen > 0));
 877:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         --pcb->snd_queuelen;
 878:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_process: SYN-SENT --queuelen %"TCPWNDSIZE_F"\n", (tcpwnd_
 879:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         rseg = pcb->unacked;
 880:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (rseg == NULL) {
 881:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* might happen if tcp_output fails in tcp_rexmit_rto()
 882:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              in which case the segment is on the unsent list */
 883:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           rseg = pcb->unsent;
 884:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("no segment to free", rseg != NULL);
 885:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unsent = rseg->next;
 886:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else {
 887:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unacked = rseg->next;
 888:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
ARM GAS  /tmp/ccbjEDX3.s 			page 17


 889:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_seg_free(rseg);
 890:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 891:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If there's nothing left to acknowledge, stop the retransmit
 892:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            timer, otherwise reset it to start again */
 893:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->unacked == NULL) {
 894:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->rtime = -1;
 895:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else {
 896:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->rtime = 0;
 897:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->nrtx = 0;
 898:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 899:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 900:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Call the user specified function to call when successfully
 901:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          * connected. */
 902:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_EVENT_CONNECTED(pcb, ERR_OK, err);
 903:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (err == ERR_ABRT) {
 904:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           return ERR_ABRT;
 905:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 906:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack_now(pcb);
 907:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 908:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* received ACK? possibly a half-open connection */
 909:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       else if (flags & TCP_ACK) {
 910:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* send a RST to bring the other side in a non-synchronized state. */
 911:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_rst(pcb, ackno, seqno + tcplen, ip_current_dest_addr(),
 912:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 913:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Resend SYN immediately (don't wait for rto timeout) to establish
 914:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           connection faster, but do not send more SYNs than we otherwise would
 915:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           have, or we might get caught in a loop on loopback interfaces. */
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->nrtx < TCP_SYNMAXRTX) {
 917:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->rtime = 0;
 918:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_rexmit_rto(pcb);
 919:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 920:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 921:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
 922:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     case SYN_RCVD:
 923:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (flags & TCP_ACK) {
 924:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* expected ACK number? */
 925:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (TCP_SEQ_BETWEEN(ackno, pcb->lastack + 1, pcb->snd_nxt)) {
 926:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = ESTABLISHED;
 927:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_DEBUG, ("TCP connection established %"U16_F" -> %"U16_F".\n", inseg.tcphd
 928:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
 929:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->listener == NULL) {
 930:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* listen pcb might be closed by now */
 931:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             err = ERR_VAL;
 932:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else
 933:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG */
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           {
 935:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_CALLBACK_API
 936:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_ASSERT("pcb->listener->accept != NULL", pcb->listener->accept != NULL);
 937:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
 938:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             tcp_backlog_accepted(pcb);
 939:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Call the accept function. */
 940:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             TCP_EVENT_ACCEPT(pcb->listener, pcb, pcb->callback_arg, ERR_OK, err);
 941:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 942:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err != ERR_OK) {
 943:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* If the accept function returns with an error, we abort
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              * the connection. */
 945:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Already aborted? */
ARM GAS  /tmp/ccbjEDX3.s 			page 18


 946:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err != ERR_ABRT) {
 947:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_abort(pcb);
 948:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 949:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             return ERR_ABRT;
 950:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 951:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* If there was any data contained within this ACK,
 952:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            * we'd better pass it on to the application as well. */
 953:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_receive(pcb);
 954:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 955:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Prevent ACK for SYN to generate a sent event */
 956:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (recv_acked != 0) {
 957:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             recv_acked--;
 958:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 959:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->cwnd = LWIP_TCP_CALC_INITIAL_CWND(pcb->mss);
 961:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SYN_RCVD): cwnd %"TCPWNDSIZE_F
 962:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                        " ssthresh %"TCPWNDSIZE_F"\n",
 963:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                        pcb->cwnd, pcb->ssthresh));
 964:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 965:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (recv_flags & TF_GOT_FIN) {
 966:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             tcp_ack_now(pcb);
 967:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->state = CLOSE_WAIT;
 968:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 969:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else {
 970:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* incorrect ACK number, send RST */
 971:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_rst(pcb, ackno, seqno + tcplen, ip_current_dest_addr(),
 972:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 973:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 974:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else if ((flags & TCP_SYN) && (seqno == pcb->rcv_nxt - 1)) {
 975:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Looks like another copy of the SYN - retransmit our SYN-ACK */
 976:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_rexmit(pcb);
 977:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 978:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
 979:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     case CLOSE_WAIT:
 980:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* FALLTHROUGH */
 981:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     case ESTABLISHED:
 982:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_receive(pcb);
 983:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (recv_flags & TF_GOT_FIN) { /* passive close */
 984:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack_now(pcb);
 985:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = CLOSE_WAIT;
 986:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 987:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
 988:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     case FIN_WAIT_1:
 989:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_receive(pcb);
 990:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (recv_flags & TF_GOT_FIN) {
 991:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if ((flags & TCP_ACK) && (ackno == pcb->snd_nxt) &&
 992:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->unsent == NULL) {
 993:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_DEBUG,
 994:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       ("TCP connection closed: FIN_WAIT_1 %"U16_F" -> %"U16_F".\n", inseg.tcphdr->s
 995:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_ack_now(pcb);
 996:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_pcb_purge(pcb);
 997:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           TCP_RMV_ACTIVE(pcb);
 998:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = TIME_WAIT;
 999:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           TCP_REG(&tcp_tw_pcbs, pcb);
1000:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else {
1001:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_ack_now(pcb);
1002:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = CLOSING;
ARM GAS  /tmp/ccbjEDX3.s 			page 19


1003:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1004:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else if ((flags & TCP_ACK) && (ackno == pcb->snd_nxt) &&
1005:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  pcb->unsent == NULL) {
1006:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = FIN_WAIT_2;
1007:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1008:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
1009:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     case FIN_WAIT_2:
1010:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_receive(pcb);
1011:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (recv_flags & TF_GOT_FIN) {
1012:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: FIN_WAIT_2 %"U16_F" -> %"U16_F".\n", inseg.
1013:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack_now(pcb);
1014:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_pcb_purge(pcb);
1015:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_RMV_ACTIVE(pcb);
1016:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
1017:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_REG(&tcp_tw_pcbs, pcb);
1018:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1019:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
1020:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     case CLOSING:
1021:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_receive(pcb);
1022:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((flags & TCP_ACK) && ackno == pcb->snd_nxt && pcb->unsent == NULL) {
1023:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: CLOSING %"U16_F" -> %"U16_F".\n", inseg.tcp
1024:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_pcb_purge(pcb);
1025:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_RMV_ACTIVE(pcb);
1026:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
1027:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_REG(&tcp_tw_pcbs, pcb);
1028:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1029:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
1030:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     case LAST_ACK:
1031:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_receive(pcb);
1032:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((flags & TCP_ACK) && ackno == pcb->snd_nxt && pcb->unsent == NULL) {
1033:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: LAST_ACK %"U16_F" -> %"U16_F".\n", inseg.tc
1034:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* bugfix #21699: don't set pcb->state to CLOSED here or we risk leaking segments */
1035:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         recv_flags |= TF_CLOSED;
1036:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1037:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
1038:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     default:
1039:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
1040:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   return ERR_OK;
1042:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
1043:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1044:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ
1045:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
1046:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Insert segment into the list (segments covered with new one will be deleted)
1047:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
1048:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called from tcp_receive()
1049:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
1050:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void
1051:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_oos_insert_segment(struct tcp_seg *cseg, struct tcp_seg *next)
1052:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
1053:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *old_seg;
1054:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1055:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_oos_insert_segment: invalid cseg", cseg != NULL);
1056:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1057:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (TCPH_FLAGS(cseg->tcphdr) & TCP_FIN) {
1058:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* received segment overlaps all following segments */
1059:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_segs_free(next);
ARM GAS  /tmp/ccbjEDX3.s 			page 20


1060:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     next = NULL;
1061:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
1062:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* delete some following segments
1063:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        oos queue may have segments with FIN flag */
1064:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     while (next &&
1065:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            TCP_SEQ_GEQ((seqno + cseg->len),
1066:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                        (next->tcphdr->seqno + next->len))) {
1067:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* cseg with FIN already processed */
1068:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (TCPH_FLAGS(next->tcphdr) & TCP_FIN) {
1069:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCPH_SET_FLAG(cseg->tcphdr, TCP_FIN);
1070:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1071:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       old_seg = next;
1072:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       next = next->next;
1073:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_seg_free(old_seg);
1074:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1075:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (next &&
1076:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_SEQ_GT(seqno + cseg->len, next->tcphdr->seqno)) {
1077:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We need to trim the incoming segment. */
1078:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       cseg->len = (u16_t)(next->tcphdr->seqno - seqno);
1079:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pbuf_realloc(cseg->p, cseg->len);
1080:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1081:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
1082:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   cseg->next = next;
1083:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
1084:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ */
1085:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1086:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /** Remove segments from a list if the incoming ACK acknowledges them */
1087:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static struct tcp_seg *
1088:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_free_acked_segments(struct tcp_pcb *pcb, struct tcp_seg *seg_list, const char *dbg_list_name,
1089:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                         struct tcp_seg *dbg_other_seg_list)
1090:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
1091:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *next;
1092:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u16_t clen;
1093:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1094:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_UNUSED_ARG(dbg_list_name);
1095:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_UNUSED_ARG(dbg_other_seg_list);
1096:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1097:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   while (seg_list != NULL &&
1098:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          TCP_SEQ_LEQ(lwip_ntohl(seg_list->tcphdr->seqno) +
1099:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      TCP_TCPLEN(seg_list), ackno)) {
1100:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: removing %"U32_F":%"U32_F" from pcb->%s\n",
1101:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   lwip_ntohl(seg_list->tcphdr->seqno),
1102:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   lwip_ntohl(seg_list->tcphdr->seqno) + TCP_TCPLEN(seg_list),
1103:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   dbg_list_name));
1104:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1105:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     next = seg_list;
1106:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     seg_list = seg_list->next;
1107:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1108:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     clen = pbuf_clen(next->p);
1109:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_receive: queuelen %"TCPWNDSIZE_F" ... ",
1110:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                  (tcpwnd_size_t)pcb->snd_queuelen));
1111:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("pcb->snd_queuelen >= pbuf_clen(next->p)", (pcb->snd_queuelen >= clen));
1112:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1113:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pcb->snd_queuelen = (u16_t)(pcb->snd_queuelen - clen);
1114:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_acked = (tcpwnd_size_t)(recv_acked + next->len);
1115:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_seg_free(next);
1116:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
ARM GAS  /tmp/ccbjEDX3.s 			page 21


1117:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_QLEN_DEBUG, ("%"TCPWNDSIZE_F" (after freeing %s)\n",
1118:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                  (tcpwnd_size_t)pcb->snd_queuelen,
1119:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                  dbg_list_name));
1120:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->snd_queuelen != 0) {
1121:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_receive: valid queue length",
1122:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   seg_list != NULL || dbg_other_seg_list != NULL);
1123:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1124:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
1125:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   return seg_list;
1126:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
1127:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1128:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
1129:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called by tcp_process. Checks if the given segment is an ACK for outstanding
1130:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * data, and if so frees the memory of the buffered data. Next, it places the
1131:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * segment on any of the receive queues (pcb->recved or pcb->ooseq). If the segment
1132:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * is buffered, the pbuf is referenced by pbuf_ref so that it will not be freed until
1133:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * it has been removed from the buffer.
1134:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
1135:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * If the incoming segment constitutes an ACK for a segment that was used for RTT
1136:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * estimation, the RTT is estimated here as well.
1137:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
1138:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called from tcp_process().
1139:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
1140:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void
1141:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_receive(struct tcp_pcb *pcb)
1142:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
1143:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   s16_t m;
1144:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u32_t right_wnd_edge;
1145:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   int found_dupack = 0;
1146:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1147:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_receive: invalid pcb", pcb != NULL);
1148:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_receive: wrong state", pcb->state >= ESTABLISHED);
1149:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1150:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_ACK) {
1151:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     right_wnd_edge = pcb->snd_wnd + pcb->snd_wl2;
1152:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1153:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Update window. */
1154:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (TCP_SEQ_LT(pcb->snd_wl1, seqno) ||
1155:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         (pcb->snd_wl1 == seqno && TCP_SEQ_LT(pcb->snd_wl2, ackno)) ||
1156:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         (pcb->snd_wl2 == ackno && (u32_t)SND_WND_SCALE(pcb, tcphdr->wnd) > pcb->snd_wnd)) {
1157:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd = SND_WND_SCALE(pcb, tcphdr->wnd);
1158:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* keep track of the biggest window announced by the remote host to calculate
1159:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          the maximum segment size */
1160:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->snd_wnd_max < pcb->snd_wnd) {
1161:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->snd_wnd_max = pcb->snd_wnd;
1162:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1163:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wl1 = seqno;
1164:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wl2 = ackno;
1165:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_WND_DEBUG, ("tcp_receive: window update %"TCPWNDSIZE_F"\n", pcb->snd_wnd));
1166:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_WND_DEBUG
1167:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
1168:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->snd_wnd != (tcpwnd_size_t)SND_WND_SCALE(pcb, tcphdr->wnd)) {
1169:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_WND_DEBUG,
1170:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     ("tcp_receive: no window update lastack %"U32_F" ackno %"
1171:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      U32_F" wl1 %"U32_F" seqno %"U32_F" wl2 %"U32_F"\n",
1172:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      pcb->lastack, ackno, pcb->snd_wl1, seqno, pcb->snd_wl2));
1173:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
ARM GAS  /tmp/ccbjEDX3.s 			page 22


1174:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_WND_DEBUG */
1175:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1176:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1177:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* (From Stevens TCP/IP Illustrated Vol II, p970.) Its only a
1178:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * duplicate ack if:
1179:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * 1) It doesn't ACK new data
1180:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * 2) length of received packet is zero (i.e. no payload)
1181:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * 3) the advertised window hasn't changed
1182:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * 4) There is outstanding unacknowledged data (retransmission timer running)
1183:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * 5) The ACK is == biggest ACK sequence number so far seen (snd_una)
1184:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      *
1185:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * If it passes all five, should process as a dupack:
1186:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * a) dupacks < 3: do nothing
1187:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * b) dupacks == 3: fast retransmit
1188:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * c) dupacks > 3: increase cwnd
1189:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      *
1190:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * If it only passes 1-3, should reset dupack counter (and add to
1191:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * stats, which we don't do in lwIP)
1192:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      *
1193:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * If it only passes 1, should reset dupack counter
1194:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      *
1195:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      */
1196:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1197:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Clause 1 */
1198:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (TCP_SEQ_LEQ(ackno, pcb->lastack)) {
1199:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Clause 2 */
1200:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (tcplen == 0) {
1201:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Clause 3 */
1202:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->snd_wl2 + pcb->snd_wnd == right_wnd_edge) {
1203:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Clause 4 */
1204:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->rtime >= 0) {
1205:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Clause 5 */
1206:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (pcb->lastack == ackno) {
1207:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               found_dupack = 1;
1208:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if ((u8_t)(pcb->dupacks + 1) > pcb->dupacks) {
1209:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 ++pcb->dupacks;
1210:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1211:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (pcb->dupacks > 3) {
1212:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* Inflate the congestion window */
1213:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 TCP_WND_INC(pcb->cwnd, pcb->mss);
1214:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1215:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (pcb->dupacks >= 3) {
1216:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* Do fast retransmit (checked via TF_INFR, not via dupacks count) */
1217:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 tcp_rexmit_fast(pcb);
1218:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1219:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1220:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1221:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1222:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If Clause (1) or more is true, but not a duplicate ack, reset
1224:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        * count of consecutive duplicate acks */
1225:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (!found_dupack) {
1226:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->dupacks = 0;
1227:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1228:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else if (TCP_SEQ_BETWEEN(ackno, pcb->lastack + 1, pcb->snd_nxt)) {
1229:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We come here when the ACK acknowledges new data. */
1230:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcpwnd_size_t acked;
ARM GAS  /tmp/ccbjEDX3.s 			page 23


1231:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1232:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Reset the "IN Fast Retransmit" flag, since we are no longer
1233:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          in fast retransmit. Also reset the congestion window to the
1234:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          slow start threshold. */
1235:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->flags & TF_INFR) {
1236:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_clear_flags(pcb, TF_INFR);
1237:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->cwnd = pcb->ssthresh;
1238:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->bytes_acked = 0;
1239:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1240:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1241:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Reset the number of retransmissions. */
1242:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->nrtx = 0;
1243:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1244:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Reset the retransmission time-out. */
1245:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rto = (s16_t)((pcb->sa >> 3) + pcb->sv);
1246:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1247:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Record how much data this ACK acks */
1248:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       acked = (tcpwnd_size_t)(ackno - pcb->lastack);
1249:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1250:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Reset the fast retransmit variables. */
1251:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->dupacks = 0;
1252:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->lastack = ackno;
1253:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1254:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Update the congestion control variables (cwnd and
1255:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          ssthresh). */
1256:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->state >= ESTABLISHED) {
1257:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->cwnd < pcb->ssthresh) {
1258:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcpwnd_size_t increase;
1259:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* limit to 1 SMSS segment during period following RTO */
1260:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           u8_t num_seg = (pcb->flags & TF_RTO) ? 1 : 2;
1261:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* RFC 3465, section 2.2 Slow Start */
1262:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           increase = LWIP_MIN(acked, (tcpwnd_size_t)(num_seg * pcb->mss));
1263:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           TCP_WND_INC(pcb->cwnd, increase);
1264:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_receive: slow start cwnd %"TCPWNDSIZE_F"\n", pcb->cwnd)
1265:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else {
1266:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* RFC 3465, section 2.1 Congestion Avoidance */
1267:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           TCP_WND_INC(pcb->bytes_acked, acked);
1268:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->bytes_acked >= pcb->cwnd) {
1269:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->bytes_acked = (tcpwnd_size_t)(pcb->bytes_acked - pcb->cwnd);
1270:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             TCP_WND_INC(pcb->cwnd, pcb->mss);
1271:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_receive: congestion avoidance cwnd %"TCPWNDSIZE_F"\n", 
1273:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1274:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1275:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: ACK for %"U32_F", unacked->seqno %"U32_F":%"U32_F
1276:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     ackno,
1277:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     pcb->unacked != NULL ?
1278:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     lwip_ntohl(pcb->unacked->tcphdr->seqno) : 0,
1279:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     pcb->unacked != NULL ?
1280:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     lwip_ntohl(pcb->unacked->tcphdr->seqno) + TCP_TCPLEN(pcb->unack
1281:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1282:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Remove segment from the unacknowledged list if the incoming
1283:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          ACK acknowledges them. */
1284:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->unacked = tcp_free_acked_segments(pcb, pcb->unacked, "unacked", pcb->unsent);
1285:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We go through the ->unsent list to see if any of the segments
1286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          on the list are acknowledged by the ACK. This may seem
1287:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          strange since an "unsent" segment shouldn't be acked. The
ARM GAS  /tmp/ccbjEDX3.s 			page 24


1288:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          rationale is that lwIP puts all outstanding segments on the
1289:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          ->unsent list after a retransmission, so these segments may
1290:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          in fact have been sent once. */
1291:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->unsent = tcp_free_acked_segments(pcb, pcb->unsent, "unsent", pcb->unacked);
1292:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1293:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If there's nothing left to acknowledge, stop the retransmit
1294:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          timer, otherwise reset it to start again */
1295:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->unacked == NULL) {
1296:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = -1;
1297:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
1298:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = 0;
1299:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1300:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1301:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->polltmr = 0;
1302:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1303:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OVERSIZE
1304:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->unsent == NULL) {
1305:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unsent_oversize = 0;
1306:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1307:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_OVERSIZE */
1308:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1309:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_IPV6 && LWIP_ND6_TCP_REACHABILITY_HINTS
1310:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (ip_current_is_v6()) {
1311:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Inform neighbor reachability of forward progress. */
1312:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         nd6_reachability_hint(ip6_current_src_addr());
1313:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1314:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_IPV6 && LWIP_ND6_TCP_REACHABILITY_HINTS*/
1315:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1316:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_buf = (tcpwnd_size_t)(pcb->snd_buf + recv_acked);
1317:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* check if this ACK ends our retransmission of in-flight data */
1318:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->flags & TF_RTO) {
1319:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* RTO is done if
1320:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             1) both queues are empty or
1321:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             2) unacked is empty and unsent head contains data not part of RTO or
1322:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             3) unacked head contains data not part of RTO */
1323:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->unacked == NULL) {
1324:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if ((pcb->unsent == NULL) ||
1325:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               (TCP_SEQ_LEQ(pcb->rto_end, lwip_ntohl(pcb->unsent->tcphdr->seqno)))) {
1326:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             tcp_clear_flags(pcb, TF_RTO);
1327:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1328:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else if (TCP_SEQ_LEQ(pcb->rto_end, lwip_ntohl(pcb->unacked->tcphdr->seqno))) {
1329:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_clear_flags(pcb, TF_RTO);
1330:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1331:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1332:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* End of ACK for new data processing. */
1333:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
1334:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Out of sequence ACK, didn't really ack anything */
1335:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_send_empty_ack(pcb);
1336:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1337:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1338:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_RTO_DEBUG, ("tcp_receive: pcb->rttest %"U32_F" rtseq %"U32_F" ackno %"U32_F"\n"
1339:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                 pcb->rttest, pcb->rtseq, ackno));
1340:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1341:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* RTT estimation calculations. This is done by checking if the
1342:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        incoming segment acknowledges the segment we use to take a
1343:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        round-trip time measurement. */
1344:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->rttest && TCP_SEQ_LT(pcb->rtseq, ackno)) {
ARM GAS  /tmp/ccbjEDX3.s 			page 25


1345:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* diff between this shouldn't exceed 32K since this are tcp timer ticks
1346:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          and a round-trip shouldn't be that long... */
1347:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       m = (s16_t)(tcp_ticks - pcb->rttest);
1348:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1349:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_RTO_DEBUG, ("tcp_receive: experienced rtt %"U16_F" ticks (%"U16_F" msec).\n",
1350:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   m, (u16_t)(m * TCP_SLOW_INTERVAL)));
1351:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1352:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* This is taken directly from VJs original code in his paper */
1353:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       m = (s16_t)(m - (pcb->sa >> 3));
1354:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->sa = (s16_t)(pcb->sa + m);
1355:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (m < 0) {
1356:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         m = (s16_t) - m;
1357:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1358:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       m = (s16_t)(m - (pcb->sv >> 2));
1359:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->sv = (s16_t)(pcb->sv + m);
1360:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rto = (s16_t)((pcb->sa >> 3) + pcb->sv);
1361:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1362:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_RTO_DEBUG, ("tcp_receive: RTO %"U16_F" (%"U16_F" milliseconds)\n",
1363:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   pcb->rto, (u16_t)(pcb->rto * TCP_SLOW_INTERVAL)));
1364:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1365:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rttest = 0;
1366:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1367:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
1368:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1369:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* If the incoming segment contains data, we must process it
1370:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      further unless the pcb already received a FIN.
1371:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      (RFC 793, chapter 3.9, "SEGMENT ARRIVES" in states CLOSE-WAIT, CLOSING,
1372:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      LAST-ACK and TIME-WAIT: "Ignore the segment text.") */
1373:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((tcplen > 0) && (pcb->state < CLOSE_WAIT)) {
1374:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* This code basically does three things:
1375:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1376:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     +) If the incoming segment contains data that is the next
1377:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     in-sequence data, this data is passed to the application. This
1378:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     might involve trimming the first edge of the data. The rcv_nxt
1379:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     variable and the advertised window are adjusted.
1380:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1381:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     +) If the incoming segment has data that is above the next
1382:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     sequence number expected (->rcv_nxt), the segment is placed on
1383:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     the ->ooseq queue. This is done by finding the appropriate
1384:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     place in the ->ooseq queue (which is ordered by sequence
1385:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     number) and trim the segment in both ends if needed. An
1386:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     immediate ACK is sent to indicate that we received an
1387:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     out-of-sequence segment.
1388:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1389:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     +) Finally, we check if the first segment on the ->ooseq queue
1390:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     now is in sequence (i.e., if rcv_nxt >= ooseq->seqno). If
1391:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     rcv_nxt > ooseq->seqno, we must trim the first edge of the
1392:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     segment on ->ooseq before we adjust rcv_nxt. The data in the
1393:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     segments that are now on sequence are chained onto the
1394:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     incoming segment so that we only need to call the application
1395:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     once.
1396:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     */
1397:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1398:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* First, we check if we must trim the first edge. We have to do
1399:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        this if the sequence number of the incoming segment is less
1400:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        than rcv_nxt, and the sequence number plus the length of the
1401:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        segment is larger than rcv_nxt. */
ARM GAS  /tmp/ccbjEDX3.s 			page 26


1402:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /*    if (TCP_SEQ_LT(seqno, pcb->rcv_nxt)) {
1403:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCP_SEQ_LT(pcb->rcv_nxt, seqno + tcplen)) {*/
1404:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (TCP_SEQ_BETWEEN(pcb->rcv_nxt, seqno + 1, seqno + tcplen - 1)) {
1405:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Trimming the first edge is done by pushing the payload
1406:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          pointer in the pbuf downwards. This is somewhat tricky since
1407:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          we do not want to discard the full contents of the pbuf up to
1408:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          the new starting point of the data since we have to keep the
1409:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          TCP header which is present in the first pbuf in the chain.
1410:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1411:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          What is done is really quite a nasty hack: the first pbuf in
1412:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          the pbuf chain is pointed to by inseg.p. Since we need to be
1413:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          able to deallocate the whole pbuf, we cannot change this
1414:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          inseg.p pointer to point to any of the later pbufs in the
1415:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          chain. Instead, we point the ->payload pointer in the first
1416:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          pbuf to data in one of the later pbufs. We also set the
1417:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          inseg.data pointer to point to the right place. This way, the
1418:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          ->p pointer will still point to the first pbuf, but the
1419:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          ->p->payload pointer will point to data in another pbuf.
1420:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1421:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          After we are done with adjusting the pbuf pointers we must
1422:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          adjust the ->data pointer in the seg and the segment
1423:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          length.*/
1424:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1425:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       struct pbuf *p = inseg.p;
1426:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       u32_t off32 = pcb->rcv_nxt - seqno;
1427:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       u16_t new_tot_len, off;
1428:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("inseg.p != NULL", inseg.p);
1429:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("insane offset!", (off32 < 0xffff));
1430:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       off = (u16_t)off32;
1431:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("pbuf too short!", (((s32_t)inseg.p->tot_len) >= off));
1432:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.len -= off;
1433:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       new_tot_len = (u16_t)(inseg.p->tot_len - off);
1434:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       while (p->len < off) {
1435:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         off -= p->len;
1436:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* all pbufs up to and including this one have len==0, so tot_len is equal */
1437:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         p->tot_len = new_tot_len;
1438:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         p->len = 0;
1439:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         p = p->next;
1440:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1441:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* cannot fail... */
1442:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pbuf_remove_header(p, off);
1443:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.tcphdr->seqno = seqno = pcb->rcv_nxt;
1444:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
1445:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (TCP_SEQ_LT(seqno, pcb->rcv_nxt)) {
1446:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* the whole segment is < rcv_nxt */
1447:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* must be a duplicate of a packet that has already been correctly handled */
1448:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1449:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: duplicate seqno %"U32_F"\n", seqno));
1450:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack_now(pcb);
1451:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1452:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1453:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1454:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* The sequence number must be within the window (above rcv_nxt
1455:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        and below rcv_nxt + rcv_wnd) in order to be further
1456:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        processed. */
1457:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (TCP_SEQ_BETWEEN(seqno, pcb->rcv_nxt,
1458:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                         pcb->rcv_nxt + pcb->rcv_wnd - 1)) {
ARM GAS  /tmp/ccbjEDX3.s 			page 27


1459:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->rcv_nxt == seqno) {
1460:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* The incoming segment is the next in sequence. We check if
1461:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            we have to trim the end of the segment and update rcv_nxt
1462:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            and pass the data to the application. */
1463:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcplen = TCP_TCPLEN(&inseg);
1464:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1465:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcplen > pcb->rcv_wnd) {
1466:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG,
1467:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       ("tcp_receive: other end overran receive window"
1468:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                        "seqno %"U32_F" len %"U16_F" right edge %"U32_F"\n",
1469:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                        seqno, tcplen, pcb->rcv_nxt + pcb->rcv_wnd));
1470:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(inseg.tcphdr) & TCP_FIN) {
1471:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Must remove the FIN from the header as we're trimming
1472:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              * that byte of sequence-space from the packet */
1473:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             TCPH_FLAGS_SET(inseg.tcphdr, TCPH_FLAGS(inseg.tcphdr) & ~(unsigned int)TCP_FIN);
1474:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1475:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Adjust length of segment to fit in the window. */
1476:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           TCPWND_CHECK16(pcb->rcv_wnd);
1477:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           inseg.len = (u16_t)pcb->rcv_wnd;
1478:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) {
1479:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             inseg.len -= 1;
1480:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1481:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pbuf_realloc(inseg.p, inseg.len);
1482:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcplen = TCP_TCPLEN(&inseg);
1483:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
1484:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
1485:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1486:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ
1487:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Received in-sequence data, adjust ooseq data if:
1488:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            - FIN has been received or
1489:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            - inseq overlaps with ooseq */
1490:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->ooseq != NULL) {
1491:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(inseg.tcphdr) & TCP_FIN) {
1492:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG,
1493:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                         ("tcp_receive: received in-order FIN, binning ooseq queue\n"));
1494:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Received in-order FIN means anything that was received
1495:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              * out of order must now have been received in-order, so
1496:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              * bin the ooseq queue */
1497:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             while (pcb->ooseq != NULL) {
1498:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               struct tcp_seg *old_ooseq = pcb->ooseq;
1499:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pcb->ooseq = pcb->ooseq->next;
1500:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_seg_free(old_ooseq);
1501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1502:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else {
1503:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             struct tcp_seg *next = pcb->ooseq;
1504:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Remove all segments on ooseq that are covered by inseg already.
1505:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              * FIN is copied from ooseq to inseg if present. */
1506:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             while (next &&
1507:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    TCP_SEQ_GEQ(seqno + tcplen,
1508:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                next->tcphdr->seqno + next->len)) {
1509:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               struct tcp_seg *tmp;
1510:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* inseg cannot have FIN here (already processed above) */
1511:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if ((TCPH_FLAGS(next->tcphdr) & TCP_FIN) != 0 &&
1512:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) == 0) {
1513:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 TCPH_SET_FLAG(inseg.tcphdr, TCP_FIN);
1514:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 tcplen = TCP_TCPLEN(&inseg);
1515:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
ARM GAS  /tmp/ccbjEDX3.s 			page 28


1516:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tmp = next;
1517:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               next = next->next;
1518:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_seg_free(tmp);
1519:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1520:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Now trim right side of inseg if it overlaps with the first
1521:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              * segment on ooseq */
1522:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (next &&
1523:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 TCP_SEQ_GT(seqno + tcplen,
1524:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                            next->tcphdr->seqno)) {
1525:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* inseg cannot have FIN here (already processed above) */
1526:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               inseg.len = (u16_t)(next->tcphdr->seqno - seqno);
1527:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) {
1528:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 inseg.len -= 1;
1529:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1530:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_realloc(inseg.p, inseg.len);
1531:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcplen = TCP_TCPLEN(&inseg);
1532:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               LWIP_ASSERT("tcp_receive: segment not trimmed correctly to ooseq queue\n",
1533:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                           (seqno + tcplen) == next->tcphdr->seqno);
1534:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1535:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->ooseq = next;
1536:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1537:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1538:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ */
1539:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1540:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rcv_nxt = seqno + tcplen;
1541:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1542:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Update the receiver's (our) window. */
1543:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("tcp_receive: tcplen > rcv_wnd\n", pcb->rcv_wnd >= tcplen);
1544:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rcv_wnd -= tcplen;
1545:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1546:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_update_rcv_ann_wnd(pcb);
1547:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1548:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If there is data in the segment, we make preparations to
1549:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            pass this up to the application. The ->recv_data variable
1550:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            is used for holding the pbuf that goes to the
1551:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            application. The code for reassembling out-of-sequence data
1552:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            chains its data on this pbuf as well.
1553:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1554:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            If the segment was a FIN, we set the TF_GOT_FIN flag that will
1555:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            be used to indicate to the application that the remote side has
1556:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            closed its end of the connection. */
1557:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (inseg.p->tot_len > 0) {
1558:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           recv_data = inseg.p;
1559:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Since this pbuf now is the responsibility of the
1560:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              application, we delete our reference to it so that we won't
1561:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              (mistakingly) deallocate it. */
1562:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           inseg.p = NULL;
1563:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1564:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (TCPH_FLAGS(inseg.tcphdr) & TCP_FIN) {
1565:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: received FIN.\n"));
1566:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           recv_flags |= TF_GOT_FIN;
1567:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1568:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1569:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ
1570:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* We now check if we have segments on the ->ooseq queue that
1571:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            are now in sequence. */
1572:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         while (pcb->ooseq != NULL &&
ARM GAS  /tmp/ccbjEDX3.s 			page 29


1573:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->ooseq->tcphdr->seqno == pcb->rcv_nxt) {
1574:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1575:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           struct tcp_seg *cseg = pcb->ooseq;
1576:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           seqno = pcb->ooseq->tcphdr->seqno;
1577:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1578:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->rcv_nxt += TCP_TCPLEN(cseg);
1579:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: ooseq tcplen > rcv_wnd\n",
1580:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
1581:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->rcv_wnd -= TCP_TCPLEN(cseg);
1582:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1583:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_update_rcv_ann_wnd(pcb);
1584:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1585:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (cseg->p->tot_len > 0) {
1586:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Chain this pbuf onto the pbuf that we will pass to
1587:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                the application. */
1588:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* With window scaling, this can overflow recv_data->tot_len, but
1589:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                that's not a problem since we explicitly fix that before passing
1590:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                recv_data to the application. */
1591:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (recv_data) {
1592:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_cat(recv_data, cseg->p);
1593:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             } else {
1594:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               recv_data = cseg->p;
1595:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1596:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             cseg->p = NULL;
1597:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1598:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(cseg->tcphdr) & TCP_FIN) {
1599:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: dequeued FIN.\n"));
1600:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             recv_flags |= TF_GOT_FIN;
1601:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (pcb->state == ESTABLISHED) { /* force passive close or we can move to active close 
1602:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pcb->state = CLOSE_WAIT;
1603:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1604:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1605:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1606:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->ooseq = cseg->next;
1607:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_seg_free(cseg);
1608:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1609:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_SACK_OUT
1610:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->flags & TF_SACK) {
1611:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->ooseq != NULL) {
1612:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Some segments may have been removed from ooseq, let's remove all SACKs that
1613:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                describe anything before the new beginning of that list. */
1614:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             tcp_remove_sacks_lt(pcb, pcb->ooseq->tcphdr->seqno);
1615:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else if (LWIP_TCP_SACK_VALID(pcb, 0)) {
1616:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* ooseq has been cleared. Nothing to SACK */
1617:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             memset(pcb->rcv_sacks, 0, sizeof(pcb->rcv_sacks));
1618:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1619:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1620:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_TCP_SACK_OUT */
1621:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ */
1622:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1623:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1624:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Acknowledge the segment(s). */
1625:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack(pcb);
1626:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1627:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_SACK_OUT
1628:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (LWIP_TCP_SACK_VALID(pcb, 0)) {
1629:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Normally the ACK for the data received could be piggy-backed on a data packet,
ARM GAS  /tmp/ccbjEDX3.s 			page 30


1630:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              but lwIP currently does not support including SACKs in data packets. So we force
1631:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              it to respond with an empty ACK packet (only if there is at least one SACK to be sent)
1632:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              NOTE: tcp_send_empty_ack() on success clears the ACK flags (set by tcp_ack()) */
1633:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_send_empty_ack(pcb);
1634:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1635:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_TCP_SACK_OUT */
1636:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1637:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_IPV6 && LWIP_ND6_TCP_REACHABILITY_HINTS
1638:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (ip_current_is_v6()) {
1639:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Inform neighbor reachability of forward progress. */
1640:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           nd6_reachability_hint(ip6_current_src_addr());
1641:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1642:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_IPV6 && LWIP_ND6_TCP_REACHABILITY_HINTS*/
1643:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1644:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
1645:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* We get here if the incoming segment is out-of-sequence. */
1646:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1647:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ
1648:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* We queue the segment on the ->ooseq queue. */
1649:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->ooseq == NULL) {
1650:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->ooseq = tcp_seg_copy(&inseg);
1651:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_SACK_OUT
1652:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->flags & TF_SACK) {
1653:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* All the SACKs should be invalid, so we can simply store the most recent one: */
1654:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->rcv_sacks[0].left = seqno;
1655:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->rcv_sacks[0].right = seqno + inseg.len;
1656:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1657:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_TCP_SACK_OUT */
1658:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else {
1659:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* If the queue is not empty, we walk through the queue and
1660:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              try to find a place where the sequence number of the
1661:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              incoming segment is between the sequence numbers of the
1662:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              previous and the next segment on the ->ooseq queue. That is
1663:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              the place where we put the incoming segment. If needed, we
1664:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              trim the second edges of the previous and the incoming
1665:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              segment so that it will fit into the sequence.
1666:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1667:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              If the incoming segment has the same sequence number as a
1668:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              segment on the ->ooseq queue, we discard the segment that
1669:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              contains less data. */
1670:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1671:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_SACK_OUT
1672:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* This is the left edge of the lowest possible SACK range.
1673:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              It may start before the newly received segment (possibly adjusted below). */
1674:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           u32_t sackbeg = TCP_SEQ_LT(seqno, pcb->ooseq->tcphdr->seqno) ? seqno : pcb->ooseq->tcphdr
1675:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_TCP_SACK_OUT */
1676:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           struct tcp_seg *next, *prev = NULL;
1677:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           for (next = pcb->ooseq; next != NULL; next = next->next) {
1678:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (seqno == next->tcphdr->seqno) {
1679:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* The sequence number of the incoming segment is the
1680:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  same as the sequence number of the segment on
1681:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  ->ooseq. We check the lengths to see which one to
1682:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  discard. */
1683:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (inseg.len > next->len) {
1684:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* The incoming segment is larger than the old
1685:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    segment. We replace some segments with the new
1686:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    one. */
ARM GAS  /tmp/ccbjEDX3.s 			page 31


1687:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 struct tcp_seg *cseg = tcp_seg_copy(&inseg);
1688:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (cseg != NULL) {
1689:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (prev != NULL) {
1690:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     prev->next = cseg;
1691:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   } else {
1692:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pcb->ooseq = cseg;
1693:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
1694:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   tcp_oos_insert_segment(cseg, next);
1695:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1696:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 break;
1697:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               } else {
1698:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* Either the lengths are the same or the incoming
1699:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    segment was smaller than the old one; in either
1700:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    case, we ditch the incoming segment. */
1701:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 break;
1702:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1703:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             } else {
1704:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (prev == NULL) {
1705:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (TCP_SEQ_LT(seqno, next->tcphdr->seqno)) {
1706:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* The sequence number of the incoming segment is lower
1707:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      than the sequence number of the first segment on the
1708:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      queue. We put the incoming segment first on the
1709:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      queue. */
1710:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   struct tcp_seg *cseg = tcp_seg_copy(&inseg);
1711:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (cseg != NULL) {
1712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pcb->ooseq = cseg;
1713:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcp_oos_insert_segment(cseg, next);
1714:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
1715:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   break;
1716:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1717:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               } else {
1718:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /*if (TCP_SEQ_LT(prev->tcphdr->seqno, seqno) &&
1719:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   TCP_SEQ_LT(seqno, next->tcphdr->seqno)) {*/
1720:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (TCP_SEQ_BETWEEN(seqno, prev->tcphdr->seqno + 1, next->tcphdr->seqno - 1)) {
1721:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* The sequence number of the incoming segment is in
1722:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      between the sequence numbers of the previous and
1723:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      the next segment on ->ooseq. We trim trim the previous
1724:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      segment, delete next segments that included in received segment
1725:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      and trim received, if needed. */
1726:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   struct tcp_seg *cseg = tcp_seg_copy(&inseg);
1727:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (cseg != NULL) {
1728:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     if (TCP_SEQ_GT(prev->tcphdr->seqno + prev->len, seqno)) {
1729:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       /* We need to trim the prev segment. */
1730:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       prev->len = (u16_t)(seqno - prev->tcphdr->seqno);
1731:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pbuf_realloc(prev->p, prev->len);
1732:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     }
1733:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     prev->next = cseg;
1734:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcp_oos_insert_segment(cseg, next);
1735:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
1736:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   break;
1737:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1738:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1739:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1740:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_SACK_OUT
1741:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* The new segment goes after the 'next' one. If there is a "hole" in sequence number
1742:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  between 'prev' and the beginning of 'next', we want to move sackbeg. */
1743:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (prev != NULL && prev->tcphdr->seqno + prev->len != next->tcphdr->seqno) {
ARM GAS  /tmp/ccbjEDX3.s 			page 32


1744:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 sackbeg = next->tcphdr->seqno;
1745:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1746:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_TCP_SACK_OUT */
1747:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1748:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* We don't use 'prev' below, so let's set it to current 'next'.
1749:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  This way even if we break the loop below, 'prev' will be pointing
1750:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  at the segment right in front of the newly added one. */
1751:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               prev = next;
1752:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1753:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* If the "next" segment is the last segment on the
1754:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  ooseq queue, we add the incoming segment to the end
1755:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  of the list. */
1756:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (next->next == NULL &&
1757:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   TCP_SEQ_GT(seqno, next->tcphdr->seqno)) {
1758:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (TCPH_FLAGS(next->tcphdr) & TCP_FIN) {
1759:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* segment "next" already contains all data */
1760:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   break;
1761:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1762:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 next->next = tcp_seg_copy(&inseg);
1763:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (next->next != NULL) {
1764:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (TCP_SEQ_GT(next->tcphdr->seqno + next->len, seqno)) {
1765:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     /* We need to trim the last segment. */
1766:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     next->len = (u16_t)(seqno - next->tcphdr->seqno);
1767:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pbuf_realloc(next->p, next->len);
1768:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
1769:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* check if the remote side overruns our receive window */
1770:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (TCP_SEQ_GT((u32_t)tcplen + seqno, pcb->rcv_nxt + (u32_t)pcb->rcv_wnd)) {
1771:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_DEBUGF(TCP_INPUT_DEBUG,
1772:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                 ("tcp_receive: other end overran receive window"
1773:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                  "seqno %"U32_F" len %"U16_F" right edge %"U32_F"\n",
1774:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                  seqno, tcplen, pcb->rcv_nxt + pcb->rcv_wnd));
1775:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     if (TCPH_FLAGS(next->next->tcphdr) & TCP_FIN) {
1776:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       /* Must remove the FIN from the header as we're trimming
1777:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                        * that byte of sequence-space from the packet */
1778:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       TCPH_FLAGS_SET(next->next->tcphdr, TCPH_FLAGS(next->next->tcphdr) & ~TCP_FIN)
1779:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     }
1780:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     /* Adjust length of segment to fit in the window. */
1781:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     next->next->len = (u16_t)(pcb->rcv_nxt + pcb->rcv_wnd - seqno);
1782:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pbuf_realloc(next->next->p, next->next->len);
1783:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcplen = TCP_TCPLEN(next->next);
1784:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
1785:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                 (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
1786:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
1787:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1788:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 break;
1789:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1790:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1791:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1792:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1793:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_SACK_OUT
1794:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->flags & TF_SACK) {
1795:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (prev == NULL) {
1796:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* The new segment is at the beginning. sackbeg should already be set properly.
1797:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  We need to find the right edge. */
1798:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               next = pcb->ooseq;
1799:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             } else if (prev->next != NULL) {
1800:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* The new segment was added after 'prev'. If there is a "hole" between 'prev' and 'p
ARM GAS  /tmp/ccbjEDX3.s 			page 33


1801:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  we need to move sackbeg. After that we should find the right edge. */
1802:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               next = prev->next;
1803:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (prev->tcphdr->seqno + prev->len != next->tcphdr->seqno) {
1804:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 sackbeg = next->tcphdr->seqno;
1805:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1806:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             } else {
1807:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               next = NULL;
1808:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1809:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (next != NULL) {
1810:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               u32_t sackend = next->tcphdr->seqno;
1811:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               for ( ; (next != NULL) && (sackend == next->tcphdr->seqno); next = next->next) {
1812:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 sackend += next->len;
1813:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1814:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_add_sack(pcb, sackbeg, sackend);
1815:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1816:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1817:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_TCP_SACK_OUT */
1818:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1819:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if defined(TCP_OOSEQ_BYTES_LIMIT) || defined(TCP_OOSEQ_PBUFS_LIMIT)
1820:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         {
1821:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Check that the data on ooseq doesn't exceed one of the limits
1822:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              and throw away everything above that limit. */
1823:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #ifdef TCP_OOSEQ_BYTES_LIMIT
1824:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           const u32_t ooseq_max_blen = TCP_OOSEQ_BYTES_LIMIT(pcb);
1825:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           u32_t ooseq_blen = 0;
1826:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
1827:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #ifdef TCP_OOSEQ_PBUFS_LIMIT
1828:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           const u16_t ooseq_max_qlen = TCP_OOSEQ_PBUFS_LIMIT(pcb);
1829:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           u16_t ooseq_qlen = 0;
1830:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
1831:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           struct tcp_seg *next, *prev = NULL;
1832:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           for (next = pcb->ooseq; next != NULL; prev = next, next = next->next) {
1833:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             struct pbuf *p = next->p;
1834:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             int stop_here = 0;
1835:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #ifdef TCP_OOSEQ_BYTES_LIMIT
1836:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             ooseq_blen += p->tot_len;
1837:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (ooseq_blen > ooseq_max_blen) {
1838:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               stop_here = 1;
1839:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1840:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
1841:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #ifdef TCP_OOSEQ_PBUFS_LIMIT
1842:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             ooseq_qlen += pbuf_clen(p);
1843:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (ooseq_qlen > ooseq_max_qlen) {
1844:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               stop_here = 1;
1845:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1846:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
1847:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (stop_here) {
1848:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_SACK_OUT
1849:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (pcb->flags & TF_SACK) {
1850:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* Let's remove all SACKs from next's seqno up. */
1851:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 tcp_remove_sacks_gt(pcb, next->tcphdr->seqno);
1852:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1853:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_TCP_SACK_OUT */
1854:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* too much ooseq data, dump this and everything after it */
1855:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_segs_free(next);
1856:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (prev == NULL) {
1857:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* first ooseq segment is too much, dump the whole queue */
ARM GAS  /tmp/ccbjEDX3.s 			page 34


1858:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 pcb->ooseq = NULL;
1859:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               } else {
1860:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* just dump 'next' and everything after it */
1861:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 prev->next = NULL;
1862:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1863:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               break;
1864:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1865:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1866:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1867:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_OOSEQ_BYTES_LIMIT || TCP_OOSEQ_PBUFS_LIMIT */
1868:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ */
1869:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1870:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* We send the ACK packet after we've (potentially) dealt with SACKs,
1871:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            so they can be included in the acknowledgment. */
1872:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_send_empty_ack(pcb);
1873:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1874:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
1875:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* The incoming segment is not within the window. */
1876:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_send_empty_ack(pcb);
1877:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1878:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
1879:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Segments with length 0 is taken care of here. Segments that
1880:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        fall out of the window are ACKed. */
1881:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (!TCP_SEQ_BETWEEN(seqno, pcb->rcv_nxt, pcb->rcv_nxt + pcb->rcv_wnd - 1)) {
1882:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
1883:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1884:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
1885:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
1886:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1887:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u8_t
1888:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_get_next_optbyte(void)
1889:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
  26              		.loc 1 1889 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
1890:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u16_t optidx = tcp_optidx++;
  31              		.loc 1 1890 0
  32 0000 0A4A     		ldr	r2, .L5
  33 0002 1388     		ldrh	r3, [r2]
  34 0004 591C     		adds	r1, r3, #1
  35 0006 1180     		strh	r1, [r2]	@ movhi
  36              	.LVL0:
1891:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((tcphdr_opt2 == NULL) || (optidx < tcphdr_opt1len)) {
  37              		.loc 1 1891 0
  38 0008 094A     		ldr	r2, .L5+4
  39 000a 1168     		ldr	r1, [r2]
  40 000c 49B1     		cbz	r1, .L2
  41              		.loc 1 1891 0 is_stmt 0 discriminator 1
  42 000e 094A     		ldr	r2, .L5+8
  43 0010 1288     		ldrh	r2, [r2]
  44 0012 9342     		cmp	r3, r2
  45 0014 05D3     		bcc	.L2
  46              	.LBB2:
1892:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     u8_t *opts = (u8_t *)tcphdr + TCP_HLEN;
1893:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return opts[optidx];
ARM GAS  /tmp/ccbjEDX3.s 			page 35


1894:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
1895:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     u8_t idx = (u8_t)(optidx - tcphdr_opt1len);
  47              		.loc 1 1895 0 is_stmt 1
  48 0016 DBB2     		uxtb	r3, r3
  49              	.LVL1:
  50 0018 D2B2     		uxtb	r2, r2
  51 001a 9B1A     		subs	r3, r3, r2
  52 001c DBB2     		uxtb	r3, r3
  53              	.LVL2:
1896:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return tcphdr_opt2[idx];
  54              		.loc 1 1896 0
  55 001e C85C     		ldrb	r0, [r1, r3]	@ zero_extendqisi2
  56              	.LBE2:
1897:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
1898:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
  57              		.loc 1 1898 0
  58 0020 7047     		bx	lr
  59              	.LVL3:
  60              	.L2:
  61              	.LBB3:
1892:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return opts[optidx];
  62              		.loc 1 1892 0
  63 0022 054A     		ldr	r2, .L5+12
  64 0024 1268     		ldr	r2, [r2]
  65              	.LVL4:
1893:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
  66              		.loc 1 1893 0
  67 0026 1344     		add	r3, r3, r2
  68              	.LVL5:
  69 0028 187D     		ldrb	r0, [r3, #20]	@ zero_extendqisi2
  70 002a 7047     		bx	lr
  71              	.L6:
  72              		.align	2
  73              	.L5:
  74 002c 00000000 		.word	.LANCHOR0
  75 0030 00000000 		.word	.LANCHOR1
  76 0034 00000000 		.word	.LANCHOR2
  77 0038 00000000 		.word	.LANCHOR3
  78              	.LBE3:
  79              		.cfi_endproc
  80              	.LFE166:
  82              		.section	.text.tcp_parseopt,"ax",%progbits
  83              		.align	1
  84              		.syntax unified
  85              		.thumb
  86              		.thumb_func
  87              		.fpu fpv5-d16
  89              	tcp_parseopt:
  90              	.LFB167:
1899:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1900:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
1901:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Parses the options contained in the incoming segment.
1902:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
1903:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called from tcp_listen_input() and tcp_process().
1904:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Currently, only the MSS option is supported!
1905:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
1906:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param pcb the tcp_pcb for which a segment arrived
ARM GAS  /tmp/ccbjEDX3.s 			page 36


1907:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
1908:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void
1909:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_parseopt(struct tcp_pcb *pcb)
1910:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
  91              		.loc 1 1910 0
  92              		.cfi_startproc
  93              		@ args = 0, pretend = 0, frame = 0
  94              		@ frame_needed = 0, uses_anonymous_args = 0
  95              	.LVL6:
  96 0000 38B5     		push	{r3, r4, r5, lr}
  97              	.LCFI0:
  98              		.cfi_def_cfa_offset 16
  99              		.cfi_offset 3, -16
 100              		.cfi_offset 4, -12
 101              		.cfi_offset 5, -8
 102              		.cfi_offset 14, -4
1911:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u8_t data;
1912:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u16_t mss;
1913:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_TIMESTAMPS
1914:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u32_t tsval;
1915:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
1916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1917:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_parseopt: invalid pcb", pcb != NULL);
 103              		.loc 1 1917 0
 104 0002 0546     		mov	r5, r0
 105 0004 0028     		cmp	r0, #0
 106 0006 30D0     		beq	.L20
 107              	.LVL7:
 108              	.L8:
1918:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1919:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Parse the TCP MSS option, if present. */
1920:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (tcphdr_optlen != 0) {
 109              		.loc 1 1920 0
 110 0008 214B     		ldr	r3, .L21
 111 000a 1B88     		ldrh	r3, [r3]
 112 000c 002B     		cmp	r3, #0
 113 000e 3ED0     		beq	.L7
1921:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     for (tcp_optidx = 0; tcp_optidx < tcphdr_optlen; ) {
 114              		.loc 1 1921 0
 115 0010 0022     		movs	r2, #0
 116 0012 204B     		ldr	r3, .L21+4
 117 0014 1A80     		strh	r2, [r3]	@ movhi
 118              	.L12:
 119              		.loc 1 1921 0 is_stmt 0 discriminator 1
 120 0016 1F4B     		ldr	r3, .L21+4
 121 0018 1A88     		ldrh	r2, [r3]
 122 001a 1D4B     		ldr	r3, .L21
 123 001c 1B88     		ldrh	r3, [r3]
 124 001e 9A42     		cmp	r2, r3
 125 0020 35D2     		bcs	.L7
 126              	.LBB4:
1922:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       u8_t opt = tcp_get_next_optbyte();
 127              		.loc 1 1922 0 is_stmt 1
 128 0022 FFF7FEFF 		bl	tcp_get_next_optbyte
 129              	.LVL8:
1923:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       switch (opt) {
 130              		.loc 1 1923 0
ARM GAS  /tmp/ccbjEDX3.s 			page 37


 131 0026 0128     		cmp	r0, #1
 132 0028 F5D0     		beq	.L12
 133 002a 80B3     		cbz	r0, .L7
 134 002c 0228     		cmp	r0, #2
 135 002e 24D1     		bne	.L18
1924:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         case LWIP_TCP_OPT_EOL:
1925:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* End of options. */
1926:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: EOL\n"));
1927:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           return;
1928:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         case LWIP_TCP_OPT_NOP:
1929:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* NOP option. */
1930:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: NOP\n"));
1931:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           break;
1932:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         case LWIP_TCP_OPT_MSS:
1933:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: MSS\n"));
1934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (tcp_get_next_optbyte() != LWIP_TCP_OPT_LEN_MSS || (tcp_optidx - 2 + LWIP_TCP_OPT_LEN_
 136              		.loc 1 1934 0
 137 0030 FFF7FEFF 		bl	tcp_get_next_optbyte
 138              	.LVL9:
 139 0034 0428     		cmp	r0, #4
 140 0036 2AD1     		bne	.L7
 141              		.loc 1 1934 0 is_stmt 0 discriminator 1
 142 0038 164B     		ldr	r3, .L21+4
 143 003a 1B88     		ldrh	r3, [r3]
 144 003c 0233     		adds	r3, r3, #2
 145 003e 144A     		ldr	r2, .L21
 146 0040 1288     		ldrh	r2, [r2]
 147 0042 9342     		cmp	r3, r2
 148 0044 23DC     		bgt	.L7
1935:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Bad length */
1936:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: bad length\n"));
1937:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             return;
1938:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1939:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* An MSS option with the right option length. */
1940:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           mss = (u16_t)(tcp_get_next_optbyte() << 8);
 149              		.loc 1 1940 0 is_stmt 1
 150 0046 FFF7FEFF 		bl	tcp_get_next_optbyte
 151              	.LVL10:
 152 004a 80B2     		uxth	r0, r0
 153 004c 0002     		lsls	r0, r0, #8
 154 004e 84B2     		uxth	r4, r0
 155              	.LVL11:
1941:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           mss |= tcp_get_next_optbyte();
 156              		.loc 1 1941 0
 157 0050 FFF7FEFF 		bl	tcp_get_next_optbyte
 158              	.LVL12:
 159 0054 80B2     		uxth	r0, r0
 160 0056 2043     		orrs	r0, r0, r4
 161              	.LVL13:
1942:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Limit the mss to the configured TCP_MSS and prevent division by zero */
1943:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->mss = ((mss > TCP_MSS) || (mss == 0)) ? TCP_MSS : mss;
 162              		.loc 1 1943 0
 163 0058 431E     		subs	r3, r0, #1
 164 005a 9BB2     		uxth	r3, r3
 165 005c B3F5067F 		cmp	r3, #536
 166 0060 01D3     		bcc	.L14
 167 0062 4FF40670 		mov	r0, #536
ARM GAS  /tmp/ccbjEDX3.s 			page 38


 168              	.LVL14:
 169              	.L14:
 170              		.loc 1 1943 0 is_stmt 0 discriminator 4
 171 0066 6886     		strh	r0, [r5, #50]	@ movhi
1944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           break;
 172              		.loc 1 1944 0 is_stmt 1 discriminator 4
 173 0068 D5E7     		b	.L12
 174              	.LVL15:
 175              	.L20:
 176              	.LBE4:
1917:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 177              		.loc 1 1917 0 discriminator 1
 178 006a 0B4B     		ldr	r3, .L21+8
 179 006c 40F27D72 		movw	r2, #1917
 180 0070 0A49     		ldr	r1, .L21+12
 181 0072 0B48     		ldr	r0, .L21+16
 182              	.LVL16:
 183 0074 FFF7FEFF 		bl	printf
 184              	.LVL17:
 185 0078 C6E7     		b	.L8
 186              	.LVL18:
 187              	.L18:
 188              	.LBB5:
1945:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_WND_SCALE
1946:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         case LWIP_TCP_OPT_WS:
1947:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: WND_SCALE\n"));
1948:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (tcp_get_next_optbyte() != LWIP_TCP_OPT_LEN_WS || (tcp_optidx - 2 + LWIP_TCP_OPT_LEN_W
1949:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Bad length */
1950:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: bad length\n"));
1951:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             return;
1952:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1953:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* An WND_SCALE option with the right option length. */
1954:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           data = tcp_get_next_optbyte();
1955:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* If syn was received with wnd scale option,
1956:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              activate wnd scale opt, but only if this is not a retransmission */
1957:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if ((flags & TCP_SYN) && !(pcb->flags & TF_WND_SCALE)) {
1958:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->snd_scale = data;
1959:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (pcb->snd_scale > 14U) {
1960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pcb->snd_scale = 14U;
1961:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1962:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->rcv_scale = TCP_RCV_SCALE;
1963:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             tcp_set_flags(pcb, TF_WND_SCALE);
1964:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* window scaling is enabled, we can use the full receive window */
1965:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_ASSERT("window not at default value", pcb->rcv_wnd == TCPWND_MIN16(TCP_WND));
1966:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_ASSERT("window not at default value", pcb->rcv_ann_wnd == TCPWND_MIN16(TCP_WND));
1967:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->rcv_wnd = pcb->rcv_ann_wnd = TCP_WND;
1968:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1969:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           break;
1970:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_WND_SCALE */
1971:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_TIMESTAMPS
1972:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         case LWIP_TCP_OPT_TS:
1973:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: TS\n"));
1974:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (tcp_get_next_optbyte() != LWIP_TCP_OPT_LEN_TS || (tcp_optidx - 2 + LWIP_TCP_OPT_LEN_T
1975:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Bad length */
1976:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: bad length\n"));
1977:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             return;
1978:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
ARM GAS  /tmp/ccbjEDX3.s 			page 39


1979:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* TCP timestamp option with valid length */
1980:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tsval = tcp_get_next_optbyte();
1981:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tsval |= (tcp_get_next_optbyte() << 8);
1982:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tsval |= (tcp_get_next_optbyte() << 16);
1983:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tsval |= (tcp_get_next_optbyte() << 24);
1984:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (flags & TCP_SYN) {
1985:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->ts_recent = lwip_ntohl(tsval);
1986:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Enable sending timestamps in every segment now that we know
1987:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                the remote host supports it. */
1988:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             tcp_set_flags(pcb, TF_TIMESTAMP);
1989:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else if (TCP_SEQ_BETWEEN(pcb->ts_lastacksent, seqno, seqno + tcplen)) {
1990:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->ts_recent = lwip_ntohl(tsval);
1991:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1992:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Advance to next option (6 bytes already read) */
1993:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_optidx += LWIP_TCP_OPT_LEN_TS - 6;
1994:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           break;
1995:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_TCP_TIMESTAMPS */
1996:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_SACK_OUT
1997:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         case LWIP_TCP_OPT_SACK_PERM:
1998:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: SACK_PERM\n"));
1999:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (tcp_get_next_optbyte() != LWIP_TCP_OPT_LEN_SACK_PERM || (tcp_optidx - 2 + LWIP_TCP_OP
2000:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Bad length */
2001:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: bad length\n"));
2002:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             return;
2003:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
2004:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* TCP SACK_PERM option with valid length */
2005:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (flags & TCP_SYN) {
2006:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* We only set it if we receive it in a SYN (or SYN+ACK) packet */
2007:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             tcp_set_flags(pcb, TF_SACK);
2008:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
2009:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           break;
2010:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_TCP_SACK_OUT */
2011:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         default:
2012:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: other\n"));
2013:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           data = tcp_get_next_optbyte();
 189              		.loc 1 2013 0
 190 007a FFF7FEFF 		bl	tcp_get_next_optbyte
 191              	.LVL19:
2014:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (data < 2) {
 192              		.loc 1 2014 0
 193 007e 0128     		cmp	r0, #1
 194 0080 05D9     		bls	.L7
2015:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: bad length\n"));
2016:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* If the length field is zero, the options are malformed
2017:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                and we don't process them further. */
2018:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             return;
2019:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
2020:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* All other options have a length field, so that we easily
2021:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              can skip past them. */
2022:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_optidx += data - 2;
 195              		.loc 1 2022 0
 196 0082 044B     		ldr	r3, .L21+4
 197 0084 1A88     		ldrh	r2, [r3]
 198 0086 1044     		add	r0, r0, r2
 199              	.LVL20:
 200 0088 0238     		subs	r0, r0, #2
 201 008a 1880     		strh	r0, [r3]	@ movhi
ARM GAS  /tmp/ccbjEDX3.s 			page 40


 202 008c C3E7     		b	.L12
 203              	.L7:
 204 008e 38BD     		pop	{r3, r4, r5, pc}
 205              	.LVL21:
 206              	.L22:
 207              		.align	2
 208              	.L21:
 209 0090 00000000 		.word	.LANCHOR4
 210 0094 00000000 		.word	.LANCHOR0
 211 0098 00000000 		.word	.LC0
 212 009c 30000000 		.word	.LC1
 213 00a0 4C000000 		.word	.LC2
 214              	.LBE5:
 215              		.cfi_endproc
 216              	.LFE167:
 218              		.section	.text.tcp_input_delayed_close,"ax",%progbits
 219              		.align	1
 220              		.syntax unified
 221              		.thumb
 222              		.thumb_func
 223              		.fpu fpv5-d16
 225              	tcp_input_delayed_close:
 226              	.LFB159:
 601:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_input_delayed_close: invalid pcb", pcb != NULL);
 227              		.loc 1 601 0
 228              		.cfi_startproc
 229              		@ args = 0, pretend = 0, frame = 0
 230              		@ frame_needed = 0, uses_anonymous_args = 0
 231              	.LVL22:
 232 0000 10B5     		push	{r4, lr}
 233              	.LCFI1:
 234              		.cfi_def_cfa_offset 8
 235              		.cfi_offset 4, -8
 236              		.cfi_offset 14, -4
 602:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 237              		.loc 1 602 0
 238 0002 0446     		mov	r4, r0
 239 0004 C0B1     		cbz	r0, .L29
 240              	.LVL23:
 241              	.L24:
 604:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* The connection has been closed and we will deallocate the
 242              		.loc 1 604 0
 243 0006 114B     		ldr	r3, .L30
 244 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 245 000a 13F0100F 		tst	r3, #16
 246 000e 1BD0     		beq	.L27
 607:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Connection closed although the application has only shut down the
 247              		.loc 1 607 0
 248 0010 638B     		ldrh	r3, [r4, #26]
 249 0012 13F0100F 		tst	r3, #16
 250 0016 06D1     		bne	.L26
 611:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 251              		.loc 1 611 0
 252 0018 D4F89030 		ldr	r3, [r4, #144]
 253 001c 1BB1     		cbz	r3, .L26
 611:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 254              		.loc 1 611 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccbjEDX3.s 			page 41


 255 001e 6FF00E01 		mvn	r1, #14
 256 0022 2069     		ldr	r0, [r4, #16]
 257 0024 9847     		blx	r3
 258              	.LVL24:
 259              	.L26:
 613:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_free(pcb);
 260              		.loc 1 613 0 is_stmt 1
 261 0026 2146     		mov	r1, r4
 262 0028 0948     		ldr	r0, .L30+4
 263 002a FFF7FEFF 		bl	tcp_pcb_remove
 264              	.LVL25:
 614:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return 1;
 265              		.loc 1 614 0
 266 002e 2046     		mov	r0, r4
 267 0030 FFF7FEFF 		bl	tcp_free
 268              	.LVL26:
 615:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 269              		.loc 1 615 0
 270 0034 0120     		movs	r0, #1
 271 0036 10BD     		pop	{r4, pc}
 272              	.LVL27:
 273              	.L29:
 602:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 274              		.loc 1 602 0 discriminator 1
 275 0038 064B     		ldr	r3, .L30+8
 276 003a 40F25A22 		movw	r2, #602
 277 003e 0649     		ldr	r1, .L30+12
 278 0040 0648     		ldr	r0, .L30+16
 279              	.LVL28:
 280 0042 FFF7FEFF 		bl	printf
 281              	.LVL29:
 282 0046 DEE7     		b	.L24
 283              	.L27:
 617:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 284              		.loc 1 617 0
 285 0048 0020     		movs	r0, #0
 618:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 286              		.loc 1 618 0
 287 004a 10BD     		pop	{r4, pc}
 288              	.LVL30:
 289              	.L31:
 290              		.align	2
 291              	.L30:
 292 004c 00000000 		.word	.LANCHOR5
 293 0050 00000000 		.word	tcp_active_pcbs
 294 0054 00000000 		.word	.LC0
 295 0058 00000000 		.word	.LC3
 296 005c 4C000000 		.word	.LC2
 297              		.cfi_endproc
 298              	.LFE159:
 300              		.section	.text.tcp_timewait_input,"ax",%progbits
 301              		.align	1
 302              		.syntax unified
 303              		.thumb
 304              		.thumb_func
 305              		.fpu fpv5-d16
 307              	tcp_timewait_input:
ARM GAS  /tmp/ccbjEDX3.s 			page 42


 308              	.LFB161:
 740:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* RFC 1337: in TIME_WAIT, ignore RST and ACK FINs + any 'acceptable' segments */
 309              		.loc 1 740 0
 310              		.cfi_startproc
 311              		@ args = 0, pretend = 0, frame = 0
 312              		@ frame_needed = 0, uses_anonymous_args = 0
 313              	.LVL31:
 746:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return;
 314              		.loc 1 746 0
 315 0000 224B     		ldr	r3, .L41
 316 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 317 0004 13F0040F 		tst	r3, #4
 318 0008 3FD1     		bne	.L38
 740:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* RFC 1337: in TIME_WAIT, ignore RST and ACK FINs + any 'acceptable' segments */
 319              		.loc 1 740 0
 320 000a 30B5     		push	{r4, r5, lr}
 321              	.LCFI2:
 322              		.cfi_def_cfa_offset 12
 323              		.cfi_offset 4, -12
 324              		.cfi_offset 5, -8
 325              		.cfi_offset 14, -4
 326 000c 85B0     		sub	sp, sp, #20
 327              	.LCFI3:
 328              		.cfi_def_cfa_offset 32
 329 000e 0446     		mov	r4, r0
 750:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 330              		.loc 1 750 0
 331 0010 30B9     		cbnz	r0, .L34
 750:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 332              		.loc 1 750 0 is_stmt 0 discriminator 1
 333 0012 1F4B     		ldr	r3, .L41+4
 334 0014 40F2EE22 		movw	r2, #750
 335 0018 1E49     		ldr	r1, .L41+8
 336 001a 1F48     		ldr	r0, .L41+12
 337              	.LVL32:
 338 001c FFF7FEFF 		bl	printf
 339              	.LVL33:
 340              	.L34:
 753:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If an incoming segment is not acceptable, an acknowledgment
 341              		.loc 1 753 0 is_stmt 1
 342 0020 1A4B     		ldr	r3, .L41
 343 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 344 0024 13F0020F 		tst	r3, #2
 345 0028 1DD0     		beq	.L35
 756:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If the SYN is in the window it is an error, send a reset */
 346              		.loc 1 756 0
 347 002a 1C4B     		ldr	r3, .L41+16
 348 002c 1A68     		ldr	r2, [r3]
 349 002e 636A     		ldr	r3, [r4, #36]
 350 0030 D11A     		subs	r1, r2, r3
 351 0032 0029     		cmp	r1, #0
 352 0034 1DDB     		blt	.L36
 756:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If the SYN is in the window it is an error, send a reset */
 353              		.loc 1 756 0 is_stmt 0 discriminator 1
 354 0036 218D     		ldrh	r1, [r4, #40]
 355 0038 0B44     		add	r3, r3, r1
 356 003a D31A     		subs	r3, r2, r3
ARM GAS  /tmp/ccbjEDX3.s 			page 43


 357 003c 002B     		cmp	r3, #0
 358 003e 18DC     		bgt	.L36
 759:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 359              		.loc 1 759 0 is_stmt 1
 360 0040 174B     		ldr	r3, .L41+20
 361 0042 1968     		ldr	r1, [r3]
 758:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 362              		.loc 1 758 0
 363 0044 174B     		ldr	r3, .L41+24
 364 0046 1848     		ldr	r0, .L41+28
 365 0048 0088     		ldrh	r0, [r0]
 366 004a 0D88     		ldrh	r5, [r1]	@ unaligned
 367 004c 0295     		str	r5, [sp, #8]
 368 004e 4988     		ldrh	r1, [r1, #2]	@ unaligned
 369 0050 0191     		str	r1, [sp, #4]
 370 0052 191F     		subs	r1, r3, #4
 371 0054 0091     		str	r1, [sp]
 372 0056 0244     		add	r2, r2, r0
 373 0058 1449     		ldr	r1, .L41+32
 374 005a 0968     		ldr	r1, [r1]
 375 005c 2046     		mov	r0, r4
 376 005e FFF7FEFF 		bl	tcp_rst
 377              	.LVL34:
 378              	.L32:
 774:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 379              		.loc 1 774 0
 380 0062 05B0     		add	sp, sp, #20
 381              	.LCFI4:
 382              		.cfi_remember_state
 383              		.cfi_def_cfa_offset 12
 384              		@ sp needed
 385 0064 30BD     		pop	{r4, r5, pc}
 386              	.LVL35:
 387              	.L35:
 388              	.LCFI5:
 389              		.cfi_restore_state
 762:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* - eighth, check the FIN bit: Remain in the TIME-WAIT state.
 390              		.loc 1 762 0
 391 0066 13F0010F 		tst	r3, #1
 392 006a 02D0     		beq	.L36
 765:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 393              		.loc 1 765 0
 394 006c 104B     		ldr	r3, .L41+36
 395 006e 1B68     		ldr	r3, [r3]
 396 0070 2362     		str	r3, [r4, #32]
 397              	.L36:
 768:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Acknowledge data, FIN or out-of-window SYN */
 398              		.loc 1 768 0
 399 0072 0D4B     		ldr	r3, .L41+28
 400 0074 1B88     		ldrh	r3, [r3]
 401 0076 002B     		cmp	r3, #0
 402 0078 F3D0     		beq	.L32
 770:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_output(pcb);
 403              		.loc 1 770 0
 404 007a 638B     		ldrh	r3, [r4, #26]
 405 007c 43F00203 		orr	r3, r3, #2
 406 0080 6383     		strh	r3, [r4, #26]	@ movhi
ARM GAS  /tmp/ccbjEDX3.s 			page 44


 771:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 407              		.loc 1 771 0
 408 0082 2046     		mov	r0, r4
 409 0084 FFF7FEFF 		bl	tcp_output
 410              	.LVL36:
 411 0088 EBE7     		b	.L32
 412              	.LVL37:
 413              	.L38:
 414              	.LCFI6:
 415              		.cfi_def_cfa_offset 0
 416              		.cfi_restore 4
 417              		.cfi_restore 5
 418              		.cfi_restore 14
 419 008a 7047     		bx	lr
 420              	.L42:
 421              		.align	2
 422              	.L41:
 423 008c 00000000 		.word	.LANCHOR6
 424 0090 00000000 		.word	.LC0
 425 0094 00000000 		.word	.LC4
 426 0098 4C000000 		.word	.LC2
 427 009c 00000000 		.word	.LANCHOR7
 428 00a0 00000000 		.word	.LANCHOR3
 429 00a4 14000000 		.word	ip_data+20
 430 00a8 00000000 		.word	.LANCHOR8
 431 00ac 00000000 		.word	.LANCHOR9
 432 00b0 00000000 		.word	tcp_ticks
 433              		.cfi_endproc
 434              	.LFE161:
 436              		.section	.text.tcp_listen_input,"ax",%progbits
 437              		.align	1
 438              		.syntax unified
 439              		.thumb
 440              		.thumb_func
 441              		.fpu fpv5-d16
 443              	tcp_listen_input:
 444              	.LFB160:
 631:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *npcb;
 445              		.loc 1 631 0
 446              		.cfi_startproc
 447              		@ args = 0, pretend = 0, frame = 0
 448              		@ frame_needed = 0, uses_anonymous_args = 0
 449              	.LVL38:
 636:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* An incoming RST should be ignored. Return. */
 450              		.loc 1 636 0
 451 0000 474B     		ldr	r3, .L58
 452 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 453 0004 13F0040F 		tst	r3, #4
 454 0008 40F08880 		bne	.L50
 631:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *npcb;
 455              		.loc 1 631 0
 456 000c F0B5     		push	{r4, r5, r6, r7, lr}
 457              	.LCFI7:
 458              		.cfi_def_cfa_offset 20
 459              		.cfi_offset 4, -20
 460              		.cfi_offset 5, -16
 461              		.cfi_offset 6, -12
ARM GAS  /tmp/ccbjEDX3.s 			page 45


 462              		.cfi_offset 7, -8
 463              		.cfi_offset 14, -4
 464 000e 85B0     		sub	sp, sp, #20
 465              	.LCFI8:
 466              		.cfi_def_cfa_offset 40
 467 0010 0446     		mov	r4, r0
 641:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 468              		.loc 1 641 0
 469 0012 48B1     		cbz	r0, .L53
 470              	.LVL39:
 471              	.L45:
 645:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* For incoming segments with the ACK flag set, respond with a
 472              		.loc 1 645 0
 473 0014 424B     		ldr	r3, .L58
 474 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 475 0018 13F0100F 		tst	r3, #16
 476 001c 0CD1     		bne	.L54
 651:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_DEBUG, ("TCP connection request %"U16_F" -> %"U16_F".\n", tcphdr->src, tcphdr->
 477              		.loc 1 651 0
 478 001e 13F0020F 		tst	r3, #2
 479 0022 1DD1     		bne	.L55
 480              	.LVL40:
 481              	.L43:
 727:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 482              		.loc 1 727 0
 483 0024 05B0     		add	sp, sp, #20
 484              	.LCFI9:
 485              		.cfi_remember_state
 486              		.cfi_def_cfa_offset 20
 487              		@ sp needed
 488 0026 F0BD     		pop	{r4, r5, r6, r7, pc}
 489              	.LVL41:
 490              	.L53:
 491              	.LCFI10:
 492              		.cfi_restore_state
 641:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 493              		.loc 1 641 0 discriminator 1
 494 0028 3E4B     		ldr	r3, .L58+4
 495 002a 40F28122 		movw	r2, #641
 496 002e 3E49     		ldr	r1, .L58+8
 497 0030 3E48     		ldr	r0, .L58+12
 498              	.LVL42:
 499 0032 FFF7FEFF 		bl	printf
 500              	.LVL43:
 501 0036 EDE7     		b	.L45
 502              	.L54:
 650:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else if (flags & TCP_SYN) {
 503              		.loc 1 650 0
 504 0038 3D4B     		ldr	r3, .L58+16
 505 003a 1868     		ldr	r0, [r3]
 649:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 506              		.loc 1 649 0
 507 003c 3D4B     		ldr	r3, .L58+20
 508 003e 3E4A     		ldr	r2, .L58+24
 509 0040 1588     		ldrh	r5, [r2]
 510 0042 3E4A     		ldr	r2, .L58+28
 511 0044 1268     		ldr	r2, [r2]
ARM GAS  /tmp/ccbjEDX3.s 			page 46


 512 0046 3E49     		ldr	r1, .L58+32
 513 0048 0968     		ldr	r1, [r1]
 514 004a 0688     		ldrh	r6, [r0]	@ unaligned
 515 004c 0296     		str	r6, [sp, #8]
 516 004e 4088     		ldrh	r0, [r0, #2]	@ unaligned
 517 0050 0190     		str	r0, [sp, #4]
 518 0052 181F     		subs	r0, r3, #4
 519 0054 0090     		str	r0, [sp]
 520 0056 2A44     		add	r2, r2, r5
 521 0058 2046     		mov	r0, r4
 522 005a FFF7FEFF 		bl	tcp_rst
 523              	.LVL44:
 524 005e E1E7     		b	.L43
 525              	.L55:
 659:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If a new PCB could not be created (probably due to lack of memory),
 526              		.loc 1 659 0
 527 0060 607D     		ldrb	r0, [r4, #21]	@ zero_extendqisi2
 528 0062 FFF7FEFF 		bl	tcp_alloc
 529              	.LVL45:
 663:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       err_t err;
 530              		.loc 1 663 0
 531 0066 0546     		mov	r5, r0
 532 0068 0028     		cmp	r0, #0
 533 006a 49D0     		beq	.L56
 676:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     ip_addr_copy(npcb->remote_ip, *ip_current_src_addr());
 534              		.loc 1 676 0
 535 006c 354B     		ldr	r3, .L58+36
 536 006e 5A69     		ldr	r2, [r3, #20]
 537 0070 0260     		str	r2, [r0]
 677:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->local_port = pcb->local_port;
 538              		.loc 1 677 0
 539 0072 1B69     		ldr	r3, [r3, #16]
 540 0074 4360     		str	r3, [r0, #4]
 678:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->remote_port = tcphdr->src;
 541              		.loc 1 678 0
 542 0076 E38A     		ldrh	r3, [r4, #22]
 543 0078 C382     		strh	r3, [r0, #22]	@ movhi
 679:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->state = SYN_RCVD;
 544              		.loc 1 679 0
 545 007a 2D4E     		ldr	r6, .L58+16
 546 007c 3368     		ldr	r3, [r6]
 547 007e 1B88     		ldrh	r3, [r3]	@ unaligned
 548 0080 0383     		strh	r3, [r0, #24]	@ movhi
 680:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->rcv_nxt = seqno + 1;
 549              		.loc 1 680 0
 550 0082 0323     		movs	r3, #3
 551 0084 0375     		strb	r3, [r0, #20]
 681:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->rcv_ann_right_edge = npcb->rcv_nxt;
 552              		.loc 1 681 0
 553 0086 2D4F     		ldr	r7, .L58+28
 554 0088 3B68     		ldr	r3, [r7]
 555 008a 0133     		adds	r3, r3, #1
 556 008c 4362     		str	r3, [r0, #36]
 682:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     iss = tcp_next_iss(npcb);
 557              		.loc 1 682 0
 558 008e C362     		str	r3, [r0, #44]
 683:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wl2 = iss;
ARM GAS  /tmp/ccbjEDX3.s 			page 47


 559              		.loc 1 683 0
 560 0090 FFF7FEFF 		bl	tcp_next_iss
 561              	.LVL46:
 684:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_nxt = iss;
 562              		.loc 1 684 0
 563 0094 A865     		str	r0, [r5, #88]
 685:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->lastack = iss;
 564              		.loc 1 685 0
 565 0096 2865     		str	r0, [r5, #80]
 686:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_lbb = iss;
 566              		.loc 1 686 0
 567 0098 6864     		str	r0, [r5, #68]
 687:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wl1 = seqno - 1;/* initialise to seqno-1 to force window update */
 568              		.loc 1 687 0
 569 009a E865     		str	r0, [r5, #92]
 688:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->callback_arg = pcb->callback_arg;
 570              		.loc 1 688 0
 571 009c 3B68     		ldr	r3, [r7]
 572 009e 013B     		subs	r3, r3, #1
 573 00a0 6B65     		str	r3, [r5, #84]
 689:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
 574              		.loc 1 689 0
 575 00a2 2369     		ldr	r3, [r4, #16]
 576 00a4 2B61     		str	r3, [r5, #16]
 691:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG */
 577              		.loc 1 691 0
 578 00a6 EC67     		str	r4, [r5, #124]
 694:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->netif_idx = pcb->netif_idx;
 579              		.loc 1 694 0
 580 00a8 637A     		ldrb	r3, [r4, #9]	@ zero_extendqisi2
 581 00aa 03F00C03 		and	r3, r3, #12
 582 00ae 6B72     		strb	r3, [r5, #9]
 695:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Register the new PCB so that we can begin receiving segments
 583              		.loc 1 695 0
 584 00b0 237A     		ldrb	r3, [r4, #8]	@ zero_extendqisi2
 585 00b2 2B72     		strb	r3, [r5, #8]
 698:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 586              		.loc 1 698 0
 587 00b4 244B     		ldr	r3, .L58+40
 588 00b6 1A68     		ldr	r2, [r3]
 589 00b8 EA60     		str	r2, [r5, #12]
 590 00ba 1D60     		str	r5, [r3]
 591 00bc FFF7FEFF 		bl	tcp_timer_needed
 592              	.LVL47:
 593 00c0 0122     		movs	r2, #1
 594 00c2 224B     		ldr	r3, .L58+44
 595 00c4 1A70     		strb	r2, [r3]
 701:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wnd = tcphdr->wnd;
 596              		.loc 1 701 0
 597 00c6 2846     		mov	r0, r5
 598 00c8 FFF7FEFF 		bl	tcp_parseopt
 599              	.LVL48:
 702:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wnd_max = npcb->snd_wnd;
 600              		.loc 1 702 0
 601 00cc 3368     		ldr	r3, [r6]
 602 00ce DB89     		ldrh	r3, [r3, #14]	@ unaligned
 603 00d0 A5F86030 		strh	r3, [r5, #96]	@ movhi
ARM GAS  /tmp/ccbjEDX3.s 			page 48


 703:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 604              		.loc 1 703 0
 605 00d4 A5F86230 		strh	r3, [r5, #98]	@ movhi
 706:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
 606              		.loc 1 706 0
 607 00d8 6E8E     		ldrh	r6, [r5, #50]
 608 00da 2C1D     		adds	r4, r5, #4
 609              	.LVL49:
 610 00dc 2046     		mov	r0, r4
 611 00de FFF7FEFF 		bl	ip4_route
 612              	.LVL50:
 613 00e2 2246     		mov	r2, r4
 614 00e4 0146     		mov	r1, r0
 615 00e6 3046     		mov	r0, r6
 616 00e8 FFF7FEFF 		bl	tcp_eff_send_mss_netif
 617              	.LVL51:
 618 00ec 6886     		strh	r0, [r5, #50]	@ movhi
 719:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (rc != ERR_OK) {
 619              		.loc 1 719 0
 620 00ee 1221     		movs	r1, #18
 621 00f0 2846     		mov	r0, r5
 622 00f2 FFF7FEFF 		bl	tcp_enqueue_flags
 623              	.LVL52:
 720:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_abandon(npcb, 0);
 624              		.loc 1 720 0
 625 00f6 60B9     		cbnz	r0, .L57
 724:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 626              		.loc 1 724 0
 627 00f8 2846     		mov	r0, r5
 628              	.LVL53:
 629 00fa FFF7FEFF 		bl	tcp_output
 630              	.LVL54:
 631 00fe 91E7     		b	.L43
 632              	.LVL55:
 633              	.L56:
 634              	.LBB6:
 667:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_UNUSED_ARG(err); /* err not useful here */
 635              		.loc 1 667 0
 636 0100 A369     		ldr	r3, [r4, #24]
 637 0102 002B     		cmp	r3, #0
 638 0104 8ED0     		beq	.L43
 667:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_UNUSED_ARG(err); /* err not useful here */
 639              		.loc 1 667 0 is_stmt 0 discriminator 1
 640 0106 4FF0FF32 		mov	r2, #-1
 641 010a 0021     		movs	r1, #0
 642 010c 2069     		ldr	r0, [r4, #16]
 643              	.LVL56:
 644 010e 9847     		blx	r3
 645              	.LVL57:
 646 0110 88E7     		b	.L43
 647              	.LVL58:
 648              	.L57:
 649              	.LBE6:
 721:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 650              		.loc 1 721 0 is_stmt 1
 651 0112 0021     		movs	r1, #0
 652 0114 2846     		mov	r0, r5
ARM GAS  /tmp/ccbjEDX3.s 			page 49


 653              	.LVL59:
 654 0116 FFF7FEFF 		bl	tcp_abandon
 655              	.LVL60:
 722:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 656              		.loc 1 722 0
 657 011a 83E7     		b	.L43
 658              	.LVL61:
 659              	.L50:
 660              	.LCFI11:
 661              		.cfi_def_cfa_offset 0
 662              		.cfi_restore 4
 663              		.cfi_restore 5
 664              		.cfi_restore 6
 665              		.cfi_restore 7
 666              		.cfi_restore 14
 667 011c 7047     		bx	lr
 668              	.L59:
 669 011e 00BF     		.align	2
 670              	.L58:
 671 0120 00000000 		.word	.LANCHOR6
 672 0124 00000000 		.word	.LC0
 673 0128 00000000 		.word	.LC5
 674 012c 4C000000 		.word	.LC2
 675 0130 00000000 		.word	.LANCHOR3
 676 0134 14000000 		.word	ip_data+20
 677 0138 00000000 		.word	.LANCHOR8
 678 013c 00000000 		.word	.LANCHOR7
 679 0140 00000000 		.word	.LANCHOR9
 680 0144 00000000 		.word	ip_data
 681 0148 00000000 		.word	tcp_active_pcbs
 682 014c 00000000 		.word	tcp_active_pcbs_changed
 683              		.cfi_endproc
 684              	.LFE160:
 686              		.section	.text.tcp_free_acked_segments,"ax",%progbits
 687              		.align	1
 688              		.syntax unified
 689              		.thumb
 690              		.thumb_func
 691              		.fpu fpv5-d16
 693              	tcp_free_acked_segments:
 694              	.LFB164:
1090:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *next;
 695              		.loc 1 1090 0
 696              		.cfi_startproc
 697              		@ args = 0, pretend = 0, frame = 0
 698              		@ frame_needed = 0, uses_anonymous_args = 0
 699              	.LVL62:
 700 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 701              	.LCFI12:
 702              		.cfi_def_cfa_offset 24
 703              		.cfi_offset 4, -24
 704              		.cfi_offset 5, -20
 705              		.cfi_offset 6, -16
 706              		.cfi_offset 7, -12
 707              		.cfi_offset 8, -8
 708              		.cfi_offset 14, -4
 709 0004 0646     		mov	r6, r0
ARM GAS  /tmp/ccbjEDX3.s 			page 50


 710 0006 0C46     		mov	r4, r1
 711 0008 1F46     		mov	r7, r3
1097:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          TCP_SEQ_LEQ(lwip_ntohl(seg_list->tcphdr->seqno) +
 712              		.loc 1 1097 0
 713 000a 08E0     		b	.L61
 714              	.LVL63:
 715              	.L69:
1111:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 716              		.loc 1 1111 0 discriminator 1
 717 000c 264B     		ldr	r3, .L70
 718 000e 40F25742 		movw	r2, #1111
 719 0012 2649     		ldr	r1, .L70+4
 720 0014 2648     		ldr	r0, .L70+8
 721              	.LVL64:
 722 0016 FFF7FEFF 		bl	printf
 723              	.LVL65:
 724 001a 21E0     		b	.L62
 725              	.L63:
1090:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *next;
 726              		.loc 1 1090 0
 727 001c 2C46     		mov	r4, r5
 728              	.LVL66:
 729              	.L61:
1097:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          TCP_SEQ_LEQ(lwip_ntohl(seg_list->tcphdr->seqno) +
 730              		.loc 1 1097 0
 731 001e 002C     		cmp	r4, #0
 732 0020 3ED0     		beq	.L64
1098:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      TCP_TCPLEN(seg_list), ackno)) {
 733              		.loc 1 1098 0
 734 0022 E368     		ldr	r3, [r4, #12]
 735 0024 5868     		ldr	r0, [r3, #4]	@ unaligned
 736 0026 FFF7FEFF 		bl	lwip_htonl
 737              	.LVL67:
 738 002a 0546     		mov	r5, r0
 739 002c B4F80880 		ldrh	r8, [r4, #8]
 740 0030 E368     		ldr	r3, [r4, #12]
 741 0032 9889     		ldrh	r0, [r3, #12]	@ unaligned
 742 0034 FFF7FEFF 		bl	lwip_htons
 743              	.LVL68:
 744 0038 10F0030F 		tst	r0, #3
 745 003c 2ED0     		beq	.L67
 746 003e 0123     		movs	r3, #1
 747              	.L65:
1098:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      TCP_TCPLEN(seg_list), ackno)) {
 748              		.loc 1 1098 0 is_stmt 0 discriminator 4
 749 0040 4344     		add	r3, r3, r8
 750 0042 1D44     		add	r5, r5, r3
 751 0044 1B4B     		ldr	r3, .L70+12
 752 0046 1B68     		ldr	r3, [r3]
 753 0048 ED1A     		subs	r5, r5, r3
1097:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          TCP_SEQ_LEQ(lwip_ntohl(seg_list->tcphdr->seqno) +
 754              		.loc 1 1097 0 is_stmt 1 discriminator 4
 755 004a 002D     		cmp	r5, #0
 756 004c 28DC     		bgt	.L64
 757              	.LVL69:
1106:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 758              		.loc 1 1106 0
ARM GAS  /tmp/ccbjEDX3.s 			page 51


 759 004e 2568     		ldr	r5, [r4]
 760              	.LVL70:
1108:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_receive: queuelen %"TCPWNDSIZE_F" ... ",
 761              		.loc 1 1108 0
 762 0050 6068     		ldr	r0, [r4, #4]
 763 0052 FFF7FEFF 		bl	pbuf_clen
 764              	.LVL71:
 765 0056 8046     		mov	r8, r0
 766              	.LVL72:
1111:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 767              		.loc 1 1111 0
 768 0058 B6F86630 		ldrh	r3, [r6, #102]
 769 005c 9842     		cmp	r0, r3
 770 005e D5D8     		bhi	.L69
 771              	.LVL73:
 772              	.L62:
1113:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_acked = (tcpwnd_size_t)(recv_acked + next->len);
 773              		.loc 1 1113 0
 774 0060 B6F86600 		ldrh	r0, [r6, #102]
 775 0064 A0EB0800 		sub	r0, r0, r8
 776 0068 A6F86600 		strh	r0, [r6, #102]	@ movhi
1114:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_seg_free(next);
 777              		.loc 1 1114 0
 778 006c 2389     		ldrh	r3, [r4, #8]
 779 006e 124A     		ldr	r2, .L70+16
 780 0070 1188     		ldrh	r1, [r2]
 781 0072 0B44     		add	r3, r3, r1
 782 0074 1380     		strh	r3, [r2]	@ movhi
1115:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 783              		.loc 1 1115 0
 784 0076 2046     		mov	r0, r4
 785 0078 FFF7FEFF 		bl	tcp_seg_free
 786              	.LVL74:
1120:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_receive: valid queue length",
 787              		.loc 1 1120 0
 788 007c B6F86630 		ldrh	r3, [r6, #102]
 789 0080 002B     		cmp	r3, #0
 790 0082 CBD0     		beq	.L63
1121:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   seg_list != NULL || dbg_other_seg_list != NULL);
 791              		.loc 1 1121 0
 792 0084 002D     		cmp	r5, #0
 793 0086 08BF     		it	eq
 794 0088 002F     		cmpeq	r7, #0
 795 008a C7D1     		bne	.L63
1121:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   seg_list != NULL || dbg_other_seg_list != NULL);
 796              		.loc 1 1121 0 is_stmt 0 discriminator 1
 797 008c 064B     		ldr	r3, .L70
 798 008e 40F26242 		movw	r2, #1122
 799 0092 0A49     		ldr	r1, .L70+20
 800 0094 0648     		ldr	r0, .L70+8
 801 0096 FFF7FEFF 		bl	printf
 802              	.LVL75:
 803 009a BFE7     		b	.L63
 804              	.LVL76:
 805              	.L67:
1098:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      TCP_TCPLEN(seg_list), ackno)) {
 806              		.loc 1 1098 0 is_stmt 1
ARM GAS  /tmp/ccbjEDX3.s 			page 52


 807 009c 0023     		movs	r3, #0
 808 009e CFE7     		b	.L65
 809              	.L64:
1126:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 810              		.loc 1 1126 0
 811 00a0 2046     		mov	r0, r4
 812 00a2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 813              	.LVL77:
 814              	.L71:
 815 00a6 00BF     		.align	2
 816              	.L70:
 817 00a8 00000000 		.word	.LC0
 818 00ac 00000000 		.word	.LC6
 819 00b0 4C000000 		.word	.LC2
 820 00b4 00000000 		.word	.LANCHOR9
 821 00b8 00000000 		.word	.LANCHOR10
 822 00bc 28000000 		.word	.LC7
 823              		.cfi_endproc
 824              	.LFE164:
 826              		.section	.text.tcp_oos_insert_segment,"ax",%progbits
 827              		.align	1
 828              		.syntax unified
 829              		.thumb
 830              		.thumb_func
 831              		.fpu fpv5-d16
 833              	tcp_oos_insert_segment:
 834              	.LFB163:
1052:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *old_seg;
 835              		.loc 1 1052 0
 836              		.cfi_startproc
 837              		@ args = 0, pretend = 0, frame = 0
 838              		@ frame_needed = 0, uses_anonymous_args = 0
 839              	.LVL78:
 840 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 841              	.LCFI13:
 842              		.cfi_def_cfa_offset 24
 843              		.cfi_offset 3, -24
 844              		.cfi_offset 4, -20
 845              		.cfi_offset 5, -16
 846              		.cfi_offset 6, -12
 847              		.cfi_offset 7, -8
 848              		.cfi_offset 14, -4
 849 0002 0C46     		mov	r4, r1
1055:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 850              		.loc 1 1055 0
 851 0004 0546     		mov	r5, r0
 852 0006 58B1     		cbz	r0, .L80
 853              	.LVL79:
 854              	.L73:
1057:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* received segment overlaps all following segments */
 855              		.loc 1 1057 0
 856 0008 EB68     		ldr	r3, [r5, #12]
 857 000a 9889     		ldrh	r0, [r3, #12]	@ unaligned
 858 000c FFF7FEFF 		bl	lwip_htons
 859              	.LVL80:
 860 0010 10F0010F 		tst	r0, #1
 861 0014 11D0     		beq	.L74
ARM GAS  /tmp/ccbjEDX3.s 			page 53


1059:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     next = NULL;
 862              		.loc 1 1059 0
 863 0016 2046     		mov	r0, r4
 864 0018 FFF7FEFF 		bl	tcp_segs_free
 865              	.LVL81:
1060:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
 866              		.loc 1 1060 0
 867 001c 0024     		movs	r4, #0
 868 001e 36E0     		b	.L75
 869              	.LVL82:
 870              	.L80:
1055:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 871              		.loc 1 1055 0 discriminator 1
 872 0020 1C4B     		ldr	r3, .L81
 873 0022 40F21F42 		movw	r2, #1055
 874 0026 1C49     		ldr	r1, .L81+4
 875              	.LVL83:
 876 0028 1C48     		ldr	r0, .L81+8
 877              	.LVL84:
 878 002a FFF7FEFF 		bl	printf
 879              	.LVL85:
 880 002e EBE7     		b	.L73
 881              	.L76:
 882              	.LVL86:
1072:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_seg_free(old_seg);
 883              		.loc 1 1072 0
 884 0030 2668     		ldr	r6, [r4]
 885              	.LVL87:
1073:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 886              		.loc 1 1073 0
 887 0032 2046     		mov	r0, r4
 888 0034 FFF7FEFF 		bl	tcp_seg_free
 889              	.LVL88:
1072:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_seg_free(old_seg);
 890              		.loc 1 1072 0
 891 0038 3446     		mov	r4, r6
 892              	.LVL89:
 893              	.L74:
1064:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            TCP_SEQ_GEQ((seqno + cseg->len),
 894              		.loc 1 1064 0
 895 003a C4B1     		cbz	r4, .L77
1065:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                        (next->tcphdr->seqno + next->len))) {
 896              		.loc 1 1065 0 discriminator 1
 897 003c 2B89     		ldrh	r3, [r5, #8]
 898 003e 184A     		ldr	r2, .L81+12
 899 0040 1268     		ldr	r2, [r2]
 900 0042 1344     		add	r3, r3, r2
 901 0044 E168     		ldr	r1, [r4, #12]
 902 0046 4A68     		ldr	r2, [r1, #4]	@ unaligned
 903 0048 2089     		ldrh	r0, [r4, #8]
 904 004a 0244     		add	r2, r2, r0
 905 004c 9B1A     		subs	r3, r3, r2
1064:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            TCP_SEQ_GEQ((seqno + cseg->len),
 906              		.loc 1 1064 0 discriminator 1
 907 004e 002B     		cmp	r3, #0
 908 0050 0DDB     		blt	.L77
1068:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCPH_SET_FLAG(cseg->tcphdr, TCP_FIN);
ARM GAS  /tmp/ccbjEDX3.s 			page 54


 909              		.loc 1 1068 0
 910 0052 8889     		ldrh	r0, [r1, #12]	@ unaligned
 911 0054 FFF7FEFF 		bl	lwip_htons
 912              	.LVL90:
 913 0058 10F0010F 		tst	r0, #1
 914 005c E8D0     		beq	.L76
1069:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 915              		.loc 1 1069 0
 916 005e EF68     		ldr	r7, [r5, #12]
 917 0060 BE89     		ldrh	r6, [r7, #12]	@ unaligned
 918 0062 0120     		movs	r0, #1
 919 0064 FFF7FEFF 		bl	lwip_htons
 920              	.LVL91:
 921 0068 3043     		orrs	r0, r0, r6
 922 006a B881     		strh	r0, [r7, #12]	@ unaligned
 923 006c E0E7     		b	.L76
 924              	.L77:
1075:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_SEQ_GT(seqno + cseg->len, next->tcphdr->seqno)) {
 925              		.loc 1 1075 0
 926 006e 74B1     		cbz	r4, .L75
1076:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We need to trim the incoming segment. */
 927              		.loc 1 1076 0 discriminator 1
 928 0070 2B89     		ldrh	r3, [r5, #8]
 929 0072 0B4A     		ldr	r2, .L81+12
 930 0074 1168     		ldr	r1, [r2]
 931 0076 0B44     		add	r3, r3, r1
 932 0078 E268     		ldr	r2, [r4, #12]
 933 007a 5268     		ldr	r2, [r2, #4]	@ unaligned
 934 007c 9B1A     		subs	r3, r3, r2
1075:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_SEQ_GT(seqno + cseg->len, next->tcphdr->seqno)) {
 935              		.loc 1 1075 0 discriminator 1
 936 007e 002B     		cmp	r3, #0
 937 0080 05DD     		ble	.L75
1078:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pbuf_realloc(cseg->p, cseg->len);
 938              		.loc 1 1078 0
 939 0082 521A     		subs	r2, r2, r1
 940 0084 91B2     		uxth	r1, r2
 941 0086 2981     		strh	r1, [r5, #8]	@ movhi
1079:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 942              		.loc 1 1079 0
 943 0088 6868     		ldr	r0, [r5, #4]
 944 008a FFF7FEFF 		bl	pbuf_realloc
 945              	.LVL92:
 946              	.L75:
1082:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 947              		.loc 1 1082 0
 948 008e 2C60     		str	r4, [r5]
 949 0090 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 950              	.LVL93:
 951              	.L82:
 952 0092 00BF     		.align	2
 953              	.L81:
 954 0094 00000000 		.word	.LC0
 955 0098 00000000 		.word	.LC8
 956 009c 4C000000 		.word	.LC2
 957 00a0 00000000 		.word	.LANCHOR7
 958              		.cfi_endproc
ARM GAS  /tmp/ccbjEDX3.s 			page 55


 959              	.LFE163:
 961              		.section	.text.tcp_receive,"ax",%progbits
 962              		.align	1
 963              		.syntax unified
 964              		.thumb
 965              		.thumb_func
 966              		.fpu fpv5-d16
 968              	tcp_receive:
 969              	.LFB165:
1142:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   s16_t m;
 970              		.loc 1 1142 0
 971              		.cfi_startproc
 972              		@ args = 0, pretend = 0, frame = 0
 973              		@ frame_needed = 0, uses_anonymous_args = 0
 974              	.LVL94:
 975 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 976              	.LCFI14:
 977              		.cfi_def_cfa_offset 24
 978              		.cfi_offset 4, -24
 979              		.cfi_offset 5, -20
 980              		.cfi_offset 6, -16
 981              		.cfi_offset 7, -12
 982              		.cfi_offset 8, -8
 983              		.cfi_offset 14, -4
 984              	.LVL95:
1147:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_receive: wrong state", pcb->state >= ESTABLISHED);
 985              		.loc 1 1147 0
 986 0004 0446     		mov	r4, r0
 987 0006 0028     		cmp	r0, #0
 988 0008 5BD0     		beq	.L187
 989              	.LVL96:
 990              	.L84:
1148:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 991              		.loc 1 1148 0
 992 000a 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 993 000c 032B     		cmp	r3, #3
 994 000e 60D9     		bls	.L188
 995              	.L85:
1150:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     right_wnd_edge = pcb->snd_wnd + pcb->snd_wl2;
 996              		.loc 1 1150 0
 997 0010 B04B     		ldr	r3, .L222
 998 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 999 0014 13F0100F 		tst	r3, #16
 1000 0018 28D0     		beq	.L86
1151:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1001              		.loc 1 1151 0
 1002 001a B4F86000 		ldrh	r0, [r4, #96]
 1003 001e A26D     		ldr	r2, [r4, #88]
 1004 0020 8618     		adds	r6, r0, r2
 1005              	.LVL97:
1154:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         (pcb->snd_wl1 == seqno && TCP_SEQ_LT(pcb->snd_wl2, ackno)) ||
 1006              		.loc 1 1154 0
 1007 0022 616D     		ldr	r1, [r4, #84]
 1008 0024 AC4B     		ldr	r3, .L222+4
 1009 0026 1B68     		ldr	r3, [r3]
 1010 0028 CD1A     		subs	r5, r1, r3
 1011 002a 002D     		cmp	r5, #0
ARM GAS  /tmp/ccbjEDX3.s 			page 56


 1012 002c 64DB     		blt	.L87
1154:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         (pcb->snd_wl1 == seqno && TCP_SEQ_LT(pcb->snd_wl2, ackno)) ||
 1013              		.loc 1 1154 0 is_stmt 0 discriminator 1
 1014 002e 9942     		cmp	r1, r3
 1015 0030 57D0     		beq	.L189
 1016              	.L88:
1156:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd = SND_WND_SCALE(pcb, tcphdr->wnd);
 1017              		.loc 1 1156 0 is_stmt 1 discriminator 1
 1018 0032 AA49     		ldr	r1, .L222+8
 1019 0034 0968     		ldr	r1, [r1]
1155:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         (pcb->snd_wl2 == ackno && (u32_t)SND_WND_SCALE(pcb, tcphdr->wnd) > pcb->snd_wnd)) {
 1020              		.loc 1 1155 0 discriminator 1
 1021 0036 8A42     		cmp	r2, r1
 1022 0038 59D0     		beq	.L190
 1023              	.L89:
1198:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Clause 2 */
 1024              		.loc 1 1198 0
 1025 003a A84B     		ldr	r3, .L222+8
 1026 003c 1B68     		ldr	r3, [r3]
 1027 003e 616C     		ldr	r1, [r4, #68]
 1028 0040 5A1A     		subs	r2, r3, r1
 1029 0042 002A     		cmp	r2, #0
 1030 0044 69DD     		ble	.L191
1228:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We come here when the ACK acknowledges new data. */
 1031              		.loc 1 1228 0
 1032 0046 012A     		cmp	r2, #1
 1033 0048 04D4     		bmi	.L97
1228:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We come here when the ACK acknowledges new data. */
 1034              		.loc 1 1228 0 is_stmt 0 discriminator 1
 1035 004a 226D     		ldr	r2, [r4, #80]
 1036 004c 9A1A     		subs	r2, r3, r2
 1037 004e 002A     		cmp	r2, #0
 1038 0050 40F3A280 		ble	.L192
 1039              	.L97:
1335:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 1040              		.loc 1 1335 0 is_stmt 1
 1041 0054 2046     		mov	r0, r4
 1042 0056 FFF7FEFF 		bl	tcp_send_empty_ack
 1043              	.LVL98:
 1044              	.L96:
1344:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* diff between this shouldn't exceed 32K since this are tcp timer ticks
 1045              		.loc 1 1344 0
 1046 005a 636B     		ldr	r3, [r4, #52]
 1047 005c 33B1     		cbz	r3, .L86
1344:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* diff between this shouldn't exceed 32K since this are tcp timer ticks
 1048              		.loc 1 1344 0 is_stmt 0 discriminator 1
 1049 005e A26B     		ldr	r2, [r4, #56]
 1050 0060 9E49     		ldr	r1, .L222+8
 1051 0062 0968     		ldr	r1, [r1]
 1052 0064 521A     		subs	r2, r2, r1
 1053 0066 002A     		cmp	r2, #0
 1054 0068 C0F25B81 		blt	.L193
 1055              	.LVL99:
 1056              	.L86:
1373:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* This code basically does three things:
 1057              		.loc 1 1373 0 is_stmt 1
 1058 006c 9C4B     		ldr	r3, .L222+12
ARM GAS  /tmp/ccbjEDX3.s 			page 57


 1059 006e 1B88     		ldrh	r3, [r3]
 1060 0070 002B     		cmp	r3, #0
 1061 0072 00F05884 		beq	.L112
1373:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* This code basically does three things:
 1062              		.loc 1 1373 0 is_stmt 0 discriminator 1
 1063 0076 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
 1064 0078 062A     		cmp	r2, #6
 1065 007a 00F25484 		bhi	.L112
1404:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Trimming the first edge is done by pushing the payload
 1066              		.loc 1 1404 0 is_stmt 1
 1067 007e 616A     		ldr	r1, [r4, #36]
 1068 0080 954A     		ldr	r2, .L222+4
 1069 0082 1268     		ldr	r2, [r2]
 1070 0084 8E1A     		subs	r6, r1, r2
 1071 0086 012E     		cmp	r6, #1
 1072 0088 05D4     		bmi	.L113
1404:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Trimming the first edge is done by pushing the payload
 1073              		.loc 1 1404 0 is_stmt 0 discriminator 1
 1074 008a 1344     		add	r3, r3, r2
 1075 008c CB1A     		subs	r3, r1, r3
 1076 008e 0133     		adds	r3, r3, #1
 1077 0090 002B     		cmp	r3, #0
 1078 0092 40F36981 		ble	.L194
 1079              	.L113:
1445:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* the whole segment is < rcv_nxt */
 1080              		.loc 1 1445 0 is_stmt 1
 1081 0096 521A     		subs	r2, r2, r1
 1082 0098 002A     		cmp	r2, #0
 1083 009a C0F2A781 		blt	.L195
 1084              	.L119:
1457:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                         pcb->rcv_nxt + pcb->rcv_wnd - 1)) {
 1085              		.loc 1 1457 0
 1086 009e 8E4B     		ldr	r3, .L222+4
 1087 00a0 1B68     		ldr	r3, [r3]
 1088 00a2 616A     		ldr	r1, [r4, #36]
 1089 00a4 5A1A     		subs	r2, r3, r1
 1090 00a6 002A     		cmp	r2, #0
 1091 00a8 06DB     		blt	.L120
1457:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                         pcb->rcv_nxt + pcb->rcv_wnd - 1)) {
 1092              		.loc 1 1457 0 is_stmt 0 discriminator 1
 1093 00aa 228D     		ldrh	r2, [r4, #40]
 1094 00ac 0A44     		add	r2, r2, r1
 1095 00ae 9A1A     		subs	r2, r3, r2
 1096 00b0 0132     		adds	r2, r2, #1
 1097 00b2 002A     		cmp	r2, #0
 1098 00b4 40F39F81 		ble	.L196
 1099              	.L120:
1876:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 1100              		.loc 1 1876 0 is_stmt 1
 1101 00b8 2046     		mov	r0, r4
 1102 00ba FFF7FEFF 		bl	tcp_send_empty_ack
 1103              	.LVL100:
 1104 00be BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1105              	.LVL101:
 1106              	.L187:
1147:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_receive: wrong state", pcb->state >= ESTABLISHED);
 1107              		.loc 1 1147 0 discriminator 1
ARM GAS  /tmp/ccbjEDX3.s 			page 58


 1108 00c2 884B     		ldr	r3, .L222+16
 1109 00c4 40F27B42 		movw	r2, #1147
 1110 00c8 8749     		ldr	r1, .L222+20
 1111 00ca 8848     		ldr	r0, .L222+24
 1112              	.LVL102:
 1113 00cc FFF7FEFF 		bl	printf
 1114              	.LVL103:
 1115 00d0 9BE7     		b	.L84
 1116              	.L188:
1148:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1117              		.loc 1 1148 0 discriminator 1
 1118 00d2 844B     		ldr	r3, .L222+16
 1119 00d4 40F27C42 		movw	r2, #1148
 1120 00d8 8549     		ldr	r1, .L222+28
 1121 00da 8448     		ldr	r0, .L222+24
 1122 00dc FFF7FEFF 		bl	printf
 1123              	.LVL104:
 1124 00e0 96E7     		b	.L85
 1125              	.LVL105:
 1126              	.L189:
1155:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         (pcb->snd_wl2 == ackno && (u32_t)SND_WND_SCALE(pcb, tcphdr->wnd) > pcb->snd_wnd)) {
 1127              		.loc 1 1155 0
 1128 00e2 7E49     		ldr	r1, .L222+8
 1129 00e4 0968     		ldr	r1, [r1]
 1130 00e6 511A     		subs	r1, r2, r1
 1131 00e8 0029     		cmp	r1, #0
 1132 00ea A2DA     		bge	.L88
 1133 00ec 04E0     		b	.L87
 1134              	.L190:
1156:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd = SND_WND_SCALE(pcb, tcphdr->wnd);
 1135              		.loc 1 1156 0
 1136 00ee 814A     		ldr	r2, .L222+32
 1137 00f0 1268     		ldr	r2, [r2]
 1138 00f2 D289     		ldrh	r2, [r2, #14]	@ unaligned
 1139 00f4 9042     		cmp	r0, r2
 1140 00f6 A0D2     		bcs	.L89
 1141              	.L87:
1157:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* keep track of the biggest window announced by the remote host to calculate
 1142              		.loc 1 1157 0
 1143 00f8 7E4A     		ldr	r2, .L222+32
 1144 00fa 1268     		ldr	r2, [r2]
 1145 00fc D289     		ldrh	r2, [r2, #14]	@ unaligned
 1146 00fe 90B2     		uxth	r0, r2
 1147 0100 A4F86020 		strh	r2, [r4, #96]	@ movhi
1160:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->snd_wnd_max = pcb->snd_wnd;
 1148              		.loc 1 1160 0
 1149 0104 B4F86210 		ldrh	r1, [r4, #98]
 1150 0108 8842     		cmp	r0, r1
 1151 010a 01D9     		bls	.L90
1161:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1152              		.loc 1 1161 0
 1153 010c A4F86220 		strh	r2, [r4, #98]	@ movhi
 1154              	.L90:
1163:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wl2 = ackno;
 1155              		.loc 1 1163 0
 1156 0110 6365     		str	r3, [r4, #84]
1164:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_WND_DEBUG, ("tcp_receive: window update %"TCPWNDSIZE_F"\n", pcb->snd_wnd));
ARM GAS  /tmp/ccbjEDX3.s 			page 59


 1157              		.loc 1 1164 0
 1158 0112 724B     		ldr	r3, .L222+8
 1159 0114 1B68     		ldr	r3, [r3]
 1160 0116 A365     		str	r3, [r4, #88]
 1161 0118 8FE7     		b	.L89
 1162              	.L191:
1200:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Clause 3 */
 1163              		.loc 1 1200 0
 1164 011a 714A     		ldr	r2, .L222+12
 1165 011c 1288     		ldrh	r2, [r2]
 1166 011e 92BB     		cbnz	r2, .L168
1202:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Clause 4 */
 1167              		.loc 1 1202 0
 1168 0120 A26D     		ldr	r2, [r4, #88]
 1169 0122 B4F86000 		ldrh	r0, [r4, #96]
 1170 0126 0244     		add	r2, r2, r0
 1171 0128 9642     		cmp	r6, r2
 1172 012a 01D0     		beq	.L197
1145:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1173              		.loc 1 1145 0
 1174 012c 0023     		movs	r3, #0
 1175 012e 2BE0     		b	.L92
 1176              	.L197:
1204:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Clause 5 */
 1177              		.loc 1 1204 0
 1178 0130 B4F93020 		ldrsh	r2, [r4, #48]
 1179 0134 002A     		cmp	r2, #0
 1180 0136 2DDB     		blt	.L170
1206:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               found_dupack = 1;
 1181              		.loc 1 1206 0
 1182 0138 8B42     		cmp	r3, r1
 1183 013a 01D0     		beq	.L198
1145:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1184              		.loc 1 1145 0
 1185 013c 0023     		movs	r3, #0
 1186 013e 23E0     		b	.L92
 1187              	.L198:
 1188              	.LVL106:
1208:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 ++pcb->dupacks;
 1189              		.loc 1 1208 0
 1190 0140 94F84320 		ldrb	r2, [r4, #67]	@ zero_extendqisi2
 1191 0144 531C     		adds	r3, r2, #1
 1192 0146 DBB2     		uxtb	r3, r3
 1193 0148 9A42     		cmp	r2, r3
 1194 014a 01D2     		bcs	.L93
1209:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1195              		.loc 1 1209 0
 1196 014c 84F84330 		strb	r3, [r4, #67]
 1197              	.L93:
1211:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* Inflate the congestion window */
 1198              		.loc 1 1211 0
 1199 0150 94F84330 		ldrb	r3, [r4, #67]	@ zero_extendqisi2
 1200 0154 032B     		cmp	r3, #3
 1201 0156 08D9     		bls	.L94
1213:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1202              		.loc 1 1213 0
 1203 0158 B4F84810 		ldrh	r1, [r4, #72]
ARM GAS  /tmp/ccbjEDX3.s 			page 60


 1204 015c 628E     		ldrh	r2, [r4, #50]
 1205 015e 0A44     		add	r2, r2, r1
 1206 0160 92B2     		uxth	r2, r2
 1207 0162 9142     		cmp	r1, r2
 1208 0164 05D8     		bhi	.L95
1213:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1209              		.loc 1 1213 0 is_stmt 0 discriminator 1
 1210 0166 A4F84820 		strh	r2, [r4, #72]	@ movhi
 1211              	.L94:
1215:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* Do fast retransmit (checked via TF_INFR, not via dupacks count) */
 1212              		.loc 1 1215 0 is_stmt 1
 1213 016a 022B     		cmp	r3, #2
 1214 016c 06D8     		bhi	.L199
1207:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if ((u8_t)(pcb->dupacks + 1) > pcb->dupacks) {
 1215              		.loc 1 1207 0
 1216 016e 0123     		movs	r3, #1
 1217 0170 0AE0     		b	.L92
 1218              	.L95:
1213:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1219              		.loc 1 1213 0 discriminator 2
 1220 0172 4FF6FF72 		movw	r2, #65535
 1221 0176 A4F84820 		strh	r2, [r4, #72]	@ movhi
 1222 017a F6E7     		b	.L94
 1223              	.L199:
1217:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1224              		.loc 1 1217 0
 1225 017c 2046     		mov	r0, r4
 1226 017e FFF7FEFF 		bl	tcp_rexmit_fast
 1227              	.LVL107:
1207:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if ((u8_t)(pcb->dupacks + 1) > pcb->dupacks) {
 1228              		.loc 1 1207 0
 1229 0182 0123     		movs	r3, #1
 1230 0184 00E0     		b	.L92
 1231              	.LVL108:
 1232              	.L168:
1145:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1233              		.loc 1 1145 0
 1234 0186 0023     		movs	r3, #0
 1235              	.LVL109:
 1236              	.L92:
1225:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->dupacks = 0;
 1237              		.loc 1 1225 0
 1238 0188 002B     		cmp	r3, #0
 1239 018a 7FF466AF 		bne	.L96
1226:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1240              		.loc 1 1226 0
 1241 018e 84F84330 		strb	r3, [r4, #67]
 1242 0192 62E7     		b	.L96
 1243              	.LVL110:
 1244              	.L170:
1145:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1245              		.loc 1 1145 0
 1246 0194 0023     		movs	r3, #0
 1247 0196 F7E7     		b	.L92
 1248              	.L192:
 1249              	.LBB7:
1235:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_clear_flags(pcb, TF_INFR);
ARM GAS  /tmp/ccbjEDX3.s 			page 61


 1250              		.loc 1 1235 0
 1251 0198 628B     		ldrh	r2, [r4, #26]
 1252 019a 12F0040F 		tst	r2, #4
 1253 019e 09D0     		beq	.L98
1236:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->cwnd = pcb->ssthresh;
 1254              		.loc 1 1236 0
 1255 01a0 22F00402 		bic	r2, r2, #4
 1256 01a4 6283     		strh	r2, [r4, #26]	@ movhi
1237:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->bytes_acked = 0;
 1257              		.loc 1 1237 0
 1258 01a6 B4F84A20 		ldrh	r2, [r4, #74]
 1259 01aa A4F84820 		strh	r2, [r4, #72]	@ movhi
1238:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1260              		.loc 1 1238 0
 1261 01ae 0022     		movs	r2, #0
 1262 01b0 A4F86A20 		strh	r2, [r4, #106]	@ movhi
 1263              	.L98:
1242:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1264              		.loc 1 1242 0
 1265 01b4 0020     		movs	r0, #0
 1266 01b6 84F84200 		strb	r0, [r4, #66]
1245:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1267              		.loc 1 1245 0
 1268 01ba B4F93C50 		ldrsh	r5, [r4, #60]
 1269 01be E28F     		ldrh	r2, [r4, #62]
 1270 01c0 02EBE502 		add	r2, r2, r5, asr #3
 1271 01c4 A4F84020 		strh	r2, [r4, #64]	@ movhi
1248:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1272              		.loc 1 1248 0
 1273 01c8 9AB2     		uxth	r2, r3
 1274 01ca 89B2     		uxth	r1, r1
 1275 01cc 511A     		subs	r1, r2, r1
 1276 01ce 89B2     		uxth	r1, r1
 1277              	.LVL111:
1251:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->lastack = ackno;
 1278              		.loc 1 1251 0
 1279 01d0 84F84300 		strb	r0, [r4, #67]
1252:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1280              		.loc 1 1252 0
 1281 01d4 6364     		str	r3, [r4, #68]
1256:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->cwnd < pcb->ssthresh) {
 1282              		.loc 1 1256 0
 1283 01d6 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 1284 01d8 032B     		cmp	r3, #3
 1285 01da 18D9     		bls	.L99
1257:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcpwnd_size_t increase;
 1286              		.loc 1 1257 0
 1287 01dc B4F84830 		ldrh	r3, [r4, #72]
 1288 01e0 B4F84A20 		ldrh	r2, [r4, #74]
 1289 01e4 9342     		cmp	r3, r2
 1290 01e6 4CD2     		bcs	.L100
 1291              	.LBB8:
1260:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* RFC 3465, section 2.2 Slow Start */
 1292              		.loc 1 1260 0
 1293 01e8 628B     		ldrh	r2, [r4, #26]
 1294 01ea 12F4006F 		tst	r2, #2048
 1295 01ee 41D0     		beq	.L173
ARM GAS  /tmp/ccbjEDX3.s 			page 62


 1296 01f0 0122     		movs	r2, #1
 1297              	.L101:
 1298              	.LVL112:
1262:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           TCP_WND_INC(pcb->cwnd, increase);
 1299              		.loc 1 1262 0 discriminator 4
 1300 01f2 92B2     		uxth	r2, r2
 1301              	.LVL113:
 1302 01f4 608E     		ldrh	r0, [r4, #50]
 1303 01f6 12FB00F2 		smulbb	r2, r2, r0
 1304 01fa 92B2     		uxth	r2, r2
 1305              	.LVL114:
1263:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_receive: slow start cwnd %"TCPWNDSIZE_F"\n", pcb->cwnd)
 1306              		.loc 1 1263 0 discriminator 4
 1307 01fc 9142     		cmp	r1, r2
 1308 01fe 94BF     		ite	ls
 1309 0200 5918     		addls	r1, r3, r1
 1310 0202 9918     		addhi	r1, r3, r2
 1311              	.LVL115:
 1312 0204 89B2     		uxth	r1, r1
 1313 0206 8B42     		cmp	r3, r1
 1314 0208 36D8     		bhi	.L102
1263:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_receive: slow start cwnd %"TCPWNDSIZE_F"\n", pcb->cwnd)
 1315              		.loc 1 1263 0 is_stmt 0 discriminator 1
 1316 020a A4F84810 		strh	r1, [r4, #72]	@ movhi
 1317              	.L99:
 1318              	.LBE8:
1284:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We go through the ->unsent list to see if any of the segments
 1319              		.loc 1 1284 0 is_stmt 1
 1320 020e E36E     		ldr	r3, [r4, #108]
 1321 0210 394A     		ldr	r2, .L222+36
 1322 0212 216F     		ldr	r1, [r4, #112]
 1323 0214 2046     		mov	r0, r4
 1324 0216 FFF7FEFF 		bl	tcp_free_acked_segments
 1325              	.LVL116:
 1326 021a 0346     		mov	r3, r0
 1327 021c 2067     		str	r0, [r4, #112]
1291:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1328              		.loc 1 1291 0
 1329 021e 374A     		ldr	r2, .L222+40
 1330 0220 E16E     		ldr	r1, [r4, #108]
 1331 0222 2046     		mov	r0, r4
 1332 0224 FFF7FEFF 		bl	tcp_free_acked_segments
 1333              	.LVL117:
 1334 0228 E066     		str	r0, [r4, #108]
1295:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = -1;
 1335              		.loc 1 1295 0
 1336 022a 226F     		ldr	r2, [r4, #112]
 1337 022c 002A     		cmp	r2, #0
 1338 022e 49D0     		beq	.L200
1298:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1339              		.loc 1 1298 0
 1340 0230 0023     		movs	r3, #0
 1341 0232 2386     		strh	r3, [r4, #48]	@ movhi
 1342              	.L107:
1301:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1343              		.loc 1 1301 0
 1344 0234 0023     		movs	r3, #0
ARM GAS  /tmp/ccbjEDX3.s 			page 63


 1345 0236 2377     		strb	r3, [r4, #28]
1304:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unsent_oversize = 0;
 1346              		.loc 1 1304 0
 1347 0238 0028     		cmp	r0, #0
 1348 023a 47D0     		beq	.L201
 1349              	.L108:
1316:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* check if this ACK ends our retransmission of in-flight data */
 1350              		.loc 1 1316 0
 1351 023c B4F86430 		ldrh	r3, [r4, #100]
 1352 0240 2F49     		ldr	r1, .L222+44
 1353 0242 0988     		ldrh	r1, [r1]
 1354 0244 0B44     		add	r3, r3, r1
 1355 0246 A4F86430 		strh	r3, [r4, #100]	@ movhi
1318:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* RTO is done if
 1356              		.loc 1 1318 0
 1357 024a 638B     		ldrh	r3, [r4, #26]
 1358 024c 13F4006F 		tst	r3, #2048
 1359 0250 3FF403AF 		beq	.L96
1323:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if ((pcb->unsent == NULL) ||
 1360              		.loc 1 1323 0
 1361 0254 002A     		cmp	r2, #0
 1362 0256 55D0     		beq	.L202
1328:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_clear_flags(pcb, TF_RTO);
 1363              		.loc 1 1328 0
 1364 0258 E56C     		ldr	r5, [r4, #76]
 1365 025a D368     		ldr	r3, [r2, #12]
 1366 025c 5868     		ldr	r0, [r3, #4]	@ unaligned
 1367 025e FFF7FEFF 		bl	lwip_htonl
 1368              	.LVL118:
 1369 0262 281A     		subs	r0, r5, r0
 1370 0264 0028     		cmp	r0, #0
 1371 0266 3FF7F8AE 		bgt	.L96
1329:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 1372              		.loc 1 1329 0
 1373 026a 638B     		ldrh	r3, [r4, #26]
 1374 026c 23F40063 		bic	r3, r3, #2048
 1375 0270 6383     		strh	r3, [r4, #26]	@ movhi
 1376 0272 F2E6     		b	.L96
 1377              	.LVL119:
 1378              	.L173:
 1379              	.LBB9:
1260:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* RFC 3465, section 2.2 Slow Start */
 1380              		.loc 1 1260 0
 1381 0274 0222     		movs	r2, #2
 1382 0276 BCE7     		b	.L101
 1383              	.LVL120:
 1384              	.L102:
1263:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_receive: slow start cwnd %"TCPWNDSIZE_F"\n", pcb->cwnd)
 1385              		.loc 1 1263 0 discriminator 2
 1386 0278 4FF6FF73 		movw	r3, #65535
 1387 027c A4F84830 		strh	r3, [r4, #72]	@ movhi
 1388 0280 C5E7     		b	.L99
 1389              	.LVL121:
 1390              	.L100:
 1391              	.LBE9:
1267:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->bytes_acked >= pcb->cwnd) {
 1392              		.loc 1 1267 0
ARM GAS  /tmp/ccbjEDX3.s 			page 64


 1393 0282 B4F86A20 		ldrh	r2, [r4, #106]
 1394 0286 1144     		add	r1, r1, r2
 1395              	.LVL122:
 1396 0288 89B2     		uxth	r1, r1
 1397 028a 8A42     		cmp	r2, r1
 1398 028c 10D8     		bhi	.L103
1267:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->bytes_acked >= pcb->cwnd) {
 1399              		.loc 1 1267 0 is_stmt 0 discriminator 1
 1400 028e A4F86A10 		strh	r1, [r4, #106]	@ movhi
 1401              	.L104:
1268:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->bytes_acked = (tcpwnd_size_t)(pcb->bytes_acked - pcb->cwnd);
 1402              		.loc 1 1268 0 is_stmt 1
 1403 0292 B4F86A20 		ldrh	r2, [r4, #106]
 1404 0296 9342     		cmp	r3, r2
 1405 0298 B9D8     		bhi	.L99
1269:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             TCP_WND_INC(pcb->cwnd, pcb->mss);
 1406              		.loc 1 1269 0
 1407 029a D21A     		subs	r2, r2, r3
 1408 029c A4F86A20 		strh	r2, [r4, #106]	@ movhi
1270:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1409              		.loc 1 1270 0
 1410 02a0 628E     		ldrh	r2, [r4, #50]
 1411 02a2 1A44     		add	r2, r2, r3
 1412 02a4 92B2     		uxth	r2, r2
 1413 02a6 9342     		cmp	r3, r2
 1414 02a8 07D8     		bhi	.L105
1270:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1415              		.loc 1 1270 0 is_stmt 0 discriminator 1
 1416 02aa A4F84820 		strh	r2, [r4, #72]	@ movhi
 1417 02ae AEE7     		b	.L99
 1418              	.L103:
1267:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->bytes_acked >= pcb->cwnd) {
 1419              		.loc 1 1267 0 is_stmt 1 discriminator 2
 1420 02b0 4FF6FF72 		movw	r2, #65535
 1421 02b4 A4F86A20 		strh	r2, [r4, #106]	@ movhi
 1422 02b8 EBE7     		b	.L104
 1423              	.L105:
1270:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1424              		.loc 1 1270 0 discriminator 2
 1425 02ba 4FF6FF73 		movw	r3, #65535
 1426 02be A4F84830 		strh	r3, [r4, #72]	@ movhi
 1427 02c2 A4E7     		b	.L99
 1428              	.L200:
1296:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 1429              		.loc 1 1296 0
 1430 02c4 4FF6FF73 		movw	r3, #65535
 1431 02c8 2386     		strh	r3, [r4, #48]	@ movhi
 1432 02ca B3E7     		b	.L107
 1433              	.L201:
1305:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1434              		.loc 1 1305 0
 1435 02cc A4F86830 		strh	r3, [r4, #104]	@ movhi
 1436 02d0 B4E7     		b	.L108
 1437              	.L223:
 1438 02d2 00BF     		.align	2
 1439              	.L222:
 1440 02d4 00000000 		.word	.LANCHOR6
ARM GAS  /tmp/ccbjEDX3.s 			page 65


 1441 02d8 00000000 		.word	.LANCHOR7
 1442 02dc 00000000 		.word	.LANCHOR9
 1443 02e0 00000000 		.word	.LANCHOR8
 1444 02e4 00000000 		.word	.LC0
 1445 02e8 00000000 		.word	.LC9
 1446 02ec 4C000000 		.word	.LC2
 1447 02f0 1C000000 		.word	.LC10
 1448 02f4 00000000 		.word	.LANCHOR3
 1449 02f8 38000000 		.word	.LC11
 1450 02fc 40000000 		.word	.LC12
 1451 0300 00000000 		.word	.LANCHOR10
 1452              	.L202:
1324:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               (TCP_SEQ_LEQ(pcb->rto_end, lwip_ntohl(pcb->unsent->tcphdr->seqno)))) {
 1453              		.loc 1 1324 0
 1454 0304 40B1     		cbz	r0, .L110
1325:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             tcp_clear_flags(pcb, TF_RTO);
 1455              		.loc 1 1325 0 discriminator 1
 1456 0306 E56C     		ldr	r5, [r4, #76]
 1457 0308 C368     		ldr	r3, [r0, #12]
 1458 030a 5868     		ldr	r0, [r3, #4]	@ unaligned
 1459 030c FFF7FEFF 		bl	lwip_htonl
 1460              	.LVL123:
 1461 0310 281A     		subs	r0, r5, r0
1324:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               (TCP_SEQ_LEQ(pcb->rto_end, lwip_ntohl(pcb->unsent->tcphdr->seqno)))) {
 1462              		.loc 1 1324 0 discriminator 1
 1463 0312 0028     		cmp	r0, #0
 1464 0314 3FF7A1AE 		bgt	.L96
 1465              	.L110:
1326:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1466              		.loc 1 1326 0
 1467 0318 638B     		ldrh	r3, [r4, #26]
 1468 031a 23F40063 		bic	r3, r3, #2048
 1469 031e 6383     		strh	r3, [r4, #26]	@ movhi
 1470 0320 9BE6     		b	.L96
 1471              	.LVL124:
 1472              	.L193:
 1473              	.LBE7:
1347:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1474              		.loc 1 1347 0
 1475 0322 A44A     		ldr	r2, .L224
 1476 0324 1268     		ldr	r2, [r2]
 1477 0326 D21A     		subs	r2, r2, r3
 1478 0328 92B2     		uxth	r2, r2
 1479              	.LVL125:
1353:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->sa = (s16_t)(pcb->sa + m);
 1480              		.loc 1 1353 0
 1481 032a B4F93C10 		ldrsh	r1, [r4, #60]
 1482 032e A2EBE102 		sub	r2, r2, r1, asr #3
 1483              	.LVL126:
 1484 0332 92B2     		uxth	r2, r2
 1485 0334 13B2     		sxth	r3, r2
 1486              	.LVL127:
1354:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (m < 0) {
 1487              		.loc 1 1354 0
 1488 0336 12FA81F1 		uxtah	r1, r2, r1
 1489 033a 09B2     		sxth	r1, r1
 1490 033c A187     		strh	r1, [r4, #60]	@ movhi
ARM GAS  /tmp/ccbjEDX3.s 			page 66


1355:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         m = (s16_t) - m;
 1491              		.loc 1 1355 0
 1492 033e 002B     		cmp	r3, #0
 1493 0340 0FDB     		blt	.L203
 1494              	.L111:
1358:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->sv = (s16_t)(pcb->sv + m);
 1495              		.loc 1 1358 0
 1496 0342 B4F93E20 		ldrsh	r2, [r4, #62]
 1497 0346 A3EBA203 		sub	r3, r3, r2, asr #2
 1498              	.LVL128:
1359:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rto = (s16_t)((pcb->sa >> 3) + pcb->sv);
 1499              		.loc 1 1359 0
 1500 034a 92B2     		uxth	r2, r2
 1501 034c 12FA83F3 		uxtah	r3, r2, r3
 1502              	.LVL129:
 1503 0350 9BB2     		uxth	r3, r3
 1504 0352 E387     		strh	r3, [r4, #62]	@ movhi
1360:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1505              		.loc 1 1360 0
 1506 0354 03EBE103 		add	r3, r3, r1, asr #3
 1507 0358 A4F84030 		strh	r3, [r4, #64]	@ movhi
1365:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 1508              		.loc 1 1365 0
 1509 035c 0023     		movs	r3, #0
 1510 035e 6363     		str	r3, [r4, #52]
 1511 0360 84E6     		b	.L86
 1512              	.LVL130:
 1513              	.L203:
1356:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1514              		.loc 1 1356 0
 1515 0362 5242     		negs	r2, r2
 1516 0364 13B2     		sxth	r3, r2
 1517              	.LVL131:
 1518 0366 ECE7     		b	.L111
 1519              	.LVL132:
 1520              	.L194:
 1521              	.LBB10:
1425:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       u32_t off32 = pcb->rcv_nxt - seqno;
 1522              		.loc 1 1425 0
 1523 0368 934B     		ldr	r3, .L224+4
 1524 036a 5D68     		ldr	r5, [r3, #4]
 1525              	.LVL133:
1428:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("insane offset!", (off32 < 0xffff));
 1526              		.loc 1 1428 0
 1527 036c DDB1     		cbz	r5, .L204
 1528              	.L114:
1429:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       off = (u16_t)off32;
 1529              		.loc 1 1429 0
 1530 036e 4FF6FE73 		movw	r3, #65534
 1531 0372 9E42     		cmp	r6, r3
 1532 0374 1FD8     		bhi	.L205
 1533              	.L115:
1430:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("pbuf too short!", (((s32_t)inseg.p->tot_len) >= off));
 1534              		.loc 1 1430 0
 1535 0376 B6B2     		uxth	r6, r6
 1536              	.LVL134:
1431:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.len -= off;
ARM GAS  /tmp/ccbjEDX3.s 			page 67


 1537              		.loc 1 1431 0
 1538 0378 8F4B     		ldr	r3, .L224+4
 1539 037a 5B68     		ldr	r3, [r3, #4]
 1540 037c 1B89     		ldrh	r3, [r3, #8]
 1541 037e 9E42     		cmp	r6, r3
 1542 0380 21D8     		bhi	.L206
 1543              	.L116:
1432:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       new_tot_len = (u16_t)(inseg.p->tot_len - off);
 1544              		.loc 1 1432 0
 1545 0382 8D4B     		ldr	r3, .L224+4
 1546 0384 1A89     		ldrh	r2, [r3, #8]
 1547 0386 921B     		subs	r2, r2, r6
 1548 0388 1A81     		strh	r2, [r3, #8]	@ movhi
1433:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       while (p->len < off) {
 1549              		.loc 1 1433 0
 1550 038a 5B68     		ldr	r3, [r3, #4]
 1551 038c 1A89     		ldrh	r2, [r3, #8]
 1552 038e 921B     		subs	r2, r2, r6
 1553 0390 92B2     		uxth	r2, r2
 1554              	.LVL135:
 1555              	.L117:
1434:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         off -= p->len;
 1556              		.loc 1 1434 0
 1557 0392 6B89     		ldrh	r3, [r5, #10]
 1558 0394 9E42     		cmp	r6, r3
 1559 0396 1ED9     		bls	.L207
1435:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* all pbufs up to and including this one have len==0, so tot_len is equal */
 1560              		.loc 1 1435 0
 1561 0398 F31A     		subs	r3, r6, r3
 1562 039a 9EB2     		uxth	r6, r3
 1563              	.LVL136:
1437:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         p->len = 0;
 1564              		.loc 1 1437 0
 1565 039c 2A81     		strh	r2, [r5, #8]	@ movhi
1438:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         p = p->next;
 1566              		.loc 1 1438 0
 1567 039e 0023     		movs	r3, #0
 1568 03a0 6B81     		strh	r3, [r5, #10]	@ movhi
1439:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1569              		.loc 1 1439 0
 1570 03a2 2D68     		ldr	r5, [r5]
 1571              	.LVL137:
 1572 03a4 F5E7     		b	.L117
 1573              	.LVL138:
 1574              	.L204:
1428:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("insane offset!", (off32 < 0xffff));
 1575              		.loc 1 1428 0 discriminator 1
 1576 03a6 854B     		ldr	r3, .L224+8
 1577 03a8 40F29452 		movw	r2, #1428
 1578 03ac 8449     		ldr	r1, .L224+12
 1579 03ae 8548     		ldr	r0, .L224+16
 1580 03b0 FFF7FEFF 		bl	printf
 1581              	.LVL139:
 1582 03b4 DBE7     		b	.L114
 1583              	.L205:
1429:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       off = (u16_t)off32;
 1584              		.loc 1 1429 0 discriminator 1
ARM GAS  /tmp/ccbjEDX3.s 			page 68


 1585 03b6 814B     		ldr	r3, .L224+8
 1586 03b8 40F29552 		movw	r2, #1429
 1587 03bc 8249     		ldr	r1, .L224+20
 1588 03be 8148     		ldr	r0, .L224+16
 1589 03c0 FFF7FEFF 		bl	printf
 1590              	.LVL140:
 1591 03c4 D7E7     		b	.L115
 1592              	.LVL141:
 1593              	.L206:
1431:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.len -= off;
 1594              		.loc 1 1431 0 discriminator 1
 1595 03c6 7D4B     		ldr	r3, .L224+8
 1596 03c8 40F29752 		movw	r2, #1431
 1597 03cc 7F49     		ldr	r1, .L224+24
 1598 03ce 7D48     		ldr	r0, .L224+16
 1599 03d0 FFF7FEFF 		bl	printf
 1600              	.LVL142:
 1601 03d4 D5E7     		b	.L116
 1602              	.LVL143:
 1603              	.L207:
1442:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.tcphdr->seqno = seqno = pcb->rcv_nxt;
 1604              		.loc 1 1442 0
 1605 03d6 3146     		mov	r1, r6
 1606 03d8 2846     		mov	r0, r5
 1607 03da FFF7FEFF 		bl	pbuf_remove_header
 1608              	.LVL144:
1443:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
 1609              		.loc 1 1443 0
 1610 03de 764B     		ldr	r3, .L224+4
 1611 03e0 DA68     		ldr	r2, [r3, #12]
 1612 03e2 636A     		ldr	r3, [r4, #36]
 1613 03e4 7A49     		ldr	r1, .L224+28
 1614 03e6 0B60     		str	r3, [r1]
 1615 03e8 5360     		str	r3, [r2, #4]	@ unaligned
 1616              	.LBE10:
1404:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Trimming the first edge is done by pushing the payload
 1617              		.loc 1 1404 0
 1618 03ea 58E6     		b	.L119
 1619              	.LVL145:
 1620              	.L195:
1450:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1621              		.loc 1 1450 0
 1622 03ec 638B     		ldrh	r3, [r4, #26]
 1623 03ee 43F00203 		orr	r3, r3, #2
 1624 03f2 6383     		strh	r3, [r4, #26]	@ movhi
 1625 03f4 53E6     		b	.L119
 1626              	.L196:
1459:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* The incoming segment is the next in sequence. We check if
 1627              		.loc 1 1459 0
 1628 03f6 8B42     		cmp	r3, r1
 1629 03f8 05D0     		beq	.L208
1649:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->ooseq = tcp_seg_copy(&inseg);
 1630              		.loc 1 1649 0
 1631 03fa 656F     		ldr	r5, [r4, #116]
 1632 03fc 002D     		cmp	r5, #0
 1633 03fe 00F0AE81 		beq	.L209
 1634 0402 0026     		movs	r6, #0
ARM GAS  /tmp/ccbjEDX3.s 			page 69


 1635 0404 D1E1     		b	.L155
 1636              	.L208:
1463:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1637              		.loc 1 1463 0
 1638 0406 6C4B     		ldr	r3, .L224+4
 1639 0408 1D89     		ldrh	r5, [r3, #8]
 1640 040a DB68     		ldr	r3, [r3, #12]
 1641 040c 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1642 040e FFF7FEFF 		bl	lwip_htons
 1643              	.LVL146:
 1644 0412 10F0030F 		tst	r0, #3
 1645 0416 14D0     		beq	.L174
 1646 0418 0123     		movs	r3, #1
 1647              	.L122:
1463:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1648              		.loc 1 1463 0 is_stmt 0 discriminator 4
 1649 041a 2B44     		add	r3, r3, r5
 1650 041c 9BB2     		uxth	r3, r3
 1651 041e 6D4A     		ldr	r2, .L224+32
 1652 0420 1380     		strh	r3, [r2]	@ movhi
1465:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG,
 1653              		.loc 1 1465 0 is_stmt 1 discriminator 4
 1654 0422 228D     		ldrh	r2, [r4, #40]
 1655 0424 9342     		cmp	r3, r2
 1656 0426 0ED8     		bhi	.L210
 1657              	.L123:
1490:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(inseg.tcphdr) & TCP_FIN) {
 1658              		.loc 1 1490 0
 1659 0428 636F     		ldr	r3, [r4, #116]
 1660 042a 002B     		cmp	r3, #0
 1661 042c 5DD0     		beq	.L127
1491:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG,
 1662              		.loc 1 1491 0
 1663 042e 624B     		ldr	r3, .L224+4
 1664 0430 DB68     		ldr	r3, [r3, #12]
 1665 0432 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1666 0434 FFF7FEFF 		bl	lwip_htons
 1667              	.LVL147:
 1668 0438 10F0010F 		tst	r0, #1
 1669 043c 52D1     		bne	.L128
 1670              	.LBB11:
1503:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Remove all segments on ooseq that are covered by inseg already.
 1671              		.loc 1 1503 0
 1672 043e 656F     		ldr	r5, [r4, #116]
 1673              	.LVL148:
1506:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    TCP_SEQ_GEQ(seqno + tcplen,
 1674              		.loc 1 1506 0
 1675 0440 86E0     		b	.L131
 1676              	.LVL149:
 1677              	.L174:
 1678              	.LBE11:
1463:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1679              		.loc 1 1463 0
 1680 0442 0023     		movs	r3, #0
 1681 0444 E9E7     		b	.L122
 1682              	.L210:
1470:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Must remove the FIN from the header as we're trimming
ARM GAS  /tmp/ccbjEDX3.s 			page 70


 1683              		.loc 1 1470 0
 1684 0446 5C4B     		ldr	r3, .L224+4
 1685 0448 DB68     		ldr	r3, [r3, #12]
 1686 044a 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1687 044c FFF7FEFF 		bl	lwip_htons
 1688              	.LVL150:
 1689 0450 10F0010F 		tst	r0, #1
 1690 0454 2FD1     		bne	.L211
 1691              	.L124:
1477:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) {
 1692              		.loc 1 1477 0
 1693 0456 228D     		ldrh	r2, [r4, #40]
 1694 0458 574B     		ldr	r3, .L224+4
 1695 045a 1A81     		strh	r2, [r3, #8]	@ movhi
1478:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             inseg.len -= 1;
 1696              		.loc 1 1478 0
 1697 045c DB68     		ldr	r3, [r3, #12]
 1698 045e 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1699 0460 FFF7FEFF 		bl	lwip_htons
 1700              	.LVL151:
 1701 0464 10F0020F 		tst	r0, #2
 1702 0468 03D0     		beq	.L125
1479:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1703              		.loc 1 1479 0
 1704 046a 534A     		ldr	r2, .L224+4
 1705 046c 1389     		ldrh	r3, [r2, #8]
 1706 046e 013B     		subs	r3, r3, #1
 1707 0470 1381     		strh	r3, [r2, #8]	@ movhi
 1708              	.L125:
1481:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcplen = TCP_TCPLEN(&inseg);
 1709              		.loc 1 1481 0
 1710 0472 514D     		ldr	r5, .L224+4
 1711 0474 2989     		ldrh	r1, [r5, #8]
 1712 0476 6868     		ldr	r0, [r5, #4]
 1713 0478 FFF7FEFF 		bl	pbuf_realloc
 1714              	.LVL152:
1482:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 1715              		.loc 1 1482 0
 1716 047c 2E89     		ldrh	r6, [r5, #8]
 1717 047e EB68     		ldr	r3, [r5, #12]
 1718 0480 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1719 0482 FFF7FEFF 		bl	lwip_htons
 1720              	.LVL153:
 1721 0486 10F0030F 		tst	r0, #3
 1722 048a 25D0     		beq	.L175
 1723 048c 0123     		movs	r3, #1
 1724              	.L126:
1482:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 1725              		.loc 1 1482 0 is_stmt 0 discriminator 4
 1726 048e 3344     		add	r3, r3, r6
 1727 0490 9BB2     		uxth	r3, r3
 1728 0492 504A     		ldr	r2, .L224+32
 1729 0494 1380     		strh	r3, [r2]	@ movhi
1483:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
 1730              		.loc 1 1483 0 is_stmt 1 discriminator 4
 1731 0496 4E4A     		ldr	r2, .L224+28
 1732 0498 1268     		ldr	r2, [r2]
ARM GAS  /tmp/ccbjEDX3.s 			page 71


 1733 049a 1344     		add	r3, r3, r2
 1734 049c 626A     		ldr	r2, [r4, #36]
 1735 049e 218D     		ldrh	r1, [r4, #40]
 1736 04a0 0A44     		add	r2, r2, r1
 1737 04a2 9342     		cmp	r3, r2
 1738 04a4 C0D0     		beq	.L123
1483:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
 1739              		.loc 1 1483 0 is_stmt 0 discriminator 1
 1740 04a6 454B     		ldr	r3, .L224+8
 1741 04a8 40F2CC52 		movw	r2, #1484
 1742 04ac 4A49     		ldr	r1, .L224+36
 1743 04ae 4548     		ldr	r0, .L224+16
 1744 04b0 FFF7FEFF 		bl	printf
 1745              	.LVL154:
 1746 04b4 B8E7     		b	.L123
 1747              	.L211:
1473:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1748              		.loc 1 1473 0 is_stmt 1
 1749 04b6 404B     		ldr	r3, .L224+4
 1750 04b8 DE68     		ldr	r6, [r3, #12]
 1751 04ba B089     		ldrh	r0, [r6, #12]	@ unaligned
 1752 04bc 05B2     		sxth	r5, r0
 1753 04be 25F47C55 		bic	r5, r5, #16128
 1754 04c2 80B2     		uxth	r0, r0
 1755 04c4 FFF7FEFF 		bl	lwip_htons
 1756              	.LVL155:
 1757 04c8 00F03E00 		and	r0, r0, #62
 1758 04cc FFF7FEFF 		bl	lwip_htons
 1759              	.LVL156:
 1760 04d0 00B2     		sxth	r0, r0
 1761 04d2 0543     		orrs	r5, r5, r0
 1762 04d4 B581     		strh	r5, [r6, #12]	@ unaligned
 1763 04d6 BEE7     		b	.L124
 1764              	.L175:
1482:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 1765              		.loc 1 1482 0
 1766 04d8 0023     		movs	r3, #0
 1767 04da D8E7     		b	.L126
 1768              	.L130:
 1769              	.LVL157:
 1770              	.LBB14:
1499:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_seg_free(old_ooseq);
 1771              		.loc 1 1499 0
 1772 04dc 0368     		ldr	r3, [r0]
 1773 04de 6367     		str	r3, [r4, #116]
1500:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 1774              		.loc 1 1500 0
 1775 04e0 FFF7FEFF 		bl	tcp_seg_free
 1776              	.LVL158:
 1777              	.L128:
 1778              	.LBE14:
1497:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               struct tcp_seg *old_ooseq = pcb->ooseq;
 1779              		.loc 1 1497 0
 1780 04e4 606F     		ldr	r0, [r4, #116]
 1781 04e6 0028     		cmp	r0, #0
 1782 04e8 F8D1     		bne	.L130
 1783              	.L127:
ARM GAS  /tmp/ccbjEDX3.s 			page 72


1540:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1784              		.loc 1 1540 0
 1785 04ea 3A4B     		ldr	r3, .L224+32
 1786 04ec 1A88     		ldrh	r2, [r3]
 1787 04ee 384B     		ldr	r3, .L224+28
 1788 04f0 1B68     		ldr	r3, [r3]
 1789 04f2 1344     		add	r3, r3, r2
 1790 04f4 6362     		str	r3, [r4, #36]
1543:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rcv_wnd -= tcplen;
 1791              		.loc 1 1543 0
 1792 04f6 238D     		ldrh	r3, [r4, #40]
 1793 04f8 9A42     		cmp	r2, r3
 1794 04fa 00F2B180 		bhi	.L212
 1795              	.L139:
1544:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1796              		.loc 1 1544 0
 1797 04fe 238D     		ldrh	r3, [r4, #40]
 1798 0500 344A     		ldr	r2, .L224+32
 1799 0502 1288     		ldrh	r2, [r2]
 1800 0504 9B1A     		subs	r3, r3, r2
 1801 0506 2385     		strh	r3, [r4, #40]	@ movhi
1546:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1802              		.loc 1 1546 0
 1803 0508 2046     		mov	r0, r4
 1804 050a FFF7FEFF 		bl	tcp_update_rcv_ann_wnd
 1805              	.LVL159:
1557:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           recv_data = inseg.p;
 1806              		.loc 1 1557 0
 1807 050e 2A4B     		ldr	r3, .L224+4
 1808 0510 5B68     		ldr	r3, [r3, #4]
 1809 0512 1A89     		ldrh	r2, [r3, #8]
 1810 0514 22B1     		cbz	r2, .L140
1558:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Since this pbuf now is the responsibility of the
 1811              		.loc 1 1558 0
 1812 0516 314A     		ldr	r2, .L224+40
 1813 0518 1360     		str	r3, [r2]
1562:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 1814              		.loc 1 1562 0
 1815 051a 0022     		movs	r2, #0
 1816 051c 264B     		ldr	r3, .L224+4
 1817 051e 5A60     		str	r2, [r3, #4]
 1818              	.L140:
1564:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: received FIN.\n"));
 1819              		.loc 1 1564 0
 1820 0520 254B     		ldr	r3, .L224+4
 1821 0522 DB68     		ldr	r3, [r3, #12]
 1822 0524 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1823 0526 FFF7FEFF 		bl	lwip_htons
 1824              	.LVL160:
 1825 052a 10F0010F 		tst	r0, #1
 1826 052e 00F0C580 		beq	.L142
1566:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 1827              		.loc 1 1566 0
 1828 0532 2B4A     		ldr	r2, .L224+44
 1829 0534 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1830 0536 43F02003 		orr	r3, r3, #32
 1831 053a 1370     		strb	r3, [r2]
ARM GAS  /tmp/ccbjEDX3.s 			page 73


 1832 053c BEE0     		b	.L142
 1833              	.LVL161:
 1834              	.L176:
 1835              	.LBB15:
 1836              	.LBB12:
1514:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1837              		.loc 1 1514 0
 1838 053e 0023     		movs	r3, #0
 1839              	.L133:
1514:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1840              		.loc 1 1514 0 is_stmt 0 discriminator 4
 1841 0540 3B44     		add	r3, r3, r7
 1842 0542 244A     		ldr	r2, .L224+32
 1843 0544 1380     		strh	r3, [r2]	@ movhi
 1844              	.L132:
 1845              	.LVL162:
1517:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_seg_free(tmp);
 1846              		.loc 1 1517 0 is_stmt 1
 1847 0546 2E68     		ldr	r6, [r5]
 1848              	.LVL163:
1518:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 1849              		.loc 1 1518 0
 1850 0548 2846     		mov	r0, r5
 1851 054a FFF7FEFF 		bl	tcp_seg_free
 1852              	.LVL164:
1517:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_seg_free(tmp);
 1853              		.loc 1 1517 0
 1854 054e 3546     		mov	r5, r6
 1855              	.LVL165:
 1856              	.L131:
 1857              	.LBE12:
1506:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    TCP_SEQ_GEQ(seqno + tcplen,
 1858              		.loc 1 1506 0
 1859 0550 002D     		cmp	r5, #0
 1860 0552 47D0     		beq	.L134
1507:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                next->tcphdr->seqno + next->len)) {
 1861              		.loc 1 1507 0 discriminator 1
 1862 0554 1F4B     		ldr	r3, .L224+32
 1863 0556 1B88     		ldrh	r3, [r3]
 1864 0558 1D4A     		ldr	r2, .L224+28
 1865 055a 1268     		ldr	r2, [r2]
 1866 055c 1344     		add	r3, r3, r2
 1867 055e E968     		ldr	r1, [r5, #12]
 1868 0560 4A68     		ldr	r2, [r1, #4]	@ unaligned
 1869 0562 2889     		ldrh	r0, [r5, #8]
 1870 0564 0244     		add	r2, r2, r0
 1871 0566 9B1A     		subs	r3, r3, r2
1506:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    TCP_SEQ_GEQ(seqno + tcplen,
 1872              		.loc 1 1506 0 discriminator 1
 1873 0568 002B     		cmp	r3, #0
 1874 056a 3BDB     		blt	.L134
 1875              	.LBB13:
1511:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) == 0) {
 1876              		.loc 1 1511 0
 1877 056c 8889     		ldrh	r0, [r1, #12]	@ unaligned
 1878 056e FFF7FEFF 		bl	lwip_htons
 1879              	.LVL166:
ARM GAS  /tmp/ccbjEDX3.s 			page 74


 1880 0572 10F0010F 		tst	r0, #1
 1881 0576 E6D0     		beq	.L132
1512:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 TCPH_SET_FLAG(inseg.tcphdr, TCP_FIN);
 1882              		.loc 1 1512 0 discriminator 1
 1883 0578 0F4B     		ldr	r3, .L224+4
 1884 057a DB68     		ldr	r3, [r3, #12]
 1885 057c 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1886 057e FFF7FEFF 		bl	lwip_htons
 1887              	.LVL167:
1511:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) == 0) {
 1888              		.loc 1 1511 0 discriminator 1
 1889 0582 10F0020F 		tst	r0, #2
 1890 0586 DED1     		bne	.L132
1513:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 tcplen = TCP_TCPLEN(&inseg);
 1891              		.loc 1 1513 0
 1892 0588 0B4E     		ldr	r6, .L224+4
 1893 058a D6F80C80 		ldr	r8, [r6, #12]
 1894 058e B8F80C70 		ldrh	r7, [r8, #12]	@ unaligned
 1895 0592 0120     		movs	r0, #1
 1896 0594 FFF7FEFF 		bl	lwip_htons
 1897              	.LVL168:
 1898 0598 3843     		orrs	r0, r0, r7
 1899 059a A8F80C00 		strh	r0, [r8, #12]	@ unaligned
1514:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1900              		.loc 1 1514 0
 1901 059e 3789     		ldrh	r7, [r6, #8]
 1902 05a0 F368     		ldr	r3, [r6, #12]
 1903 05a2 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1904 05a4 FFF7FEFF 		bl	lwip_htons
 1905              	.LVL169:
 1906 05a8 10F0030F 		tst	r0, #3
 1907 05ac C7D0     		beq	.L176
 1908 05ae 0123     		movs	r3, #1
 1909 05b0 C6E7     		b	.L133
 1910              	.L225:
 1911 05b2 00BF     		.align	2
 1912              	.L224:
 1913 05b4 00000000 		.word	tcp_ticks
 1914 05b8 00000000 		.word	.LANCHOR11
 1915 05bc 00000000 		.word	.LC0
 1916 05c0 48000000 		.word	.LC13
 1917 05c4 4C000000 		.word	.LC2
 1918 05c8 58000000 		.word	.LC14
 1919 05cc 68000000 		.word	.LC15
 1920 05d0 00000000 		.word	.LANCHOR7
 1921 05d4 00000000 		.word	.LANCHOR8
 1922 05d8 78000000 		.word	.LC16
 1923 05dc 00000000 		.word	.LANCHOR12
 1924 05e0 00000000 		.word	.LANCHOR5
 1925              	.L134:
 1926              	.LBE13:
1522:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 TCP_SEQ_GT(seqno + tcplen,
 1927              		.loc 1 1522 0
 1928 05e4 002D     		cmp	r5, #0
 1929 05e6 37D0     		beq	.L136
1523:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                            next->tcphdr->seqno)) {
 1930              		.loc 1 1523 0 discriminator 1
ARM GAS  /tmp/ccbjEDX3.s 			page 75


 1931 05e8 8D4B     		ldr	r3, .L226
 1932 05ea 1968     		ldr	r1, [r3]
 1933 05ec 8D4B     		ldr	r3, .L226+4
 1934 05ee 1B88     		ldrh	r3, [r3]
 1935 05f0 0B44     		add	r3, r3, r1
 1936 05f2 EA68     		ldr	r2, [r5, #12]
 1937 05f4 5268     		ldr	r2, [r2, #4]	@ unaligned
 1938 05f6 9B1A     		subs	r3, r3, r2
1522:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 TCP_SEQ_GT(seqno + tcplen,
 1939              		.loc 1 1522 0 discriminator 1
 1940 05f8 002B     		cmp	r3, #0
 1941 05fa 2DDD     		ble	.L136
1526:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) {
 1942              		.loc 1 1526 0
 1943 05fc 521A     		subs	r2, r2, r1
 1944 05fe 8A4B     		ldr	r3, .L226+8
 1945 0600 1A81     		strh	r2, [r3, #8]	@ movhi
1527:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 inseg.len -= 1;
 1946              		.loc 1 1527 0
 1947 0602 DB68     		ldr	r3, [r3, #12]
 1948 0604 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1949 0606 FFF7FEFF 		bl	lwip_htons
 1950              	.LVL170:
 1951 060a 10F0020F 		tst	r0, #2
 1952 060e 03D0     		beq	.L137
1528:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1953              		.loc 1 1528 0
 1954 0610 854A     		ldr	r2, .L226+8
 1955 0612 1389     		ldrh	r3, [r2, #8]
 1956 0614 013B     		subs	r3, r3, #1
 1957 0616 1381     		strh	r3, [r2, #8]	@ movhi
 1958              	.L137:
1530:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcplen = TCP_TCPLEN(&inseg);
 1959              		.loc 1 1530 0
 1960 0618 834E     		ldr	r6, .L226+8
 1961 061a 3189     		ldrh	r1, [r6, #8]
 1962 061c 7068     		ldr	r0, [r6, #4]
 1963 061e FFF7FEFF 		bl	pbuf_realloc
 1964              	.LVL171:
1531:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               LWIP_ASSERT("tcp_receive: segment not trimmed correctly to ooseq queue\n",
 1965              		.loc 1 1531 0
 1966 0622 3789     		ldrh	r7, [r6, #8]
 1967 0624 F368     		ldr	r3, [r6, #12]
 1968 0626 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1969 0628 FFF7FEFF 		bl	lwip_htons
 1970              	.LVL172:
 1971 062c 10F0030F 		tst	r0, #3
 1972 0630 14D0     		beq	.L177
 1973 0632 0123     		movs	r3, #1
 1974              	.L138:
1531:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               LWIP_ASSERT("tcp_receive: segment not trimmed correctly to ooseq queue\n",
 1975              		.loc 1 1531 0 is_stmt 0 discriminator 4
 1976 0634 3B44     		add	r3, r3, r7
 1977 0636 9BB2     		uxth	r3, r3
 1978 0638 7A4A     		ldr	r2, .L226+4
 1979 063a 1380     		strh	r3, [r2]	@ movhi
1532:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                           (seqno + tcplen) == next->tcphdr->seqno);
ARM GAS  /tmp/ccbjEDX3.s 			page 76


 1980              		.loc 1 1532 0 is_stmt 1 discriminator 4
 1981 063c 784A     		ldr	r2, .L226
 1982 063e 1268     		ldr	r2, [r2]
 1983 0640 1344     		add	r3, r3, r2
 1984 0642 EA68     		ldr	r2, [r5, #12]
 1985 0644 5268     		ldr	r2, [r2, #4]	@ unaligned
 1986 0646 9342     		cmp	r3, r2
 1987 0648 06D0     		beq	.L136
1532:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                           (seqno + tcplen) == next->tcphdr->seqno);
 1988              		.loc 1 1532 0 is_stmt 0 discriminator 1
 1989 064a 784B     		ldr	r3, .L226+12
 1990 064c 40F2FD52 		movw	r2, #1533
 1991 0650 7749     		ldr	r1, .L226+16
 1992 0652 7848     		ldr	r0, .L226+20
 1993 0654 FFF7FEFF 		bl	printf
 1994              	.LVL173:
 1995              	.L136:
1535:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1996              		.loc 1 1535 0 is_stmt 1
 1997 0658 6567     		str	r5, [r4, #116]
 1998 065a 46E7     		b	.L127
 1999              	.L177:
1531:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               LWIP_ASSERT("tcp_receive: segment not trimmed correctly to ooseq queue\n",
 2000              		.loc 1 1531 0
 2001 065c 0023     		movs	r3, #0
 2002 065e E9E7     		b	.L138
 2003              	.LVL174:
 2004              	.L212:
 2005              	.LBE15:
1543:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rcv_wnd -= tcplen;
 2006              		.loc 1 1543 0 discriminator 1
 2007 0660 724B     		ldr	r3, .L226+12
 2008 0662 40F20762 		movw	r2, #1543
 2009 0666 7449     		ldr	r1, .L226+24
 2010 0668 7248     		ldr	r0, .L226+20
 2011 066a FFF7FEFF 		bl	printf
 2012              	.LVL175:
 2013 066e 46E7     		b	.L139
 2014              	.LVL176:
 2015              	.L178:
 2016              	.LBB16:
1578:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: ooseq tcplen > rcv_wnd\n",
 2017              		.loc 1 1578 0
 2018 0670 0023     		movs	r3, #0
 2019 0672 35E0     		b	.L143
 2020              	.L179:
1579:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
 2021              		.loc 1 1579 0
 2022 0674 0023     		movs	r3, #0
 2023 0676 41E0     		b	.L144
 2024              	.L214:
1579:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
 2025              		.loc 1 1579 0 is_stmt 0 discriminator 5
 2026 0678 6C4B     		ldr	r3, .L226+12
 2027 067a 40F22C62 		movw	r2, #1580
 2028 067e 6F49     		ldr	r1, .L226+28
 2029 0680 6C48     		ldr	r0, .L226+20
ARM GAS  /tmp/ccbjEDX3.s 			page 77


 2030 0682 FFF7FEFF 		bl	printf
 2031              	.LVL177:
 2032 0686 3CE0     		b	.L145
 2033              	.L180:
1581:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2034              		.loc 1 1581 0 is_stmt 1
 2035 0688 0023     		movs	r3, #0
 2036 068a 43E0     		b	.L146
 2037              	.L148:
1594:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 2038              		.loc 1 1594 0
 2039 068c 6C4B     		ldr	r3, .L226+32
 2040 068e 1960     		str	r1, [r3]
 2041              	.L149:
1596:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 2042              		.loc 1 1596 0
 2043 0690 0023     		movs	r3, #0
 2044 0692 6B60     		str	r3, [r5, #4]
 2045              	.L147:
1598:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: dequeued FIN.\n"));
 2046              		.loc 1 1598 0
 2047 0694 EB68     		ldr	r3, [r5, #12]
 2048 0696 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2049 0698 FFF7FEFF 		bl	lwip_htons
 2050              	.LVL178:
 2051 069c 10F0010F 		tst	r0, #1
 2052 06a0 07D0     		beq	.L150
1600:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (pcb->state == ESTABLISHED) { /* force passive close or we can move to active close 
 2053              		.loc 1 1600 0
 2054 06a2 684A     		ldr	r2, .L226+36
 2055 06a4 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2056 06a6 43F02003 		orr	r3, r3, #32
 2057 06aa 1370     		strb	r3, [r2]
1601:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pcb->state = CLOSE_WAIT;
 2058              		.loc 1 1601 0
 2059 06ac 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 2060 06ae 042B     		cmp	r3, #4
 2061 06b0 42D0     		beq	.L213
 2062              	.L150:
1606:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_seg_free(cseg);
 2063              		.loc 1 1606 0
 2064 06b2 2B68     		ldr	r3, [r5]
 2065 06b4 6367     		str	r3, [r4, #116]
1607:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2066              		.loc 1 1607 0
 2067 06b6 2846     		mov	r0, r5
 2068 06b8 FFF7FEFF 		bl	tcp_seg_free
 2069              	.LVL179:
 2070              	.L142:
 2071              	.LBE16:
1572:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->ooseq->tcphdr->seqno == pcb->rcv_nxt) {
 2072              		.loc 1 1572 0
 2073 06bc 656F     		ldr	r5, [r4, #116]
 2074 06be 002D     		cmp	r5, #0
 2075 06c0 3DD0     		beq	.L151
1573:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2076              		.loc 1 1573 0 discriminator 1
ARM GAS  /tmp/ccbjEDX3.s 			page 78


 2077 06c2 EA68     		ldr	r2, [r5, #12]
 2078 06c4 5368     		ldr	r3, [r2, #4]	@ unaligned
 2079 06c6 616A     		ldr	r1, [r4, #36]
1572:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->ooseq->tcphdr->seqno == pcb->rcv_nxt) {
 2080              		.loc 1 1572 0 discriminator 1
 2081 06c8 8B42     		cmp	r3, r1
 2082 06ca 38D1     		bne	.L151
 2083              	.LVL180:
 2084              	.LBB17:
1576:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2085              		.loc 1 1576 0
 2086 06cc 5449     		ldr	r1, .L226
 2087 06ce 0B60     		str	r3, [r1]
1578:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: ooseq tcplen > rcv_wnd\n",
 2088              		.loc 1 1578 0
 2089 06d0 2E89     		ldrh	r6, [r5, #8]
 2090 06d2 9089     		ldrh	r0, [r2, #12]	@ unaligned
 2091 06d4 FFF7FEFF 		bl	lwip_htons
 2092              	.LVL181:
 2093 06d8 10F0030F 		tst	r0, #3
 2094 06dc C8D0     		beq	.L178
 2095 06de 0123     		movs	r3, #1
 2096              	.L143:
1578:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: ooseq tcplen > rcv_wnd\n",
 2097              		.loc 1 1578 0 is_stmt 0 discriminator 4
 2098 06e0 9A19     		adds	r2, r3, r6
 2099 06e2 636A     		ldr	r3, [r4, #36]
 2100 06e4 1344     		add	r3, r3, r2
 2101 06e6 6362     		str	r3, [r4, #36]
1579:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
 2102              		.loc 1 1579 0 is_stmt 1 discriminator 4
 2103 06e8 268D     		ldrh	r6, [r4, #40]
 2104 06ea 2F89     		ldrh	r7, [r5, #8]
 2105 06ec EB68     		ldr	r3, [r5, #12]
 2106 06ee 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2107 06f0 FFF7FEFF 		bl	lwip_htons
 2108              	.LVL182:
 2109 06f4 10F0030F 		tst	r0, #3
 2110 06f8 BCD0     		beq	.L179
1579:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
 2111              		.loc 1 1579 0 is_stmt 0
 2112 06fa 0123     		movs	r3, #1
 2113              	.L144:
1579:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
 2114              		.loc 1 1579 0 discriminator 4
 2115 06fc 3B44     		add	r3, r3, r7
 2116 06fe 9E42     		cmp	r6, r3
 2117 0700 BAD3     		bcc	.L214
 2118              	.L145:
1581:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2119              		.loc 1 1581 0 is_stmt 1
 2120 0702 2E89     		ldrh	r6, [r5, #8]
 2121 0704 EB68     		ldr	r3, [r5, #12]
 2122 0706 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2123 0708 FFF7FEFF 		bl	lwip_htons
 2124              	.LVL183:
 2125 070c 10F0030F 		tst	r0, #3
ARM GAS  /tmp/ccbjEDX3.s 			page 79


 2126 0710 BAD0     		beq	.L180
 2127 0712 0123     		movs	r3, #1
 2128              	.L146:
1581:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2129              		.loc 1 1581 0 is_stmt 0 discriminator 4
 2130 0714 9A19     		adds	r2, r3, r6
 2131 0716 238D     		ldrh	r3, [r4, #40]
 2132 0718 9B1A     		subs	r3, r3, r2
 2133 071a 2385     		strh	r3, [r4, #40]	@ movhi
1583:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2134              		.loc 1 1583 0 is_stmt 1 discriminator 4
 2135 071c 2046     		mov	r0, r4
 2136 071e FFF7FEFF 		bl	tcp_update_rcv_ann_wnd
 2137              	.LVL184:
1585:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Chain this pbuf onto the pbuf that we will pass to
 2138              		.loc 1 1585 0 discriminator 4
 2139 0722 6968     		ldr	r1, [r5, #4]
 2140 0724 0B89     		ldrh	r3, [r1, #8]
 2141 0726 002B     		cmp	r3, #0
 2142 0728 B4D0     		beq	.L147
1591:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_cat(recv_data, cseg->p);
 2143              		.loc 1 1591 0
 2144 072a 454B     		ldr	r3, .L226+32
 2145 072c 1868     		ldr	r0, [r3]
 2146 072e 0028     		cmp	r0, #0
 2147 0730 ACD0     		beq	.L148
1592:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             } else {
 2148              		.loc 1 1592 0
 2149 0732 FFF7FEFF 		bl	pbuf_cat
 2150              	.LVL185:
 2151 0736 ABE7     		b	.L149
 2152              	.L213:
1602:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 2153              		.loc 1 1602 0
 2154 0738 0723     		movs	r3, #7
 2155 073a 2375     		strb	r3, [r4, #20]
 2156 073c B9E7     		b	.L150
 2157              	.LVL186:
 2158              	.L151:
 2159              	.LBE17:
1625:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2160              		.loc 1 1625 0
 2161 073e 638B     		ldrh	r3, [r4, #26]
 2162 0740 13F0010F 		tst	r3, #1
 2163 0744 06D0     		beq	.L153
1625:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2164              		.loc 1 1625 0 is_stmt 0 discriminator 1
 2165 0746 23F00103 		bic	r3, r3, #1
 2166 074a 43F00203 		orr	r3, r3, #2
 2167 074e 6383     		strh	r3, [r4, #26]	@ movhi
 2168 0750 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2169              	.LVL187:
 2170              	.L153:
1625:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2171              		.loc 1 1625 0 discriminator 2
 2172 0754 43F00103 		orr	r3, r3, #1
 2173 0758 6383     		strh	r3, [r4, #26]	@ movhi
ARM GAS  /tmp/ccbjEDX3.s 			page 80


 2174 075a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2175              	.LVL188:
 2176              	.L209:
1650:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_SACK_OUT
 2177              		.loc 1 1650 0 is_stmt 1
 2178 075e 3248     		ldr	r0, .L226+8
 2179 0760 FFF7FEFF 		bl	tcp_seg_copy
 2180              	.LVL189:
 2181 0764 6067     		str	r0, [r4, #116]
 2182 0766 04E0     		b	.L156
 2183              	.LVL190:
 2184              	.L218:
 2185              	.LBB18:
1683:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* The incoming segment is larger than the old
 2186              		.loc 1 1683 0
 2187 0768 2F4B     		ldr	r3, .L226+8
 2188 076a 1A89     		ldrh	r2, [r3, #8]
 2189 076c 2B89     		ldrh	r3, [r5, #8]
 2190 076e 9A42     		cmp	r2, r3
 2191 0770 04D8     		bhi	.L215
 2192              	.LVL191:
 2193              	.L156:
 2194              	.LBE18:
1872:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 2195              		.loc 1 1872 0
 2196 0772 2046     		mov	r0, r4
 2197 0774 FFF7FEFF 		bl	tcp_send_empty_ack
 2198              	.LVL192:
 2199 0778 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2200              	.LVL193:
 2201              	.L215:
 2202              	.LBB22:
 2203              	.LBB19:
1687:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (cseg != NULL) {
 2204              		.loc 1 1687 0
 2205 077c 2A48     		ldr	r0, .L226+8
 2206 077e FFF7FEFF 		bl	tcp_seg_copy
 2207              	.LVL194:
1688:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (prev != NULL) {
 2208              		.loc 1 1688 0
 2209 0782 0346     		mov	r3, r0
 2210 0784 0028     		cmp	r0, #0
 2211 0786 F4D0     		beq	.L156
1689:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     prev->next = cseg;
 2212              		.loc 1 1689 0
 2213 0788 2EB1     		cbz	r6, .L158
1690:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   } else {
 2214              		.loc 1 1690 0
 2215 078a 3060     		str	r0, [r6]
 2216              	.L159:
1694:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
 2217              		.loc 1 1694 0
 2218 078c 2946     		mov	r1, r5
 2219 078e 1846     		mov	r0, r3
 2220              	.LVL195:
 2221 0790 FFF7FEFF 		bl	tcp_oos_insert_segment
 2222              	.LVL196:
ARM GAS  /tmp/ccbjEDX3.s 			page 81


 2223 0794 EDE7     		b	.L156
 2224              	.LVL197:
 2225              	.L158:
1692:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
 2226              		.loc 1 1692 0
 2227 0796 6067     		str	r0, [r4, #116]
 2228 0798 F8E7     		b	.L159
 2229              	.LVL198:
 2230              	.L219:
 2231              	.LBE19:
1705:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* The sequence number of the incoming segment is lower
 2232              		.loc 1 1705 0
 2233 079a 5A1A     		subs	r2, r3, r1
 2234 079c 002A     		cmp	r2, #0
 2235 079e 30DB     		blt	.L216
 2236              	.L161:
 2237              	.LVL199:
1756:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   TCP_SEQ_GT(seqno, next->tcphdr->seqno)) {
 2238              		.loc 1 1756 0
 2239 07a0 2A68     		ldr	r2, [r5]
 2240 07a2 2E46     		mov	r6, r5
 2241 07a4 002A     		cmp	r2, #0
 2242 07a6 36D0     		beq	.L217
 2243 07a8 1546     		mov	r5, r2
 2244              	.LVL200:
 2245              	.L155:
1677:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (seqno == next->tcphdr->seqno) {
 2246              		.loc 1 1677 0 discriminator 1
 2247 07aa 002D     		cmp	r5, #0
 2248 07ac E1D0     		beq	.L156
1678:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* The sequence number of the incoming segment is the
 2249              		.loc 1 1678 0
 2250 07ae E868     		ldr	r0, [r5, #12]
 2251 07b0 4168     		ldr	r1, [r0, #4]	@ unaligned
 2252 07b2 8B42     		cmp	r3, r1
 2253 07b4 D8D0     		beq	.L218
1704:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (TCP_SEQ_LT(seqno, next->tcphdr->seqno)) {
 2254              		.loc 1 1704 0
 2255 07b6 002E     		cmp	r6, #0
 2256 07b8 EFD0     		beq	.L219
1720:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* The sequence number of the incoming segment is in
 2257              		.loc 1 1720 0
 2258 07ba F268     		ldr	r2, [r6, #12]
 2259 07bc 5268     		ldr	r2, [r2, #4]	@ unaligned
 2260 07be 9A1A     		subs	r2, r3, r2
 2261 07c0 012A     		cmp	r2, #1
 2262 07c2 EDD4     		bmi	.L161
1720:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* The sequence number of the incoming segment is in
 2263              		.loc 1 1720 0 is_stmt 0 discriminator 1
 2264 07c4 5A1A     		subs	r2, r3, r1
 2265 07c6 0132     		adds	r2, r2, #1
 2266 07c8 002A     		cmp	r2, #0
 2267 07ca E9DC     		bgt	.L161
 2268              	.LBB20:
1726:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (cseg != NULL) {
 2269              		.loc 1 1726 0 is_stmt 1
 2270 07cc 1648     		ldr	r0, .L226+8
ARM GAS  /tmp/ccbjEDX3.s 			page 82


 2271 07ce FFF7FEFF 		bl	tcp_seg_copy
 2272              	.LVL201:
1727:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     if (TCP_SEQ_GT(prev->tcphdr->seqno + prev->len, seqno)) {
 2273              		.loc 1 1727 0
 2274 07d2 0746     		mov	r7, r0
 2275 07d4 0028     		cmp	r0, #0
 2276 07d6 CCD0     		beq	.L156
1728:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       /* We need to trim the prev segment. */
 2277              		.loc 1 1728 0
 2278 07d8 F368     		ldr	r3, [r6, #12]
 2279 07da 5968     		ldr	r1, [r3, #4]	@ unaligned
 2280 07dc 3389     		ldrh	r3, [r6, #8]
 2281 07de 0B44     		add	r3, r3, r1
 2282 07e0 0F4A     		ldr	r2, .L226
 2283 07e2 1268     		ldr	r2, [r2]
 2284 07e4 9B1A     		subs	r3, r3, r2
 2285 07e6 002B     		cmp	r3, #0
 2286 07e8 05DD     		ble	.L162
1730:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pbuf_realloc(prev->p, prev->len);
 2287              		.loc 1 1730 0
 2288 07ea 521A     		subs	r2, r2, r1
 2289 07ec 91B2     		uxth	r1, r2
 2290 07ee 3181     		strh	r1, [r6, #8]	@ movhi
1731:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     }
 2291              		.loc 1 1731 0
 2292 07f0 7068     		ldr	r0, [r6, #4]
 2293              	.LVL202:
 2294 07f2 FFF7FEFF 		bl	pbuf_realloc
 2295              	.LVL203:
 2296              	.L162:
1733:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcp_oos_insert_segment(cseg, next);
 2297              		.loc 1 1733 0
 2298 07f6 3760     		str	r7, [r6]
1734:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
 2299              		.loc 1 1734 0
 2300 07f8 2946     		mov	r1, r5
 2301 07fa 3846     		mov	r0, r7
 2302 07fc FFF7FEFF 		bl	tcp_oos_insert_segment
 2303              	.LVL204:
 2304 0800 B7E7     		b	.L156
 2305              	.LVL205:
 2306              	.L216:
 2307              	.LBE20:
 2308              	.LBB21:
1710:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (cseg != NULL) {
 2309              		.loc 1 1710 0
 2310 0802 0948     		ldr	r0, .L226+8
 2311 0804 FFF7FEFF 		bl	tcp_seg_copy
 2312              	.LVL206:
1711:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pcb->ooseq = cseg;
 2313              		.loc 1 1711 0
 2314 0808 0028     		cmp	r0, #0
 2315 080a B2D0     		beq	.L156
1712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcp_oos_insert_segment(cseg, next);
 2316              		.loc 1 1712 0
 2317 080c 6067     		str	r0, [r4, #116]
1713:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
ARM GAS  /tmp/ccbjEDX3.s 			page 83


 2318              		.loc 1 1713 0
 2319 080e 2946     		mov	r1, r5
 2320 0810 FFF7FEFF 		bl	tcp_oos_insert_segment
 2321              	.LVL207:
 2322 0814 ADE7     		b	.L156
 2323              	.LVL208:
 2324              	.L217:
 2325              	.LBE21:
1757:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (TCPH_FLAGS(next->tcphdr) & TCP_FIN) {
 2326              		.loc 1 1757 0 discriminator 1
 2327 0816 591A     		subs	r1, r3, r1
1756:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   TCP_SEQ_GT(seqno, next->tcphdr->seqno)) {
 2328              		.loc 1 1756 0 discriminator 1
 2329 0818 0029     		cmp	r1, #0
 2330 081a 15DC     		bgt	.L220
 2331 081c 1546     		mov	r5, r2
 2332              	.LVL209:
 2333 081e C4E7     		b	.L155
 2334              	.L227:
 2335              		.align	2
 2336              	.L226:
 2337 0820 00000000 		.word	.LANCHOR7
 2338 0824 00000000 		.word	.LANCHOR8
 2339 0828 00000000 		.word	.LANCHOR11
 2340 082c 00000000 		.word	.LC0
 2341 0830 B0000000 		.word	.LC17
 2342 0834 4C000000 		.word	.LC2
 2343 0838 EC000000 		.word	.LC18
 2344 083c 0C010000 		.word	.LC19
 2345 0840 00000000 		.word	.LANCHOR12
 2346 0844 00000000 		.word	.LANCHOR5
 2347              	.LVL210:
 2348              	.L220:
1758:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* segment "next" already contains all data */
 2349              		.loc 1 1758 0
 2350 0848 8089     		ldrh	r0, [r0, #12]	@ unaligned
 2351 084a FFF7FEFF 		bl	lwip_htons
 2352              	.LVL211:
 2353 084e 10F0010F 		tst	r0, #1
 2354 0852 8ED1     		bne	.L156
1762:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (next->next != NULL) {
 2355              		.loc 1 1762 0
 2356 0854 3D48     		ldr	r0, .L228
 2357 0856 FFF7FEFF 		bl	tcp_seg_copy
 2358              	.LVL212:
 2359 085a 2860     		str	r0, [r5]
1763:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (TCP_SEQ_GT(next->tcphdr->seqno + next->len, seqno)) {
 2360              		.loc 1 1763 0
 2361 085c 0028     		cmp	r0, #0
 2362 085e 88D0     		beq	.L156
1764:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     /* We need to trim the last segment. */
 2363              		.loc 1 1764 0
 2364 0860 EB68     		ldr	r3, [r5, #12]
 2365 0862 5968     		ldr	r1, [r3, #4]	@ unaligned
 2366 0864 2A89     		ldrh	r2, [r5, #8]
 2367 0866 0A44     		add	r2, r2, r1
 2368 0868 394B     		ldr	r3, .L228+4
ARM GAS  /tmp/ccbjEDX3.s 			page 84


 2369 086a 1B68     		ldr	r3, [r3]
 2370 086c D21A     		subs	r2, r2, r3
 2371 086e 002A     		cmp	r2, #0
 2372 0870 05DD     		ble	.L163
1766:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pbuf_realloc(next->p, next->len);
 2373              		.loc 1 1766 0
 2374 0872 5B1A     		subs	r3, r3, r1
 2375 0874 99B2     		uxth	r1, r3
 2376 0876 2981     		strh	r1, [r5, #8]	@ movhi
1767:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
 2377              		.loc 1 1767 0
 2378 0878 6868     		ldr	r0, [r5, #4]
 2379 087a FFF7FEFF 		bl	pbuf_realloc
 2380              	.LVL213:
 2381              	.L163:
1770:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_DEBUGF(TCP_INPUT_DEBUG,
 2382              		.loc 1 1770 0
 2383 087e 354B     		ldr	r3, .L228+8
 2384 0880 1B88     		ldrh	r3, [r3]
 2385 0882 334A     		ldr	r2, .L228+4
 2386 0884 1268     		ldr	r2, [r2]
 2387 0886 1344     		add	r3, r3, r2
 2388 0888 626A     		ldr	r2, [r4, #36]
 2389 088a 218D     		ldrh	r1, [r4, #40]
 2390 088c 0A44     		add	r2, r2, r1
 2391 088e 9B1A     		subs	r3, r3, r2
 2392 0890 002B     		cmp	r3, #0
 2393 0892 7FF76EAF 		ble	.L156
1775:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       /* Must remove the FIN from the header as we're trimming
 2394              		.loc 1 1775 0
 2395 0896 2B68     		ldr	r3, [r5]
 2396 0898 DB68     		ldr	r3, [r3, #12]
 2397 089a 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2398 089c FFF7FEFF 		bl	lwip_htons
 2399              	.LVL214:
 2400 08a0 10F0010F 		tst	r0, #1
 2401 08a4 2CD1     		bne	.L221
 2402              	.L164:
1781:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pbuf_realloc(next->next->p, next->next->len);
 2403              		.loc 1 1781 0
 2404 08a6 2A68     		ldr	r2, [r5]
 2405 08a8 616A     		ldr	r1, [r4, #36]
 2406 08aa 238D     		ldrh	r3, [r4, #40]
 2407 08ac 0B44     		add	r3, r3, r1
 2408 08ae 9BB2     		uxth	r3, r3
 2409 08b0 2749     		ldr	r1, .L228+4
 2410 08b2 0968     		ldr	r1, [r1]
 2411 08b4 5B1A     		subs	r3, r3, r1
 2412 08b6 1381     		strh	r3, [r2, #8]	@ movhi
1782:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcplen = TCP_TCPLEN(next->next);
 2413              		.loc 1 1782 0
 2414 08b8 2B68     		ldr	r3, [r5]
 2415 08ba 1989     		ldrh	r1, [r3, #8]
 2416 08bc 5868     		ldr	r0, [r3, #4]
 2417 08be FFF7FEFF 		bl	pbuf_realloc
 2418              	.LVL215:
1783:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
ARM GAS  /tmp/ccbjEDX3.s 			page 85


 2419              		.loc 1 1783 0
 2420 08c2 2B68     		ldr	r3, [r5]
 2421 08c4 1D89     		ldrh	r5, [r3, #8]
 2422              	.LVL216:
 2423 08c6 DB68     		ldr	r3, [r3, #12]
 2424 08c8 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2425 08ca FFF7FEFF 		bl	lwip_htons
 2426              	.LVL217:
 2427 08ce 10F0030F 		tst	r0, #3
 2428 08d2 26D0     		beq	.L184
 2429 08d4 0123     		movs	r3, #1
 2430              	.L165:
1783:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 2431              		.loc 1 1783 0 is_stmt 0 discriminator 4
 2432 08d6 2B44     		add	r3, r3, r5
 2433 08d8 9BB2     		uxth	r3, r3
 2434 08da 1E4A     		ldr	r2, .L228+8
 2435 08dc 1380     		strh	r3, [r2]	@ movhi
1784:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                 (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
 2436              		.loc 1 1784 0 is_stmt 1 discriminator 4
 2437 08de 1C4A     		ldr	r2, .L228+4
 2438 08e0 1268     		ldr	r2, [r2]
 2439 08e2 1344     		add	r3, r3, r2
 2440 08e4 626A     		ldr	r2, [r4, #36]
 2441 08e6 218D     		ldrh	r1, [r4, #40]
 2442 08e8 0A44     		add	r2, r2, r1
 2443 08ea 9342     		cmp	r3, r2
 2444 08ec 3FF441AF 		beq	.L156
1784:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                 (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
 2445              		.loc 1 1784 0 is_stmt 0 discriminator 1
 2446 08f0 194B     		ldr	r3, .L228+12
 2447 08f2 40F2F962 		movw	r2, #1785
 2448 08f6 1949     		ldr	r1, .L228+16
 2449 08f8 1948     		ldr	r0, .L228+20
 2450 08fa FFF7FEFF 		bl	printf
 2451              	.LVL218:
 2452 08fe 38E7     		b	.L156
 2453              	.LVL219:
 2454              	.L221:
1778:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     }
 2455              		.loc 1 1778 0 is_stmt 1
 2456 0900 2B68     		ldr	r3, [r5]
 2457 0902 DF68     		ldr	r7, [r3, #12]
 2458 0904 B889     		ldrh	r0, [r7, #12]	@ unaligned
 2459 0906 06B2     		sxth	r6, r0
 2460 0908 26F47C56 		bic	r6, r6, #16128
 2461 090c 80B2     		uxth	r0, r0
 2462 090e FFF7FEFF 		bl	lwip_htons
 2463              	.LVL220:
 2464 0912 00F03E00 		and	r0, r0, #62
 2465 0916 FFF7FEFF 		bl	lwip_htons
 2466              	.LVL221:
 2467 091a 00B2     		sxth	r0, r0
 2468 091c 0643     		orrs	r6, r6, r0
 2469 091e BE81     		strh	r6, [r7, #12]	@ unaligned
 2470 0920 C1E7     		b	.L164
 2471              	.LVL222:
ARM GAS  /tmp/ccbjEDX3.s 			page 86


 2472              	.L184:
1783:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 2473              		.loc 1 1783 0
 2474 0922 0023     		movs	r3, #0
 2475 0924 D7E7     		b	.L165
 2476              	.L112:
 2477              	.LBE22:
1881:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
 2478              		.loc 1 1881 0
 2479 0926 0A4B     		ldr	r3, .L228+4
 2480 0928 1B68     		ldr	r3, [r3]
 2481 092a 626A     		ldr	r2, [r4, #36]
 2482 092c 991A     		subs	r1, r3, r2
 2483 092e 0029     		cmp	r1, #0
 2484 0930 05DB     		blt	.L167
1881:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
 2485              		.loc 1 1881 0 is_stmt 0 discriminator 1
 2486 0932 218D     		ldrh	r1, [r4, #40]
 2487 0934 0A44     		add	r2, r2, r1
 2488 0936 9B1A     		subs	r3, r3, r2
 2489 0938 0133     		adds	r3, r3, #1
 2490 093a 002B     		cmp	r3, #0
 2491 093c 03DD     		ble	.L83
 2492              	.L167:
1882:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 2493              		.loc 1 1882 0 is_stmt 1
 2494 093e 638B     		ldrh	r3, [r4, #26]
 2495 0940 43F00203 		orr	r3, r3, #2
 2496 0944 6383     		strh	r3, [r4, #26]	@ movhi
 2497              	.L83:
 2498 0946 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2499              	.LVL223:
 2500              	.L229:
 2501 094a 00BF     		.align	2
 2502              	.L228:
 2503 094c 00000000 		.word	.LANCHOR11
 2504 0950 00000000 		.word	.LANCHOR7
 2505 0954 00000000 		.word	.LANCHOR8
 2506 0958 00000000 		.word	.LC0
 2507 095c 78000000 		.word	.LC16
 2508 0960 4C000000 		.word	.LC2
 2509              		.cfi_endproc
 2510              	.LFE165:
 2512              		.section	.text.tcp_process,"ax",%progbits
 2513              		.align	1
 2514              		.syntax unified
 2515              		.thumb
 2516              		.thumb_func
 2517              		.fpu fpv5-d16
 2519              	tcp_process:
 2520              	.LFB162:
 789:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *rseg;
 2521              		.loc 1 789 0
 2522              		.cfi_startproc
 2523              		@ args = 0, pretend = 0, frame = 0
 2524              		@ frame_needed = 0, uses_anonymous_args = 0
 2525              	.LVL224:
ARM GAS  /tmp/ccbjEDX3.s 			page 87


 2526 0000 70B5     		push	{r4, r5, r6, lr}
 2527              	.LCFI15:
 2528              		.cfi_def_cfa_offset 16
 2529              		.cfi_offset 4, -16
 2530              		.cfi_offset 5, -12
 2531              		.cfi_offset 6, -8
 2532              		.cfi_offset 14, -4
 2533 0002 84B0     		sub	sp, sp, #16
 2534              	.LCFI16:
 2535              		.cfi_def_cfa_offset 32
 2536              	.LVL225:
 796:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2537              		.loc 1 796 0
 2538 0004 0446     		mov	r4, r0
 2539 0006 D0B1     		cbz	r0, .L306
 2540              	.LVL226:
 2541              	.L231:
 799:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* First, determine if the reset is acceptable. */
 2542              		.loc 1 799 0
 2543 0008 A14B     		ldr	r3, .L335
 2544 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2545 000c 13F0040F 		tst	r3, #4
 2546 0010 45D0     		beq	.L232
 801:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* "In the SYN-SENT state (a RST received in response to an initial SYN),
 2547              		.loc 1 801 0
 2548 0012 217D     		ldrb	r1, [r4, #20]	@ zero_extendqisi2
 2549 0014 0229     		cmp	r1, #2
 2550 0016 1AD0     		beq	.L307
 810:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         acceptable = 1;
 2551              		.loc 1 810 0
 2552 0018 626A     		ldr	r2, [r4, #36]
 2553 001a 9E4B     		ldr	r3, .L335+4
 2554 001c 1B68     		ldr	r3, [r3]
 2555 001e 9A42     		cmp	r2, r3
 2556 0020 24D0     		beq	.L277
 812:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   pcb->rcv_nxt + pcb->rcv_wnd)) {
 2557              		.loc 1 812 0
 2558 0022 981A     		subs	r0, r3, r2
 2559 0024 0028     		cmp	r0, #0
 2560 0026 23DB     		blt	.L278
 812:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   pcb->rcv_nxt + pcb->rcv_wnd)) {
 2561              		.loc 1 812 0 is_stmt 0 discriminator 1
 2562 0028 208D     		ldrh	r0, [r4, #40]
 2563 002a 0244     		add	r2, r2, r0
 2564 002c 9B1A     		subs	r3, r3, r2
 2565 002e 002B     		cmp	r3, #0
 2566 0030 14DD     		ble	.L308
 791:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 2567              		.loc 1 791 0 is_stmt 1
 2568 0032 0023     		movs	r3, #0
 2569              	.L234:
 2570              	.LVL227:
 822:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_process: Connection RESET\n"));
 2571              		.loc 1 822 0
 2572 0034 F3B9     		cbnz	r3, .L309
 833:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 2573              		.loc 1 833 0
ARM GAS  /tmp/ccbjEDX3.s 			page 88


 2574 0036 0025     		movs	r5, #0
 2575              	.LVL228:
 2576              	.L235:
1042:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2577              		.loc 1 1042 0
 2578 0038 2846     		mov	r0, r5
 2579 003a 04B0     		add	sp, sp, #16
 2580              	.LCFI17:
 2581              		.cfi_remember_state
 2582              		.cfi_def_cfa_offset 16
 2583              		@ sp needed
 2584 003c 70BD     		pop	{r4, r5, r6, pc}
 2585              	.LVL229:
 2586              	.L306:
 2587              	.LCFI18:
 2588              		.cfi_restore_state
 796:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2589              		.loc 1 796 0 discriminator 1
 2590 003e 964B     		ldr	r3, .L335+8
 2591 0040 4FF44772 		mov	r2, #796
 2592 0044 9549     		ldr	r1, .L335+12
 2593 0046 9648     		ldr	r0, .L335+16
 2594              	.LVL230:
 2595 0048 FFF7FEFF 		bl	printf
 2596              	.LVL231:
 2597 004c DCE7     		b	.L231
 2598              	.L307:
 804:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         acceptable = 1;
 2599              		.loc 1 804 0
 2600 004e 226D     		ldr	r2, [r4, #80]
 2601 0050 944B     		ldr	r3, .L335+20
 2602 0052 1B68     		ldr	r3, [r3]
 2603 0054 9A42     		cmp	r2, r3
 2604 0056 07D0     		beq	.L276
 791:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 2605              		.loc 1 791 0
 2606 0058 0023     		movs	r3, #0
 2607 005a EBE7     		b	.L234
 2608              	.L308:
 818:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 2609              		.loc 1 818 0
 2610 005c 638B     		ldrh	r3, [r4, #26]
 2611 005e 43F00203 		orr	r3, r3, #2
 2612 0062 6383     		strh	r3, [r4, #26]	@ movhi
 791:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 2613              		.loc 1 791 0
 2614 0064 0023     		movs	r3, #0
 2615 0066 E5E7     		b	.L234
 2616              	.L276:
 805:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 2617              		.loc 1 805 0
 2618 0068 0123     		movs	r3, #1
 2619 006a E3E7     		b	.L234
 2620              	.L277:
 811:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else  if (TCP_SEQ_BETWEEN(seqno, pcb->rcv_nxt,
 2621              		.loc 1 811 0
 2622 006c 0123     		movs	r3, #1
ARM GAS  /tmp/ccbjEDX3.s 			page 89


 2623 006e E1E7     		b	.L234
 2624              	.L278:
 791:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 2625              		.loc 1 791 0
 2626 0070 0023     		movs	r3, #0
 2627 0072 DFE7     		b	.L234
 2628              	.LVL232:
 2629              	.L309:
 824:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       recv_flags |= TF_RESET;
 2630              		.loc 1 824 0
 2631 0074 59B1     		cbz	r1, .L310
 2632              	.LVL233:
 2633              	.L236:
 825:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_clear_flags(pcb, TF_ACK_DELAY);
 2634              		.loc 1 825 0
 2635 0076 8C4A     		ldr	r2, .L335+24
 2636 0078 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2637 007a 43F00803 		orr	r3, r3, #8
 2638 007e 1370     		strb	r3, [r2]
 826:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return ERR_RST;
 2639              		.loc 1 826 0
 2640 0080 638B     		ldrh	r3, [r4, #26]
 2641 0082 23F00103 		bic	r3, r3, #1
 2642 0086 6383     		strh	r3, [r4, #26]	@ movhi
 827:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
 2643              		.loc 1 827 0
 2644 0088 6FF00D05 		mvn	r5, #13
 2645 008c D4E7     		b	.L235
 2646              	.LVL234:
 2647              	.L310:
 824:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       recv_flags |= TF_RESET;
 2648              		.loc 1 824 0 discriminator 1
 2649 008e 824B     		ldr	r3, .L335+8
 2650              	.LVL235:
 2651 0090 4FF44E72 		mov	r2, #824
 2652 0094 8549     		ldr	r1, .L335+28
 2653 0096 8248     		ldr	r0, .L335+16
 2654 0098 FFF7FEFF 		bl	printf
 2655              	.LVL236:
 2656 009c EBE7     		b	.L236
 2657              	.LVL237:
 2658              	.L232:
 837:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Cope with new connection attempt after remote end crashed */
 2659              		.loc 1 837 0
 2660 009e 13F0020F 		tst	r3, #2
 2661 00a2 0AD0     		beq	.L237
 837:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Cope with new connection attempt after remote end crashed */
 2662              		.loc 1 837 0 is_stmt 0 discriminator 1
 2663 00a4 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 2664 00a6 023B     		subs	r3, r3, #2
 2665 00a8 DBB2     		uxtb	r3, r3
 2666 00aa 012B     		cmp	r3, #1
 2667 00ac 05D9     		bls	.L237
 839:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return ERR_OK;
 2668              		.loc 1 839 0 is_stmt 1
 2669 00ae 638B     		ldrh	r3, [r4, #26]
 2670 00b0 43F00203 		orr	r3, r3, #2
ARM GAS  /tmp/ccbjEDX3.s 			page 90


 2671 00b4 6383     		strh	r3, [r4, #26]	@ movhi
 840:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 2672              		.loc 1 840 0
 2673 00b6 0025     		movs	r5, #0
 2674 00b8 BEE7     		b	.L235
 2675              	.L237:
 843:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Update the PCB (in)activity timer unless rx is closed (see tcp_shutdown) */
 2676              		.loc 1 843 0
 2677 00ba 638B     		ldrh	r3, [r4, #26]
 2678 00bc 13F0100F 		tst	r3, #16
 2679 00c0 02D1     		bne	.L238
 845:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 2680              		.loc 1 845 0
 2681 00c2 7B4B     		ldr	r3, .L335+32
 2682 00c4 1B68     		ldr	r3, [r3]
 2683 00c6 2362     		str	r3, [r4, #32]
 2684              	.L238:
 847:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   pcb->persist_probe = 0;
 2685              		.loc 1 847 0
 2686 00c8 0023     		movs	r3, #0
 2687 00ca 84F89B30 		strb	r3, [r4, #155]
 848:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2688              		.loc 1 848 0
 2689 00ce 84F89A30 		strb	r3, [r4, #154]
 850:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2690              		.loc 1 850 0
 2691 00d2 2046     		mov	r0, r4
 2692 00d4 FFF7FEFF 		bl	tcp_parseopt
 2693              	.LVL238:
 853:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     case SYN_SENT:
 2694              		.loc 1 853 0
 2695 00d8 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 2696 00da 023B     		subs	r3, r3, #2
 2697 00dc 072B     		cmp	r3, #7
 2698 00de 00F23B82 		bhi	.L281
 2699 00e2 DFE813F0 		tbh	[pc, r3, lsl #1]
 2700              	.L240:
 2701 00e6 0800     		.2byte	(.L239-.L240)/2
 2702 00e8 B200     		.2byte	(.L241-.L240)/2
 2703 00ea 5701     		.2byte	(.L242-.L240)/2
 2704 00ec 6801     		.2byte	(.L243-.L240)/2
 2705 00ee BE01     		.2byte	(.L244-.L240)/2
 2706 00f0 5701     		.2byte	(.L242-.L240)/2
 2707 00f2 EC01     		.2byte	(.L245-.L240)/2
 2708 00f4 1F02     		.2byte	(.L246-.L240)/2
 2709              		.p2align 1
 2710              	.L239:
 858:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           && (ackno == pcb->lastack + 1)) {
 2711              		.loc 1 858 0
 2712 00f6 664B     		ldr	r3, .L335
 2713 00f8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2714 00fa 03F01202 		and	r2, r3, #18
 2715 00fe 122A     		cmp	r2, #18
 2716 0100 05D0     		beq	.L311
 2717              	.L247:
 909:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* send a RST to bring the other side in a non-synchronized state. */
 2718              		.loc 1 909 0
ARM GAS  /tmp/ccbjEDX3.s 			page 91


 2719 0102 13F0100F 		tst	r3, #16
 2720 0106 40F08180 		bne	.L312
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2721              		.loc 1 1041 0
 2722 010a 0025     		movs	r5, #0
 2723 010c 94E7     		b	.L235
 2724              	.L311:
 859:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rcv_nxt = seqno + 1;
 2725              		.loc 1 859 0
 2726 010e 626C     		ldr	r2, [r4, #68]
 2727 0110 0132     		adds	r2, r2, #1
 2728 0112 6449     		ldr	r1, .L335+20
 2729 0114 0968     		ldr	r1, [r1]
 2730 0116 8A42     		cmp	r2, r1
 2731 0118 F3D1     		bne	.L247
 860:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rcv_ann_right_edge = pcb->rcv_nxt;
 2732              		.loc 1 860 0
 2733 011a 5E4B     		ldr	r3, .L335+4
 2734 011c 1B68     		ldr	r3, [r3]
 2735 011e 5A1C     		adds	r2, r3, #1
 2736 0120 6262     		str	r2, [r4, #36]
 861:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->lastack = ackno;
 2737              		.loc 1 861 0
 2738 0122 E262     		str	r2, [r4, #44]
 862:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->snd_wnd = tcphdr->wnd;
 2739              		.loc 1 862 0
 2740 0124 6164     		str	r1, [r4, #68]
 863:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->snd_wnd_max = pcb->snd_wnd;
 2741              		.loc 1 863 0
 2742 0126 634A     		ldr	r2, .L335+36
 2743 0128 1268     		ldr	r2, [r2]
 2744 012a D289     		ldrh	r2, [r2, #14]	@ unaligned
 2745 012c A4F86020 		strh	r2, [r4, #96]	@ movhi
 864:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->snd_wl1 = seqno - 1; /* initialise to seqno - 1 to force window update */
 2746              		.loc 1 864 0
 2747 0130 A4F86220 		strh	r2, [r4, #98]	@ movhi
 865:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = ESTABLISHED;
 2748              		.loc 1 865 0
 2749 0134 013B     		subs	r3, r3, #1
 2750 0136 6365     		str	r3, [r4, #84]
 866:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2751              		.loc 1 866 0
 2752 0138 0423     		movs	r3, #4
 2753 013a 2375     		strb	r3, [r4, #20]
 869:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
 2754              		.loc 1 869 0
 2755 013c 668E     		ldrh	r6, [r4, #50]
 2756 013e E518     		adds	r5, r4, r3
 2757 0140 2846     		mov	r0, r5
 2758 0142 FFF7FEFF 		bl	ip4_route
 2759              	.LVL239:
 2760 0146 2A46     		mov	r2, r5
 2761 0148 0146     		mov	r1, r0
 2762 014a 3046     		mov	r0, r6
 2763 014c FFF7FEFF 		bl	tcp_eff_send_mss_netif
 2764              	.LVL240:
 2765 0150 6086     		strh	r0, [r4, #50]	@ movhi
ARM GAS  /tmp/ccbjEDX3.s 			page 92


 872:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SENT): cwnd %"TCPWNDSIZE_F
 2766              		.loc 1 872 0
 2767 0152 4200     		lsls	r2, r0, #1
 2768 0154 41F21C13 		movw	r3, #4380
 2769 0158 9342     		cmp	r3, r2
 2770 015a 38BF     		it	cc
 2771 015c 1346     		movcc	r3, r2
 2772 015e B3EB800F 		cmp	r3, r0, lsl #2
 2773 0162 2ED9     		bls	.L248
 872:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SENT): cwnd %"TCPWNDSIZE_F
 2774              		.loc 1 872 0 is_stmt 0 discriminator 1
 2775 0164 8300     		lsls	r3, r0, #2
 2776 0166 9BB2     		uxth	r3, r3
 2777              	.L249:
 872:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SENT): cwnd %"TCPWNDSIZE_F
 2778              		.loc 1 872 0 discriminator 8
 2779 0168 A4F84830 		strh	r3, [r4, #72]	@ movhi
 876:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         --pcb->snd_queuelen;
 2780              		.loc 1 876 0 is_stmt 1 discriminator 8
 2781 016c B4F86630 		ldrh	r3, [r4, #102]
 2782 0170 002B     		cmp	r3, #0
 2783 0172 30D0     		beq	.L313
 2784              	.L250:
 877:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_process: SYN-SENT --queuelen %"TCPWNDSIZE_F"\n", (tcpwnd_
 2785              		.loc 1 877 0
 2786 0174 B4F86630 		ldrh	r3, [r4, #102]
 2787 0178 013B     		subs	r3, r3, #1
 2788 017a A4F86630 		strh	r3, [r4, #102]	@ movhi
 879:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (rseg == NULL) {
 2789              		.loc 1 879 0
 2790 017e 256F     		ldr	r5, [r4, #112]
 2791              	.LVL241:
 880:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* might happen if tcp_output fails in tcp_rexmit_rto()
 2792              		.loc 1 880 0
 2793 0180 002D     		cmp	r5, #0
 2794 0182 30D0     		beq	.L314
 887:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2795              		.loc 1 887 0
 2796 0184 2B68     		ldr	r3, [r5]
 2797 0186 2367     		str	r3, [r4, #112]
 2798              	.L253:
 889:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2799              		.loc 1 889 0
 2800 0188 2846     		mov	r0, r5
 2801 018a FFF7FEFF 		bl	tcp_seg_free
 2802              	.LVL242:
 893:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->rtime = -1;
 2803              		.loc 1 893 0
 2804 018e 236F     		ldr	r3, [r4, #112]
 2805 0190 002B     		cmp	r3, #0
 2806 0192 35D0     		beq	.L315
 896:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->nrtx = 0;
 2807              		.loc 1 896 0
 2808 0194 0023     		movs	r3, #0
 2809 0196 2386     		strh	r3, [r4, #48]	@ movhi
 897:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2810              		.loc 1 897 0
ARM GAS  /tmp/ccbjEDX3.s 			page 93


 2811 0198 84F84230 		strb	r3, [r4, #66]
 2812              	.L255:
 902:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (err == ERR_ABRT) {
 2813              		.loc 1 902 0
 2814 019c D4F88830 		ldr	r3, [r4, #136]
 2815 01a0 002B     		cmp	r3, #0
 2816 01a2 31D0     		beq	.L283
 902:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (err == ERR_ABRT) {
 2817              		.loc 1 902 0 is_stmt 0 discriminator 1
 2818 01a4 0022     		movs	r2, #0
 2819 01a6 2146     		mov	r1, r4
 2820 01a8 2069     		ldr	r0, [r4, #16]
 2821 01aa 9847     		blx	r3
 2822              	.LVL243:
 2823 01ac 0546     		mov	r5, r0
 2824              	.LVL244:
 2825              	.L256:
 903:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           return ERR_ABRT;
 2826              		.loc 1 903 0 is_stmt 1
 2827 01ae 15F10D0F 		cmn	r5, #13
 2828 01b2 3FF441AF 		beq	.L235
 906:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 2829              		.loc 1 906 0
 2830 01b6 638B     		ldrh	r3, [r4, #26]
 2831 01b8 43F00203 		orr	r3, r3, #2
 2832 01bc 6383     		strh	r3, [r4, #26]	@ movhi
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2833              		.loc 1 1041 0
 2834 01be 0025     		movs	r5, #0
 2835              	.LVL245:
 906:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 2836              		.loc 1 906 0
 2837 01c0 3AE7     		b	.L235
 2838              	.LVL246:
 2839              	.L248:
 872:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SENT): cwnd %"TCPWNDSIZE_F
 2840              		.loc 1 872 0 discriminator 2
 2841 01c2 41F21C13 		movw	r3, #4380
 2842 01c6 9A42     		cmp	r2, r3
 2843 01c8 02D9     		bls	.L282
 872:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SENT): cwnd %"TCPWNDSIZE_F
 2844              		.loc 1 872 0 is_stmt 0 discriminator 4
 2845 01ca 4300     		lsls	r3, r0, #1
 2846 01cc 9BB2     		uxth	r3, r3
 2847 01ce CBE7     		b	.L249
 2848              	.L282:
 872:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SENT): cwnd %"TCPWNDSIZE_F
 2849              		.loc 1 872 0
 2850 01d0 41F21C13 		movw	r3, #4380
 2851 01d4 C8E7     		b	.L249
 2852              	.L313:
 876:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         --pcb->snd_queuelen;
 2853              		.loc 1 876 0 is_stmt 1 discriminator 1
 2854 01d6 304B     		ldr	r3, .L335+8
 2855 01d8 4FF45B72 		mov	r2, #876
 2856 01dc 3649     		ldr	r1, .L335+40
 2857 01de 3048     		ldr	r0, .L335+16
ARM GAS  /tmp/ccbjEDX3.s 			page 94


 2858 01e0 FFF7FEFF 		bl	printf
 2859              	.LVL247:
 2860 01e4 C6E7     		b	.L250
 2861              	.LVL248:
 2862              	.L314:
 883:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("no segment to free", rseg != NULL);
 2863              		.loc 1 883 0
 2864 01e6 E56E     		ldr	r5, [r4, #108]
 2865              	.LVL249:
 884:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unsent = rseg->next;
 2866              		.loc 1 884 0
 2867 01e8 15B1     		cbz	r5, .L316
 2868              	.L252:
 885:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else {
 2869              		.loc 1 885 0
 2870 01ea 2B68     		ldr	r3, [r5]
 2871 01ec E366     		str	r3, [r4, #108]
 2872 01ee CBE7     		b	.L253
 2873              	.L316:
 884:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unsent = rseg->next;
 2874              		.loc 1 884 0 discriminator 1
 2875 01f0 294B     		ldr	r3, .L335+8
 2876 01f2 4FF45D72 		mov	r2, #884
 2877 01f6 3149     		ldr	r1, .L335+44
 2878 01f8 2948     		ldr	r0, .L335+16
 2879 01fa FFF7FEFF 		bl	printf
 2880              	.LVL250:
 2881 01fe F4E7     		b	.L252
 2882              	.L315:
 894:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else {
 2883              		.loc 1 894 0
 2884 0200 4FF6FF73 		movw	r3, #65535
 2885 0204 2386     		strh	r3, [r4, #48]	@ movhi
 2886 0206 C9E7     		b	.L255
 2887              	.L283:
 902:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (err == ERR_ABRT) {
 2888              		.loc 1 902 0
 2889 0208 0025     		movs	r5, #0
 2890              	.LVL251:
 2891 020a D0E7     		b	.L256
 2892              	.L312:
 912:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Resend SYN immediately (don't wait for rto timeout) to establish
 2893              		.loc 1 912 0
 2894 020c 294B     		ldr	r3, .L335+36
 2895 020e 1868     		ldr	r0, [r3]
 911:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 2896              		.loc 1 911 0
 2897 0210 2B4B     		ldr	r3, .L335+48
 2898 0212 2C4A     		ldr	r2, .L335+52
 2899 0214 1588     		ldrh	r5, [r2]
 2900 0216 1F4A     		ldr	r2, .L335+4
 2901 0218 1268     		ldr	r2, [r2]
 2902 021a 2249     		ldr	r1, .L335+20
 2903 021c 0968     		ldr	r1, [r1]
 2904 021e 0688     		ldrh	r6, [r0]	@ unaligned
 2905 0220 0296     		str	r6, [sp, #8]
 2906 0222 4088     		ldrh	r0, [r0, #2]	@ unaligned
ARM GAS  /tmp/ccbjEDX3.s 			page 95


 2907 0224 0190     		str	r0, [sp, #4]
 2908 0226 181F     		subs	r0, r3, #4
 2909 0228 0090     		str	r0, [sp]
 2910 022a 2A44     		add	r2, r2, r5
 2911 022c 2046     		mov	r0, r4
 2912 022e FFF7FEFF 		bl	tcp_rst
 2913              	.LVL252:
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->rtime = 0;
 2914              		.loc 1 916 0
 2915 0232 94F84230 		ldrb	r3, [r4, #66]	@ zero_extendqisi2
 2916 0236 052B     		cmp	r3, #5
 2917 0238 01D9     		bls	.L317
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2918              		.loc 1 1041 0
 2919 023a 0025     		movs	r5, #0
 2920 023c FCE6     		b	.L235
 2921              	.L317:
 917:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_rexmit_rto(pcb);
 2922              		.loc 1 917 0
 2923 023e 0025     		movs	r5, #0
 2924 0240 2586     		strh	r5, [r4, #48]	@ movhi
 918:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2925              		.loc 1 918 0
 2926 0242 2046     		mov	r0, r4
 2927 0244 FFF7FEFF 		bl	tcp_rexmit_rto
 2928              	.LVL253:
 2929 0248 F6E6     		b	.L235
 2930              	.L241:
 923:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* expected ACK number? */
 2931              		.loc 1 923 0
 2932 024a 114B     		ldr	r3, .L335
 2933 024c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2934 024e 13F0100F 		tst	r3, #16
 2935 0252 00F08E80 		beq	.L257
 925:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = ESTABLISHED;
 2936              		.loc 1 925 0
 2937 0256 134B     		ldr	r3, .L335+20
 2938 0258 1968     		ldr	r1, [r3]
 2939 025a 636C     		ldr	r3, [r4, #68]
 2940 025c CB1A     		subs	r3, r1, r3
 2941 025e 012B     		cmp	r3, #1
 2942 0260 03D4     		bmi	.L258
 925:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = ESTABLISHED;
 2943              		.loc 1 925 0 is_stmt 0 discriminator 1
 2944 0262 236D     		ldr	r3, [r4, #80]
 2945 0264 CB1A     		subs	r3, r1, r3
 2946 0266 002B     		cmp	r3, #0
 2947 0268 2EDD     		ble	.L318
 2948              	.L258:
 972:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2949              		.loc 1 972 0 is_stmt 1
 2950 026a 124B     		ldr	r3, .L335+36
 2951 026c 1868     		ldr	r0, [r3]
 971:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 2952              		.loc 1 971 0
 2953 026e 144B     		ldr	r3, .L335+48
 2954 0270 144A     		ldr	r2, .L335+52
ARM GAS  /tmp/ccbjEDX3.s 			page 96


 2955 0272 1588     		ldrh	r5, [r2]
 2956 0274 074A     		ldr	r2, .L335+4
 2957 0276 1268     		ldr	r2, [r2]
 2958 0278 0688     		ldrh	r6, [r0]	@ unaligned
 2959 027a 0296     		str	r6, [sp, #8]
 2960 027c 4088     		ldrh	r0, [r0, #2]	@ unaligned
 2961 027e 0190     		str	r0, [sp, #4]
 2962 0280 181F     		subs	r0, r3, #4
 2963 0282 0090     		str	r0, [sp]
 2964 0284 2A44     		add	r2, r2, r5
 2965 0286 2046     		mov	r0, r4
 2966 0288 FFF7FEFF 		bl	tcp_rst
 2967              	.LVL254:
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2968              		.loc 1 1041 0
 2969 028c 0025     		movs	r5, #0
 2970 028e D3E6     		b	.L235
 2971              	.L336:
 2972              		.align	2
 2973              	.L335:
 2974 0290 00000000 		.word	.LANCHOR6
 2975 0294 00000000 		.word	.LANCHOR7
 2976 0298 00000000 		.word	.LC0
 2977 029c 00000000 		.word	.LC20
 2978 02a0 4C000000 		.word	.LC2
 2979 02a4 00000000 		.word	.LANCHOR9
 2980 02a8 00000000 		.word	.LANCHOR5
 2981 02ac 1C000000 		.word	.LC21
 2982 02b0 00000000 		.word	tcp_ticks
 2983 02b4 00000000 		.word	.LANCHOR3
 2984 02b8 3C000000 		.word	.LC22
 2985 02bc 54000000 		.word	.LC23
 2986 02c0 14000000 		.word	ip_data+20
 2987 02c4 00000000 		.word	.LANCHOR8
 2988              	.L318:
 926:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_DEBUG, ("TCP connection established %"U16_F" -> %"U16_F".\n", inseg.tcphd
 2989              		.loc 1 926 0
 2990 02c8 0423     		movs	r3, #4
 2991 02ca 2375     		strb	r3, [r4, #20]
 929:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* listen pcb might be closed by now */
 2992              		.loc 1 929 0
 2993 02cc E36F     		ldr	r3, [r4, #124]
 2994 02ce E3B1     		cbz	r3, .L286
 936:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
 2995              		.loc 1 936 0
 2996 02d0 9B69     		ldr	r3, [r3, #24]
 2997 02d2 93B1     		cbz	r3, .L319
 2998              	.L260:
 940:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 2999              		.loc 1 940 0
 3000 02d4 E36F     		ldr	r3, [r4, #124]
 3001 02d6 9B69     		ldr	r3, [r3, #24]
 3002 02d8 D3B1     		cbz	r3, .L287
 940:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 3003              		.loc 1 940 0 is_stmt 0 discriminator 1
 3004 02da 0022     		movs	r2, #0
 3005 02dc 2146     		mov	r1, r4
ARM GAS  /tmp/ccbjEDX3.s 			page 97


 3006 02de 2069     		ldr	r0, [r4, #16]
 3007 02e0 9847     		blx	r3
 3008              	.LVL255:
 3009 02e2 0546     		mov	r5, r0
 3010              	.LVL256:
 3011              	.L259:
 942:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* If the accept function returns with an error, we abort
 3012              		.loc 1 942 0 is_stmt 1
 3013 02e4 BDB1     		cbz	r5, .L261
 946:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_abort(pcb);
 3014              		.loc 1 946 0
 3015 02e6 15F10D0F 		cmn	r5, #13
 3016 02ea 3FF4A5AE 		beq	.L235
 947:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 3017              		.loc 1 947 0
 3018 02ee 2046     		mov	r0, r4
 3019 02f0 FFF7FEFF 		bl	tcp_abort
 3020              	.LVL257:
 949:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 3021              		.loc 1 949 0
 3022 02f4 6FF00C05 		mvn	r5, #12
 3023              	.LVL258:
 3024 02f8 9EE6     		b	.L235
 3025              	.LVL259:
 3026              	.L319:
 936:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
 3027              		.loc 1 936 0 discriminator 1
 3028 02fa 9D4B     		ldr	r3, .L337
 3029 02fc 4FF46A72 		mov	r2, #936
 3030 0300 9C49     		ldr	r1, .L337+4
 3031 0302 9D48     		ldr	r0, .L337+8
 3032 0304 FFF7FEFF 		bl	printf
 3033              	.LVL260:
 3034 0308 E4E7     		b	.L260
 3035              	.L286:
 931:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else
 3036              		.loc 1 931 0
 3037 030a 6FF00505 		mvn	r5, #5
 3038 030e E9E7     		b	.L259
 3039              	.L287:
 940:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 3040              		.loc 1 940 0
 3041 0310 6FF00F05 		mvn	r5, #15
 3042 0314 E6E7     		b	.L259
 3043              	.LVL261:
 3044              	.L261:
 953:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3045              		.loc 1 953 0
 3046 0316 2046     		mov	r0, r4
 3047 0318 FFF7FEFF 		bl	tcp_receive
 3048              	.LVL262:
 956:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             recv_acked--;
 3049              		.loc 1 956 0
 3050 031c 974B     		ldr	r3, .L337+12
 3051 031e 1B88     		ldrh	r3, [r3]
 3052 0320 13B1     		cbz	r3, .L262
 957:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
ARM GAS  /tmp/ccbjEDX3.s 			page 98


 3053              		.loc 1 957 0
 3054 0322 013B     		subs	r3, r3, #1
 3055 0324 954A     		ldr	r2, .L337+12
 3056 0326 1380     		strh	r3, [r2]	@ movhi
 3057              	.L262:
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SYN_RCVD): cwnd %"TCPWNDSIZE_F
 3058              		.loc 1 960 0
 3059 0328 638E     		ldrh	r3, [r4, #50]
 3060 032a 5900     		lsls	r1, r3, #1
 3061 032c 41F21C12 		movw	r2, #4380
 3062 0330 8A42     		cmp	r2, r1
 3063 0332 38BF     		it	cc
 3064 0334 0A46     		movcc	r2, r1
 3065 0336 B2EB830F 		cmp	r2, r3, lsl #2
 3066 033a 10D9     		bls	.L263
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SYN_RCVD): cwnd %"TCPWNDSIZE_F
 3067              		.loc 1 960 0 is_stmt 0 discriminator 1
 3068 033c 9B00     		lsls	r3, r3, #2
 3069 033e 9BB2     		uxth	r3, r3
 3070              	.L264:
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SYN_RCVD): cwnd %"TCPWNDSIZE_F
 3071              		.loc 1 960 0 discriminator 8
 3072 0340 A4F84830 		strh	r3, [r4, #72]	@ movhi
 965:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             tcp_ack_now(pcb);
 3073              		.loc 1 965 0 is_stmt 1 discriminator 8
 3074 0344 8E4B     		ldr	r3, .L337+16
 3075 0346 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3076 0348 13F0200F 		tst	r3, #32
 3077 034c 3FF474AE 		beq	.L235
 966:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->state = CLOSE_WAIT;
 3078              		.loc 1 966 0
 3079 0350 638B     		ldrh	r3, [r4, #26]
 3080 0352 43F00203 		orr	r3, r3, #2
 3081 0356 6383     		strh	r3, [r4, #26]	@ movhi
 967:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 3082              		.loc 1 967 0
 3083 0358 0723     		movs	r3, #7
 3084 035a 2375     		strb	r3, [r4, #20]
 3085 035c 6CE6     		b	.L235
 3086              	.L263:
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SYN_RCVD): cwnd %"TCPWNDSIZE_F
 3087              		.loc 1 960 0 discriminator 2
 3088 035e 41F21C12 		movw	r2, #4380
 3089 0362 9142     		cmp	r1, r2
 3090 0364 02D9     		bls	.L288
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SYN_RCVD): cwnd %"TCPWNDSIZE_F
 3091              		.loc 1 960 0 is_stmt 0 discriminator 4
 3092 0366 5B00     		lsls	r3, r3, #1
 3093 0368 9BB2     		uxth	r3, r3
 3094 036a E9E7     		b	.L264
 3095              	.L288:
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SYN_RCVD): cwnd %"TCPWNDSIZE_F
 3096              		.loc 1 960 0
 3097 036c 41F21C13 		movw	r3, #4380
 3098 0370 E6E7     		b	.L264
 3099              	.LVL263:
 3100              	.L257:
ARM GAS  /tmp/ccbjEDX3.s 			page 99


 974:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Looks like another copy of the SYN - retransmit our SYN-ACK */
 3101              		.loc 1 974 0 is_stmt 1
 3102 0372 13F0020F 		tst	r3, #2
 3103 0376 00F0F180 		beq	.L289
 974:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Looks like another copy of the SYN - retransmit our SYN-ACK */
 3104              		.loc 1 974 0 is_stmt 0 discriminator 1
 3105 037a 636A     		ldr	r3, [r4, #36]
 3106 037c 013B     		subs	r3, r3, #1
 3107 037e 814A     		ldr	r2, .L337+20
 3108 0380 1268     		ldr	r2, [r2]
 3109 0382 9342     		cmp	r3, r2
 3110 0384 01D0     		beq	.L320
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3111              		.loc 1 1041 0 is_stmt 1
 3112 0386 0025     		movs	r5, #0
 3113 0388 56E6     		b	.L235
 3114              	.L320:
 976:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 3115              		.loc 1 976 0
 3116 038a 2046     		mov	r0, r4
 3117 038c FFF7FEFF 		bl	tcp_rexmit
 3118              	.LVL264:
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3119              		.loc 1 1041 0
 3120 0390 0025     		movs	r5, #0
 3121 0392 51E6     		b	.L235
 3122              	.L242:
 982:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (recv_flags & TF_GOT_FIN) { /* passive close */
 3123              		.loc 1 982 0
 3124 0394 2046     		mov	r0, r4
 3125 0396 FFF7FEFF 		bl	tcp_receive
 3126              	.LVL265:
 983:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack_now(pcb);
 3127              		.loc 1 983 0
 3128 039a 794B     		ldr	r3, .L337+16
 3129 039c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3130 039e 13F0200F 		tst	r3, #32
 3131 03a2 00F0DD80 		beq	.L291
 984:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = CLOSE_WAIT;
 3132              		.loc 1 984 0
 3133 03a6 638B     		ldrh	r3, [r4, #26]
 3134 03a8 43F00203 		orr	r3, r3, #2
 3135 03ac 6383     		strh	r3, [r4, #26]	@ movhi
 985:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 3136              		.loc 1 985 0
 3137 03ae 0723     		movs	r3, #7
 3138 03b0 2375     		strb	r3, [r4, #20]
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3139              		.loc 1 1041 0
 3140 03b2 0025     		movs	r5, #0
 3141 03b4 40E6     		b	.L235
 3142              	.L243:
 989:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (recv_flags & TF_GOT_FIN) {
 3143              		.loc 1 989 0
 3144 03b6 2046     		mov	r0, r4
 3145 03b8 FFF7FEFF 		bl	tcp_receive
 3146              	.LVL266:
ARM GAS  /tmp/ccbjEDX3.s 			page 100


 990:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if ((flags & TCP_ACK) && (ackno == pcb->snd_nxt) &&
 3147              		.loc 1 990 0
 3148 03bc 704B     		ldr	r3, .L337+16
 3149 03be 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3150 03c0 13F0200F 		tst	r3, #32
 3151 03c4 38D0     		beq	.L265
 991:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->unsent == NULL) {
 3152              		.loc 1 991 0
 3153 03c6 704B     		ldr	r3, .L337+24
 3154 03c8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3155 03ca 13F0100F 		tst	r3, #16
 3156 03ce 04D0     		beq	.L266
 991:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->unsent == NULL) {
 3157              		.loc 1 991 0 is_stmt 0 discriminator 1
 3158 03d0 226D     		ldr	r2, [r4, #80]
 3159 03d2 6E4B     		ldr	r3, .L337+28
 3160 03d4 1B68     		ldr	r3, [r3]
 3161 03d6 9A42     		cmp	r2, r3
 3162 03d8 07D0     		beq	.L321
 3163              	.L266:
1001:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = CLOSING;
 3164              		.loc 1 1001 0 is_stmt 1
 3165 03da 638B     		ldrh	r3, [r4, #26]
 3166 03dc 43F00203 		orr	r3, r3, #2
 3167 03e0 6383     		strh	r3, [r4, #26]	@ movhi
1002:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 3168              		.loc 1 1002 0
 3169 03e2 0823     		movs	r3, #8
 3170 03e4 2375     		strb	r3, [r4, #20]
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3171              		.loc 1 1041 0
 3172 03e6 0025     		movs	r5, #0
 3173 03e8 26E6     		b	.L235
 3174              	.L321:
 992:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_DEBUG,
 3175              		.loc 1 992 0 discriminator 2
 3176 03ea E36E     		ldr	r3, [r4, #108]
 991:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->unsent == NULL) {
 3177              		.loc 1 991 0 discriminator 2
 3178 03ec 002B     		cmp	r3, #0
 3179 03ee F4D1     		bne	.L266
 995:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_pcb_purge(pcb);
 3180              		.loc 1 995 0
 3181 03f0 638B     		ldrh	r3, [r4, #26]
 3182 03f2 43F00203 		orr	r3, r3, #2
 3183 03f6 6383     		strh	r3, [r4, #26]	@ movhi
 996:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           TCP_RMV_ACTIVE(pcb);
 3184              		.loc 1 996 0
 3185 03f8 2046     		mov	r0, r4
 3186 03fa FFF7FEFF 		bl	tcp_pcb_purge
 3187              	.LVL267:
 997:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = TIME_WAIT;
 3188              		.loc 1 997 0
 3189 03fe 644B     		ldr	r3, .L337+32
 3190 0400 1B68     		ldr	r3, [r3]
 3191 0402 9C42     		cmp	r4, r3
 3192 0404 05D0     		beq	.L322
ARM GAS  /tmp/ccbjEDX3.s 			page 101


 3193              	.L267:
 3194              	.LVL268:
 3195              	.LBB23:
 997:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = TIME_WAIT;
 3196              		.loc 1 997 0 is_stmt 0 discriminator 8
 3197 0406 53B1     		cbz	r3, .L268
 997:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = TIME_WAIT;
 3198              		.loc 1 997 0 discriminator 9
 3199 0408 DA68     		ldr	r2, [r3, #12]
 3200 040a 9442     		cmp	r4, r2
 3201 040c 05D0     		beq	.L323
 997:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = TIME_WAIT;
 3202              		.loc 1 997 0
 3203 040e 1346     		mov	r3, r2
 3204              	.LVL269:
 3205 0410 F9E7     		b	.L267
 3206              	.L322:
 3207              	.LBE23:
 997:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = TIME_WAIT;
 3208              		.loc 1 997 0 discriminator 1
 3209 0412 DA68     		ldr	r2, [r3, #12]
 3210 0414 5E4B     		ldr	r3, .L337+32
 3211 0416 1A60     		str	r2, [r3]
 3212 0418 01E0     		b	.L268
 3213              	.LVL270:
 3214              	.L323:
 3215              	.LBB24:
 997:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = TIME_WAIT;
 3216              		.loc 1 997 0 discriminator 5
 3217 041a E268     		ldr	r2, [r4, #12]
 3218 041c DA60     		str	r2, [r3, #12]
 3219              	.LVL271:
 3220              	.L268:
 3221              	.LBE24:
 997:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = TIME_WAIT;
 3222              		.loc 1 997 0 discriminator 10
 3223 041e 0122     		movs	r2, #1
 3224 0420 5C4B     		ldr	r3, .L337+36
 3225 0422 1A70     		strb	r2, [r3]
 998:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           TCP_REG(&tcp_tw_pcbs, pcb);
 3226              		.loc 1 998 0 is_stmt 1 discriminator 10
 3227 0424 0A23     		movs	r3, #10
 3228 0426 2375     		strb	r3, [r4, #20]
 999:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else {
 3229              		.loc 1 999 0 discriminator 10
 3230 0428 5B4B     		ldr	r3, .L337+40
 3231 042a 1A68     		ldr	r2, [r3]
 3232 042c E260     		str	r2, [r4, #12]
 3233 042e 1C60     		str	r4, [r3]
 3234 0430 FFF7FEFF 		bl	tcp_timer_needed
 3235              	.LVL272:
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3236              		.loc 1 1041 0 discriminator 10
 3237 0434 0025     		movs	r5, #0
 999:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else {
 3238              		.loc 1 999 0 discriminator 10
 3239 0436 FFE5     		b	.L235
ARM GAS  /tmp/ccbjEDX3.s 			page 102


 3240              	.L265:
1004:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  pcb->unsent == NULL) {
 3241              		.loc 1 1004 0
 3242 0438 534B     		ldr	r3, .L337+24
 3243 043a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3244 043c 13F0100F 		tst	r3, #16
 3245 0440 00F09080 		beq	.L293
1004:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  pcb->unsent == NULL) {
 3246              		.loc 1 1004 0 is_stmt 0 discriminator 1
 3247 0444 226D     		ldr	r2, [r4, #80]
 3248 0446 514B     		ldr	r3, .L337+28
 3249 0448 1B68     		ldr	r3, [r3]
 3250 044a 9A42     		cmp	r2, r3
 3251 044c 01D0     		beq	.L324
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3252              		.loc 1 1041 0 is_stmt 1
 3253 044e 0025     		movs	r5, #0
 3254 0450 F2E5     		b	.L235
 3255              	.L324:
1005:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = FIN_WAIT_2;
 3256              		.loc 1 1005 0 discriminator 2
 3257 0452 E36E     		ldr	r3, [r4, #108]
1004:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  pcb->unsent == NULL) {
 3258              		.loc 1 1004 0 discriminator 2
 3259 0454 0BB1     		cbz	r3, .L325
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3260              		.loc 1 1041 0
 3261 0456 0025     		movs	r5, #0
 3262 0458 EEE5     		b	.L235
 3263              	.L325:
1006:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 3264              		.loc 1 1006 0
 3265 045a 0623     		movs	r3, #6
 3266 045c 2375     		strb	r3, [r4, #20]
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3267              		.loc 1 1041 0
 3268 045e 0025     		movs	r5, #0
 3269 0460 EAE5     		b	.L235
 3270              	.L244:
1010:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (recv_flags & TF_GOT_FIN) {
 3271              		.loc 1 1010 0
 3272 0462 2046     		mov	r0, r4
 3273 0464 FFF7FEFF 		bl	tcp_receive
 3274              	.LVL273:
1011:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: FIN_WAIT_2 %"U16_F" -> %"U16_F".\n", inseg.
 3275              		.loc 1 1011 0
 3276 0468 454B     		ldr	r3, .L337+16
 3277 046a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3278 046c 13F0200F 		tst	r3, #32
 3279 0470 01D1     		bne	.L326
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3280              		.loc 1 1041 0
 3281 0472 0025     		movs	r5, #0
 3282 0474 E0E5     		b	.L235
 3283              	.L326:
1013:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_pcb_purge(pcb);
 3284              		.loc 1 1013 0
ARM GAS  /tmp/ccbjEDX3.s 			page 103


 3285 0476 638B     		ldrh	r3, [r4, #26]
 3286 0478 43F00203 		orr	r3, r3, #2
 3287 047c 6383     		strh	r3, [r4, #26]	@ movhi
1014:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_RMV_ACTIVE(pcb);
 3288              		.loc 1 1014 0
 3289 047e 2046     		mov	r0, r4
 3290 0480 FFF7FEFF 		bl	tcp_pcb_purge
 3291              	.LVL274:
1015:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3292              		.loc 1 1015 0
 3293 0484 424B     		ldr	r3, .L337+32
 3294 0486 1B68     		ldr	r3, [r3]
 3295 0488 9C42     		cmp	r4, r3
 3296 048a 05D0     		beq	.L327
 3297              	.L270:
 3298              	.LVL275:
 3299              	.LBB25:
1015:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3300              		.loc 1 1015 0 is_stmt 0 discriminator 8
 3301 048c 53B1     		cbz	r3, .L271
1015:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3302              		.loc 1 1015 0 discriminator 9
 3303 048e DA68     		ldr	r2, [r3, #12]
 3304 0490 9442     		cmp	r4, r2
 3305 0492 05D0     		beq	.L328
1015:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3306              		.loc 1 1015 0
 3307 0494 1346     		mov	r3, r2
 3308              	.LVL276:
 3309 0496 F9E7     		b	.L270
 3310              	.L327:
 3311              	.LBE25:
1015:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3312              		.loc 1 1015 0 discriminator 1
 3313 0498 DA68     		ldr	r2, [r3, #12]
 3314 049a 3D4B     		ldr	r3, .L337+32
 3315 049c 1A60     		str	r2, [r3]
 3316 049e 01E0     		b	.L271
 3317              	.LVL277:
 3318              	.L328:
 3319              	.LBB26:
1015:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3320              		.loc 1 1015 0 discriminator 5
 3321 04a0 E268     		ldr	r2, [r4, #12]
 3322 04a2 DA60     		str	r2, [r3, #12]
 3323              	.LVL278:
 3324              	.L271:
 3325              	.LBE26:
1015:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3326              		.loc 1 1015 0 discriminator 10
 3327 04a4 0122     		movs	r2, #1
 3328 04a6 3B4B     		ldr	r3, .L337+36
 3329 04a8 1A70     		strb	r2, [r3]
1016:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_REG(&tcp_tw_pcbs, pcb);
 3330              		.loc 1 1016 0 is_stmt 1 discriminator 10
 3331 04aa 0A23     		movs	r3, #10
 3332 04ac 2375     		strb	r3, [r4, #20]
ARM GAS  /tmp/ccbjEDX3.s 			page 104


1017:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 3333              		.loc 1 1017 0 discriminator 10
 3334 04ae 3A4B     		ldr	r3, .L337+40
 3335 04b0 1A68     		ldr	r2, [r3]
 3336 04b2 E260     		str	r2, [r4, #12]
 3337 04b4 1C60     		str	r4, [r3]
 3338 04b6 FFF7FEFF 		bl	tcp_timer_needed
 3339              	.LVL279:
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3340              		.loc 1 1041 0 discriminator 10
 3341 04ba 0025     		movs	r5, #0
 3342 04bc BCE5     		b	.L235
 3343              	.L245:
1021:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((flags & TCP_ACK) && ackno == pcb->snd_nxt && pcb->unsent == NULL) {
 3344              		.loc 1 1021 0
 3345 04be 2046     		mov	r0, r4
 3346 04c0 FFF7FEFF 		bl	tcp_receive
 3347              	.LVL280:
1022:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: CLOSING %"U16_F" -> %"U16_F".\n", inseg.tcp
 3348              		.loc 1 1022 0
 3349 04c4 304B     		ldr	r3, .L337+24
 3350 04c6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3351 04c8 13F0100F 		tst	r3, #16
 3352 04cc 4CD0     		beq	.L298
1022:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: CLOSING %"U16_F" -> %"U16_F".\n", inseg.tcp
 3353              		.loc 1 1022 0 is_stmt 0 discriminator 1
 3354 04ce 226D     		ldr	r2, [r4, #80]
 3355 04d0 2E4B     		ldr	r3, .L337+28
 3356 04d2 1B68     		ldr	r3, [r3]
 3357 04d4 9A42     		cmp	r2, r3
 3358 04d6 01D0     		beq	.L329
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3359              		.loc 1 1041 0 is_stmt 1
 3360 04d8 0025     		movs	r5, #0
 3361 04da ADE5     		b	.L235
 3362              	.L329:
1022:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: CLOSING %"U16_F" -> %"U16_F".\n", inseg.tcp
 3363              		.loc 1 1022 0 discriminator 2
 3364 04dc E36E     		ldr	r3, [r4, #108]
 3365 04de 0BB1     		cbz	r3, .L330
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3366              		.loc 1 1041 0
 3367 04e0 0025     		movs	r5, #0
 3368 04e2 A9E5     		b	.L235
 3369              	.L330:
1024:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_RMV_ACTIVE(pcb);
 3370              		.loc 1 1024 0
 3371 04e4 2046     		mov	r0, r4
 3372 04e6 FFF7FEFF 		bl	tcp_pcb_purge
 3373              	.LVL281:
1025:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3374              		.loc 1 1025 0
 3375 04ea 294B     		ldr	r3, .L337+32
 3376 04ec 1B68     		ldr	r3, [r3]
 3377 04ee 9C42     		cmp	r4, r3
 3378 04f0 05D0     		beq	.L331
 3379              	.L273:
ARM GAS  /tmp/ccbjEDX3.s 			page 105


 3380              	.LVL282:
 3381              	.LBB27:
1025:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3382              		.loc 1 1025 0 is_stmt 0 discriminator 8
 3383 04f2 53B1     		cbz	r3, .L274
1025:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3384              		.loc 1 1025 0 discriminator 9
 3385 04f4 DA68     		ldr	r2, [r3, #12]
 3386 04f6 9442     		cmp	r4, r2
 3387 04f8 05D0     		beq	.L332
1025:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3388              		.loc 1 1025 0
 3389 04fa 1346     		mov	r3, r2
 3390              	.LVL283:
 3391 04fc F9E7     		b	.L273
 3392              	.L331:
 3393              	.LBE27:
1025:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3394              		.loc 1 1025 0 discriminator 1
 3395 04fe DA68     		ldr	r2, [r3, #12]
 3396 0500 234B     		ldr	r3, .L337+32
 3397 0502 1A60     		str	r2, [r3]
 3398 0504 01E0     		b	.L274
 3399              	.LVL284:
 3400              	.L332:
 3401              	.LBB28:
1025:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3402              		.loc 1 1025 0 discriminator 5
 3403 0506 E268     		ldr	r2, [r4, #12]
 3404 0508 DA60     		str	r2, [r3, #12]
 3405              	.LVL285:
 3406              	.L274:
 3407              	.LBE28:
1025:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3408              		.loc 1 1025 0 discriminator 10
 3409 050a 0122     		movs	r2, #1
 3410 050c 214B     		ldr	r3, .L337+36
 3411 050e 1A70     		strb	r2, [r3]
1026:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_REG(&tcp_tw_pcbs, pcb);
 3412              		.loc 1 1026 0 is_stmt 1 discriminator 10
 3413 0510 0A23     		movs	r3, #10
 3414 0512 2375     		strb	r3, [r4, #20]
1027:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 3415              		.loc 1 1027 0 discriminator 10
 3416 0514 204B     		ldr	r3, .L337+40
 3417 0516 1A68     		ldr	r2, [r3]
 3418 0518 E260     		str	r2, [r4, #12]
 3419 051a 1C60     		str	r4, [r3]
 3420 051c FFF7FEFF 		bl	tcp_timer_needed
 3421              	.LVL286:
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3422              		.loc 1 1041 0 discriminator 10
 3423 0520 0025     		movs	r5, #0
 3424 0522 89E5     		b	.L235
 3425              	.L246:
1031:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((flags & TCP_ACK) && ackno == pcb->snd_nxt && pcb->unsent == NULL) {
 3426              		.loc 1 1031 0
ARM GAS  /tmp/ccbjEDX3.s 			page 106


 3427 0524 2046     		mov	r0, r4
 3428 0526 FFF7FEFF 		bl	tcp_receive
 3429              	.LVL287:
1032:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: LAST_ACK %"U16_F" -> %"U16_F".\n", inseg.tc
 3430              		.loc 1 1032 0
 3431 052a 174B     		ldr	r3, .L337+24
 3432 052c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3433 052e 13F0100F 		tst	r3, #16
 3434 0532 1BD0     		beq	.L302
1032:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: LAST_ACK %"U16_F" -> %"U16_F".\n", inseg.tc
 3435              		.loc 1 1032 0 is_stmt 0 discriminator 1
 3436 0534 226D     		ldr	r2, [r4, #80]
 3437 0536 154B     		ldr	r3, .L337+28
 3438 0538 1B68     		ldr	r3, [r3]
 3439 053a 9A42     		cmp	r2, r3
 3440 053c 01D0     		beq	.L333
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3441              		.loc 1 1041 0 is_stmt 1
 3442 053e 0025     		movs	r5, #0
 3443 0540 7AE5     		b	.L235
 3444              	.L333:
1032:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: LAST_ACK %"U16_F" -> %"U16_F".\n", inseg.tc
 3445              		.loc 1 1032 0 discriminator 2
 3446 0542 E36E     		ldr	r3, [r4, #108]
 3447 0544 0BB1     		cbz	r3, .L334
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3448              		.loc 1 1041 0
 3449 0546 0025     		movs	r5, #0
 3450 0548 76E5     		b	.L235
 3451              	.L334:
1035:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 3452              		.loc 1 1035 0
 3453 054a 0D4A     		ldr	r2, .L337+16
 3454 054c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3455 054e 43F01003 		orr	r3, r3, #16
 3456 0552 1370     		strb	r3, [r2]
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3457              		.loc 1 1041 0
 3458 0554 0025     		movs	r5, #0
 3459 0556 6FE5     		b	.L235
 3460              	.L281:
 3461 0558 0025     		movs	r5, #0
 3462 055a 6DE5     		b	.L235
 3463              	.L289:
 3464 055c 0025     		movs	r5, #0
 3465 055e 6BE5     		b	.L235
 3466              	.L291:
 3467 0560 0025     		movs	r5, #0
 3468 0562 69E5     		b	.L235
 3469              	.L293:
 3470 0564 0025     		movs	r5, #0
 3471 0566 67E5     		b	.L235
 3472              	.L298:
 3473 0568 0025     		movs	r5, #0
 3474 056a 65E5     		b	.L235
 3475              	.L302:
 3476 056c 0025     		movs	r5, #0
ARM GAS  /tmp/ccbjEDX3.s 			page 107


 3477 056e 63E5     		b	.L235
 3478              	.L338:
 3479              		.align	2
 3480              	.L337:
 3481 0570 00000000 		.word	.LC0
 3482 0574 68000000 		.word	.LC24
 3483 0578 4C000000 		.word	.LC2
 3484 057c 00000000 		.word	.LANCHOR10
 3485 0580 00000000 		.word	.LANCHOR5
 3486 0584 00000000 		.word	.LANCHOR7
 3487 0588 00000000 		.word	.LANCHOR6
 3488 058c 00000000 		.word	.LANCHOR9
 3489 0590 00000000 		.word	tcp_active_pcbs
 3490 0594 00000000 		.word	tcp_active_pcbs_changed
 3491 0598 00000000 		.word	tcp_tw_pcbs
 3492              		.cfi_endproc
 3493              	.LFE162:
 3495              		.section	.text.tcp_input,"ax",%progbits
 3496              		.align	1
 3497              		.global	tcp_input
 3498              		.syntax unified
 3499              		.thumb
 3500              		.thumb_func
 3501              		.fpu fpv5-d16
 3503              	tcp_input:
 3504              	.LFB158:
 119:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *pcb, *prev;
 3505              		.loc 1 119 0
 3506              		.cfi_startproc
 3507              		@ args = 0, pretend = 0, frame = 0
 3508              		@ frame_needed = 0, uses_anonymous_args = 0
 3509              	.LVL288:
 3510 0000 70B5     		push	{r4, r5, r6, lr}
 3511              	.LCFI19:
 3512              		.cfi_def_cfa_offset 16
 3513              		.cfi_offset 4, -16
 3514              		.cfi_offset 5, -12
 3515              		.cfi_offset 6, -8
 3516              		.cfi_offset 14, -4
 3517 0002 84B0     		sub	sp, sp, #16
 3518              	.LCFI20:
 3519              		.cfi_def_cfa_offset 32
 131:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3520              		.loc 1 131 0
 3521 0004 0446     		mov	r4, r0
 3522 0006 0028     		cmp	r0, #0
 3523 0008 46D0     		beq	.L392
 3524              	.LVL289:
 3525              	.L340:
 138:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3526              		.loc 1 138 0
 3527 000a 6268     		ldr	r2, [r4, #4]
 3528 000c 704B     		ldr	r3, .L410
 3529 000e 1A60     		str	r2, [r3]
 145:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* drop short packets */
 3530              		.loc 1 145 0
 3531 0010 6389     		ldrh	r3, [r4, #10]
ARM GAS  /tmp/ccbjEDX3.s 			page 108


 3532 0012 132B     		cmp	r3, #19
 3533 0014 3BD9     		bls	.L341
 153:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       ip_addr_ismulticast(ip_current_dest_addr())) {
 3534              		.loc 1 153 0
 3535 0016 6F4B     		ldr	r3, .L410+4
 3536 0018 1968     		ldr	r1, [r3]
 3537 001a 5869     		ldr	r0, [r3, #20]
 3538 001c FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 3539              	.LVL290:
 3540 0020 0028     		cmp	r0, #0
 3541 0022 34D1     		bne	.L341
 154:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     TCP_STATS_INC(tcp.proterr);
 3542              		.loc 1 154 0 discriminator 1
 3543 0024 6B4B     		ldr	r3, .L410+4
 3544 0026 5B69     		ldr	r3, [r3, #20]
 3545 0028 03F0F003 		and	r3, r3, #240
 153:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       ip_addr_ismulticast(ip_current_dest_addr())) {
 3546              		.loc 1 153 0 discriminator 1
 3547 002c E02B     		cmp	r3, #224
 3548 002e 2ED0     		beq	.L341
 175:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((hdrlen_bytes < TCP_HLEN) || (hdrlen_bytes > p->tot_len)) {
 3549              		.loc 1 175 0
 3550 0030 674B     		ldr	r3, .L410
 3551 0032 1B68     		ldr	r3, [r3]
 3552 0034 9889     		ldrh	r0, [r3, #12]	@ unaligned
 3553 0036 FFF7FEFF 		bl	lwip_htons
 3554              	.LVL291:
 3555 003a C0F30731 		ubfx	r1, r0, #12, #8
 3556 003e 8900     		lsls	r1, r1, #2
 3557 0040 C9B2     		uxtb	r1, r1
 3558              	.LVL292:
 176:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: invalid header length (%"U16_F")\n", (u16_t)hdrlen_by
 3559              		.loc 1 176 0
 3560 0042 1329     		cmp	r1, #19
 3561 0044 23D9     		bls	.L341
 176:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: invalid header length (%"U16_F")\n", (u16_t)hdrlen_by
 3562              		.loc 1 176 0 is_stmt 0 discriminator 1
 3563 0046 8BB2     		uxth	r3, r1
 3564 0048 2289     		ldrh	r2, [r4, #8]
 3565 004a 9342     		cmp	r3, r2
 3566 004c 1FD8     		bhi	.L341
 184:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr_opt2 = NULL;
 3567              		.loc 1 184 0 is_stmt 1
 3568 004e A3F11402 		sub	r2, r3, #20
 3569 0052 92B2     		uxth	r2, r2
 3570 0054 6048     		ldr	r0, .L410+8
 3571 0056 0280     		strh	r2, [r0]	@ movhi
 185:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (p->len >= hdrlen_bytes) {
 3572              		.loc 1 185 0
 3573 0058 0025     		movs	r5, #0
 3574 005a 6048     		ldr	r0, .L410+12
 3575 005c 0560     		str	r5, [r0]
 186:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* all options are in the first pbuf */
 3576              		.loc 1 186 0
 3577 005e 6089     		ldrh	r0, [r4, #10]
 3578 0060 8342     		cmp	r3, r0
 3579 0062 20D9     		bls	.L393
ARM GAS  /tmp/ccbjEDX3.s 			page 109


 3580              	.LBB29:
 194:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3581              		.loc 1 194 0
 3582 0064 2368     		ldr	r3, [r4]
 3583 0066 002B     		cmp	r3, #0
 3584 0068 58D0     		beq	.L394
 3585              	.LVL293:
 3586              	.L344:
 197:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3587              		.loc 1 197 0
 3588 006a 1421     		movs	r1, #20
 3589 006c 2046     		mov	r0, r4
 3590 006e FFF7FEFF 		bl	pbuf_remove_header
 3591              	.LVL294:
 200:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     opt2len = (u16_t)(tcphdr_optlen - tcphdr_opt1len);
 3592              		.loc 1 200 0
 3593 0072 6189     		ldrh	r1, [r4, #10]
 3594 0074 5A4B     		ldr	r3, .L410+16
 3595 0076 1980     		strh	r1, [r3]	@ movhi
 201:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3596              		.loc 1 201 0
 3597 0078 574B     		ldr	r3, .L410+8
 3598 007a 1D88     		ldrh	r5, [r3]
 3599 007c 6D1A     		subs	r5, r5, r1
 3600 007e ADB2     		uxth	r5, r5
 3601              	.LVL295:
 205:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3602              		.loc 1 205 0
 3603 0080 2046     		mov	r0, r4
 3604 0082 FFF7FEFF 		bl	pbuf_remove_header
 3605              	.LVL296:
 208:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* drop short packets */
 3606              		.loc 1 208 0
 3607 0086 2068     		ldr	r0, [r4]
 3608 0088 4389     		ldrh	r3, [r0, #10]
 3609 008a 9D42     		cmp	r5, r3
 3610 008c 4DD9     		bls	.L395
 3611              	.LVL297:
 3612              	.L341:
 3613              	.LBE29:
 591:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3614              		.loc 1 591 0
 3615 008e 2046     		mov	r0, r4
 3616 0090 FFF7FEFF 		bl	pbuf_free
 3617              	.LVL298:
 3618              	.L339:
 592:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3619              		.loc 1 592 0
 3620 0094 04B0     		add	sp, sp, #16
 3621              	.LCFI21:
 3622              		.cfi_remember_state
 3623              		.cfi_def_cfa_offset 16
 3624              		@ sp needed
 3625 0096 70BD     		pop	{r4, r5, r6, pc}
 3626              	.LVL299:
 3627              	.L392:
 3628              	.LCFI22:
ARM GAS  /tmp/ccbjEDX3.s 			page 110


 3629              		.cfi_restore_state
 131:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3630              		.loc 1 131 0 discriminator 1
 3631 0098 524B     		ldr	r3, .L410+20
 3632 009a 8322     		movs	r2, #131
 3633 009c 5249     		ldr	r1, .L410+24
 3634              	.LVL300:
 3635 009e 5348     		ldr	r0, .L410+28
 3636              	.LVL301:
 3637 00a0 FFF7FEFF 		bl	printf
 3638              	.LVL302:
 3639 00a4 B1E7     		b	.L340
 3640              	.LVL303:
 3641              	.L393:
 188:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_remove_header(p, hdrlen_bytes); /* cannot fail */
 3642              		.loc 1 188 0
 3643 00a6 4E4B     		ldr	r3, .L410+16
 3644 00a8 1A80     		strh	r2, [r3]	@ movhi
 189:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
 3645              		.loc 1 189 0
 3646 00aa 2046     		mov	r0, r4
 3647 00ac FFF7FEFF 		bl	pbuf_remove_header
 3648              	.LVL304:
 3649              	.L343:
 228:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr->dest = lwip_ntohs(tcphdr->dest);
 3650              		.loc 1 228 0
 3651 00b0 474D     		ldr	r5, .L410
 3652 00b2 2E68     		ldr	r6, [r5]
 3653 00b4 3088     		ldrh	r0, [r6]	@ unaligned
 3654 00b6 FFF7FEFF 		bl	lwip_htons
 3655              	.LVL305:
 3656 00ba 3080     		strh	r0, [r6]	@ unaligned
 229:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   seqno = tcphdr->seqno = lwip_ntohl(tcphdr->seqno);
 3657              		.loc 1 229 0
 3658 00bc 2E68     		ldr	r6, [r5]
 3659 00be 7088     		ldrh	r0, [r6, #2]	@ unaligned
 3660 00c0 FFF7FEFF 		bl	lwip_htons
 3661              	.LVL306:
 3662 00c4 7080     		strh	r0, [r6, #2]	@ unaligned
 230:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   ackno = tcphdr->ackno = lwip_ntohl(tcphdr->ackno);
 3663              		.loc 1 230 0
 3664 00c6 2E68     		ldr	r6, [r5]
 3665 00c8 7068     		ldr	r0, [r6, #4]	@ unaligned
 3666 00ca FFF7FEFF 		bl	lwip_htonl
 3667              	.LVL307:
 3668 00ce 7060     		str	r0, [r6, #4]	@ unaligned
 3669 00d0 474B     		ldr	r3, .L410+32
 3670 00d2 1860     		str	r0, [r3]
 231:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr->wnd = lwip_ntohs(tcphdr->wnd);
 3671              		.loc 1 231 0
 3672 00d4 2E68     		ldr	r6, [r5]
 3673 00d6 B068     		ldr	r0, [r6, #8]	@ unaligned
 3674 00d8 FFF7FEFF 		bl	lwip_htonl
 3675              	.LVL308:
 3676 00dc B060     		str	r0, [r6, #8]	@ unaligned
 3677 00de 454B     		ldr	r3, .L410+36
 3678 00e0 1860     		str	r0, [r3]
ARM GAS  /tmp/ccbjEDX3.s 			page 111


 232:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3679              		.loc 1 232 0
 3680 00e2 2E68     		ldr	r6, [r5]
 3681 00e4 F089     		ldrh	r0, [r6, #14]	@ unaligned
 3682 00e6 FFF7FEFF 		bl	lwip_htons
 3683              	.LVL309:
 3684 00ea F081     		strh	r0, [r6, #14]	@ unaligned
 234:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcplen = p->tot_len;
 3685              		.loc 1 234 0
 3686 00ec 2B68     		ldr	r3, [r5]
 3687 00ee 9889     		ldrh	r0, [r3, #12]	@ unaligned
 3688 00f0 FFF7FEFF 		bl	lwip_htons
 3689              	.LVL310:
 3690 00f4 00F03F00 		and	r0, r0, #63
 3691 00f8 3F4B     		ldr	r3, .L410+40
 3692 00fa 1870     		strb	r0, [r3]
 235:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & (TCP_FIN | TCP_SYN)) {
 3693              		.loc 1 235 0
 3694 00fc 2389     		ldrh	r3, [r4, #8]
 3695 00fe 3F4A     		ldr	r2, .L410+44
 3696 0100 1380     		strh	r3, [r2]	@ movhi
 236:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcplen++;
 3697              		.loc 1 236 0
 3698 0102 10F0030F 		tst	r0, #3
 3699 0106 05D0     		beq	.L346
 237:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (tcplen < p->tot_len) {
 3700              		.loc 1 237 0
 3701 0108 5A1C     		adds	r2, r3, #1
 3702 010a 92B2     		uxth	r2, r2
 3703 010c 3B49     		ldr	r1, .L410+44
 3704 010e 0A80     		strh	r2, [r1]	@ movhi
 238:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* u16_t overflow, cannot handle this */
 3705              		.loc 1 238 0
 3706 0110 9342     		cmp	r3, r2
 3707 0112 BCD8     		bhi	.L341
 3708              	.L346:
 3709              	.LVL311:
 250:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != CLOSED", pcb->state != CLOSED);
 3710              		.loc 1 250 0
 3711 0114 3A4B     		ldr	r3, .L410+48
 3712 0116 1D68     		ldr	r5, [r3]
 3713              	.LVL312:
 248:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3714              		.loc 1 248 0
 3715 0118 0026     		movs	r6, #0
 250:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != CLOSED", pcb->state != CLOSED);
 3716              		.loc 1 250 0
 3717 011a 41E0     		b	.L347
 3718              	.LVL313:
 3719              	.L394:
 3720              	.LBB30:
 194:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3721              		.loc 1 194 0 discriminator 1
 3722 011c 314B     		ldr	r3, .L410+20
 3723 011e C222     		movs	r2, #194
 3724 0120 3849     		ldr	r1, .L410+52
 3725              	.LVL314:
ARM GAS  /tmp/ccbjEDX3.s 			page 112


 3726 0122 3248     		ldr	r0, .L410+28
 3727 0124 FFF7FEFF 		bl	printf
 3728              	.LVL315:
 3729 0128 9FE7     		b	.L344
 3730              	.LVL316:
 3731              	.L395:
 216:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3732              		.loc 1 216 0
 3733 012a 4268     		ldr	r2, [r0, #4]
 3734 012c 2B4B     		ldr	r3, .L410+12
 3735 012e 1A60     		str	r2, [r3]
 220:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     p->tot_len = (u16_t)(p->tot_len - opt2len);
 3736              		.loc 1 220 0
 3737 0130 2946     		mov	r1, r5
 3738 0132 FFF7FEFF 		bl	pbuf_remove_header
 3739              	.LVL317:
 221:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3740              		.loc 1 221 0
 3741 0136 2389     		ldrh	r3, [r4, #8]
 3742 0138 5D1B     		subs	r5, r3, r5
 3743              	.LVL318:
 3744 013a 2581     		strh	r5, [r4, #8]	@ movhi
 223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("p->tot_len == p->next->tot_len", p->tot_len == p->next->tot_len);
 3745              		.loc 1 223 0
 3746 013c 6389     		ldrh	r3, [r4, #10]
 3747 013e 5BB9     		cbnz	r3, .L396
 3748              	.L345:
 224:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 3749              		.loc 1 224 0
 3750 0140 2289     		ldrh	r2, [r4, #8]
 3751 0142 2368     		ldr	r3, [r4]
 3752 0144 1B89     		ldrh	r3, [r3, #8]
 3753 0146 9A42     		cmp	r2, r3
 3754 0148 B2D0     		beq	.L343
 224:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 3755              		.loc 1 224 0 is_stmt 0 discriminator 1
 3756 014a 264B     		ldr	r3, .L410+20
 3757 014c E022     		movs	r2, #224
 3758 014e 2E49     		ldr	r1, .L410+56
 3759 0150 2648     		ldr	r0, .L410+28
 3760 0152 FFF7FEFF 		bl	printf
 3761              	.LVL319:
 3762 0156 ABE7     		b	.L343
 3763              	.L396:
 223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("p->tot_len == p->next->tot_len", p->tot_len == p->next->tot_len);
 3764              		.loc 1 223 0 is_stmt 1 discriminator 1
 3765 0158 224B     		ldr	r3, .L410+20
 3766 015a DF22     		movs	r2, #223
 3767 015c 2B49     		ldr	r1, .L410+60
 3768 015e 2348     		ldr	r0, .L410+28
 3769 0160 FFF7FEFF 		bl	printf
 3770              	.LVL320:
 3771 0164 ECE7     		b	.L345
 3772              	.LVL321:
 3773              	.L398:
 3774              	.LBE30:
 251:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != TIME-WAIT", pcb->state != TIME_WAIT);
ARM GAS  /tmp/ccbjEDX3.s 			page 113


 3775              		.loc 1 251 0 discriminator 1
 3776 0166 1F4B     		ldr	r3, .L410+20
 3777 0168 FB22     		movs	r2, #251
 3778 016a 2949     		ldr	r1, .L410+64
 3779 016c 1F48     		ldr	r0, .L410+28
 3780 016e FFF7FEFF 		bl	printf
 3781              	.LVL322:
 3782 0172 1AE0     		b	.L348
 3783              	.L399:
 252:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != LISTEN", pcb->state != LISTEN);
 3784              		.loc 1 252 0 discriminator 1
 3785 0174 1B4B     		ldr	r3, .L410+20
 3786 0176 FC22     		movs	r2, #252
 3787 0178 2649     		ldr	r1, .L410+68
 3788 017a 1C48     		ldr	r0, .L410+28
 3789 017c FFF7FEFF 		bl	printf
 3790              	.LVL323:
 3791 0180 16E0     		b	.L349
 3792              	.L400:
 253:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3793              		.loc 1 253 0 discriminator 1
 3794 0182 184B     		ldr	r3, .L410+20
 3795 0184 FD22     		movs	r2, #253
 3796 0186 2449     		ldr	r1, .L410+72
 3797 0188 1848     		ldr	r0, .L410+28
 3798 018a FFF7FEFF 		bl	printf
 3799              	.LVL324:
 3800 018e 12E0     		b	.L350
 3801              	.L351:
 262:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->local_port == tcphdr->dest &&
 3802              		.loc 1 262 0
 3803 0190 298B     		ldrh	r1, [r5, #24]
 3804 0192 0F4B     		ldr	r3, .L410
 3805 0194 1B68     		ldr	r3, [r3]
 3806 0196 1A88     		ldrh	r2, [r3]	@ unaligned
 3807 0198 9142     		cmp	r1, r2
 3808 019a 3FD0     		beq	.L397
 3809              	.L352:
 3810              	.LVL325:
 250:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != CLOSED", pcb->state != CLOSED);
 3811              		.loc 1 250 0 discriminator 2
 3812 019c 2E46     		mov	r6, r5
 3813 019e ED68     		ldr	r5, [r5, #12]
 3814              	.LVL326:
 3815              	.L347:
 250:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != CLOSED", pcb->state != CLOSED);
 3816              		.loc 1 250 0 is_stmt 0 discriminator 1
 3817 01a0 002D     		cmp	r5, #0
 3818 01a2 56D0     		beq	.L355
 251:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != TIME-WAIT", pcb->state != TIME_WAIT);
 3819              		.loc 1 251 0 is_stmt 1
 3820 01a4 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 3821 01a6 002B     		cmp	r3, #0
 3822 01a8 DDD0     		beq	.L398
 3823              	.L348:
 252:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != LISTEN", pcb->state != LISTEN);
 3824              		.loc 1 252 0
ARM GAS  /tmp/ccbjEDX3.s 			page 114


 3825 01aa 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 3826 01ac 0A2B     		cmp	r3, #10
 3827 01ae E1D0     		beq	.L399
 3828              	.L349:
 253:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3829              		.loc 1 253 0
 3830 01b0 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 3831 01b2 012B     		cmp	r3, #1
 3832 01b4 E5D0     		beq	.L400
 3833              	.L350:
 256:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         (pcb->netif_idx != netif_get_index(ip_data.current_input_netif))) {
 3834              		.loc 1 256 0
 3835 01b6 2A7A     		ldrb	r2, [r5, #8]	@ zero_extendqisi2
 3836 01b8 002A     		cmp	r2, #0
 3837 01ba E9D0     		beq	.L351
 257:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       prev = pcb;
 3838              		.loc 1 257 0 discriminator 1
 3839 01bc 054B     		ldr	r3, .L410+4
 3840 01be 5B68     		ldr	r3, [r3, #4]
 3841 01c0 93F83430 		ldrb	r3, [r3, #52]	@ zero_extendqisi2
 3842 01c4 0133     		adds	r3, r3, #1
 3843 01c6 DBB2     		uxtb	r3, r3
 256:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         (pcb->netif_idx != netif_get_index(ip_data.current_input_netif))) {
 3844              		.loc 1 256 0 discriminator 1
 3845 01c8 9A42     		cmp	r2, r3
 3846 01ca E7D1     		bne	.L352
 3847 01cc E0E7     		b	.L351
 3848              	.L411:
 3849 01ce 00BF     		.align	2
 3850              	.L410:
 3851 01d0 00000000 		.word	.LANCHOR3
 3852 01d4 00000000 		.word	ip_data
 3853 01d8 00000000 		.word	.LANCHOR4
 3854 01dc 00000000 		.word	.LANCHOR1
 3855 01e0 00000000 		.word	.LANCHOR2
 3856 01e4 00000000 		.word	.LC0
 3857 01e8 00000000 		.word	.LC25
 3858 01ec 4C000000 		.word	.LC2
 3859 01f0 00000000 		.word	.LANCHOR7
 3860 01f4 00000000 		.word	.LANCHOR9
 3861 01f8 00000000 		.word	.LANCHOR6
 3862 01fc 00000000 		.word	.LANCHOR8
 3863 0200 00000000 		.word	tcp_active_pcbs
 3864 0204 18000000 		.word	.LC26
 3865 0208 34000000 		.word	.LC28
 3866 020c 28000000 		.word	.LC27
 3867 0210 54000000 		.word	.LC29
 3868 0214 7C000000 		.word	.LC30
 3869 0218 A8000000 		.word	.LC31
 3870              	.L397:
 263:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 3871              		.loc 1 263 0 discriminator 1
 3872 021c EA8A     		ldrh	r2, [r5, #22]
 3873 021e 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 262:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->local_port == tcphdr->dest &&
 3874              		.loc 1 262 0 discriminator 1
 3875 0220 9A42     		cmp	r2, r3
ARM GAS  /tmp/ccbjEDX3.s 			page 115


 3876 0222 BBD1     		bne	.L352
 264:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 3877              		.loc 1 264 0
 3878 0224 6A68     		ldr	r2, [r5, #4]
 3879 0226 794B     		ldr	r3, .L412
 3880 0228 1B69     		ldr	r3, [r3, #16]
 263:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 3881              		.loc 1 263 0
 3882 022a 9A42     		cmp	r2, r3
 3883 022c B6D1     		bne	.L352
 265:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Move this PCB to the front of the list so that subsequent
 3884              		.loc 1 265 0
 3885 022e 2A68     		ldr	r2, [r5]
 3886 0230 764B     		ldr	r3, .L412
 3887 0232 5B69     		ldr	r3, [r3, #20]
 264:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 3888              		.loc 1 264 0
 3889 0234 9A42     		cmp	r2, r3
 3890 0236 B1D1     		bne	.L352
 269:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (prev != NULL) {
 3891              		.loc 1 269 0
 3892 0238 EB68     		ldr	r3, [r5, #12]
 3893 023a 9D42     		cmp	r5, r3
 3894 023c 4DD0     		beq	.L401
 3895              	.L353:
 270:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         prev->next = pcb->next;
 3896              		.loc 1 270 0
 3897 023e 2EB1     		cbz	r6, .L354
 271:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->next = tcp_active_pcbs;
 3898              		.loc 1 271 0
 3899 0240 EB68     		ldr	r3, [r5, #12]
 3900 0242 F360     		str	r3, [r6, #12]
 272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_active_pcbs = pcb;
 3901              		.loc 1 272 0
 3902 0244 724B     		ldr	r3, .L412+4
 3903 0246 1A68     		ldr	r2, [r3]
 3904 0248 EA60     		str	r2, [r5, #12]
 273:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 3905              		.loc 1 273 0
 3906 024a 1D60     		str	r5, [r3]
 3907              	.L354:
 277:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
 3908              		.loc 1 277 0
 3909 024c EB68     		ldr	r3, [r5, #12]
 3910 024e 9D42     		cmp	r5, r3
 3911 0250 4BD0     		beq	.L402
 3912              	.L355:
 283:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If it did not go to an active connection, we check the connections
 3913              		.loc 1 283 0
 3914 0252 002D     		cmp	r5, #0
 3915 0254 51D0     		beq	.L403
 3916              	.LVL327:
 3917              	.L357:
 401:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* The incoming segment belongs to a connection. */
 3918              		.loc 1 401 0
 3919 0256 002D     		cmp	r5, #0
 3920 0258 00F07081 		beq	.L370
ARM GAS  /tmp/ccbjEDX3.s 			page 116


 408:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.len = p->tot_len;
 3921              		.loc 1 408 0
 3922 025c 6D4A     		ldr	r2, .L412+8
 3923 025e 0023     		movs	r3, #0
 3924 0260 1360     		str	r3, [r2]
 409:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.p = p;
 3925              		.loc 1 409 0
 3926 0262 2189     		ldrh	r1, [r4, #8]
 3927 0264 1181     		strh	r1, [r2, #8]	@ movhi
 410:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.tcphdr = tcphdr;
 3928              		.loc 1 410 0
 3929 0266 5460     		str	r4, [r2, #4]
 411:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3930              		.loc 1 411 0
 3931 0268 6B49     		ldr	r1, .L412+12
 3932 026a 0968     		ldr	r1, [r1]
 3933 026c D160     		str	r1, [r2, #12]
 413:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_flags = 0;
 3934              		.loc 1 413 0
 3935 026e 6B4A     		ldr	r2, .L412+16
 3936 0270 1360     		str	r3, [r2]
 414:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_acked = 0;
 3937              		.loc 1 414 0
 3938 0272 6B4A     		ldr	r2, .L412+20
 3939 0274 1370     		strb	r3, [r2]
 415:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3940              		.loc 1 415 0
 3941 0276 6B4A     		ldr	r2, .L412+24
 3942 0278 1380     		strh	r3, [r2]	@ movhi
 417:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       p->flags |= PBUF_FLAG_PUSH;
 3943              		.loc 1 417 0
 3944 027a 6B4B     		ldr	r3, .L412+28
 3945 027c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3946 027e 13F0080F 		tst	r3, #8
 3947 0282 03D0     		beq	.L371
 418:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3948              		.loc 1 418 0
 3949 0284 637B     		ldrb	r3, [r4, #13]	@ zero_extendqisi2
 3950 0286 43F00103 		orr	r3, r3, #1
 3951 028a 6373     		strb	r3, [r4, #13]
 3952              	.L371:
 422:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((tcp_process_refused_data(pcb) == ERR_ABRT) ||
 3953              		.loc 1 422 0
 3954 028c AB6F     		ldr	r3, [r5, #120]
 3955 028e 002B     		cmp	r3, #0
 3956 0290 00F09E80 		beq	.L372
 423:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ((pcb->refused_data != NULL) && (tcplen > 0))) {
 3957              		.loc 1 423 0
 3958 0294 2846     		mov	r0, r5
 3959 0296 FFF7FEFF 		bl	tcp_process_refused_data
 3960              	.LVL328:
 3961 029a 10F10D0F 		cmn	r0, #13
 3962 029e 08D0     		beq	.L373
 424:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* pcb has been aborted or refused data is still refused and the new
 3963              		.loc 1 424 0 discriminator 1
 3964 02a0 AB6F     		ldr	r3, [r5, #120]
 423:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ((pcb->refused_data != NULL) && (tcplen > 0))) {
ARM GAS  /tmp/ccbjEDX3.s 			page 117


 3965              		.loc 1 423 0 discriminator 1
 3966 02a2 002B     		cmp	r3, #0
 3967 02a4 00F09480 		beq	.L372
 424:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* pcb has been aborted or refused data is still refused and the new
 3968              		.loc 1 424 0
 3969 02a8 604B     		ldr	r3, .L412+32
 3970 02aa 1B88     		ldrh	r3, [r3]
 3971 02ac 002B     		cmp	r3, #0
 3972 02ae 00F08F80 		beq	.L372
 3973              	.L373:
 427:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* this is a zero-window probe, we respond to it with current RCV.NXT
 3974              		.loc 1 427 0
 3975 02b2 6B8D     		ldrh	r3, [r5, #42]
 3976 02b4 002B     		cmp	r3, #0
 3977 02b6 00F08780 		beq	.L404
 3978              	.LVL329:
 3979              	.L374:
 564:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_data = NULL;
 3980              		.loc 1 564 0
 3981 02ba 0023     		movs	r3, #0
 3982 02bc 5C4A     		ldr	r2, .L412+36
 3983 02be 1360     		str	r3, [r2]
 565:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3984              		.loc 1 565 0
 3985 02c0 564A     		ldr	r2, .L412+16
 3986 02c2 1360     		str	r3, [r2]
 568:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pbuf_free(inseg.p);
 3987              		.loc 1 568 0
 3988 02c4 534B     		ldr	r3, .L412+8
 3989 02c6 5868     		ldr	r0, [r3, #4]
 3990 02c8 0028     		cmp	r0, #0
 3991 02ca 3FF4E3AE 		beq	.L339
 569:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.p = NULL;
 3992              		.loc 1 569 0
 3993 02ce FFF7FEFF 		bl	pbuf_free
 3994              	.LVL330:
 570:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3995              		.loc 1 570 0
 3996 02d2 0022     		movs	r2, #0
 3997 02d4 4F4B     		ldr	r3, .L412+8
 3998 02d6 5A60     		str	r2, [r3, #4]
 3999 02d8 DCE6     		b	.L339
 4000              	.LVL331:
 4001              	.L401:
 269:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (prev != NULL) {
 4002              		.loc 1 269 0 discriminator 1
 4003 02da 564B     		ldr	r3, .L412+40
 4004 02dc 40F20D12 		movw	r2, #269
 4005 02e0 5549     		ldr	r1, .L412+44
 4006 02e2 5648     		ldr	r0, .L412+48
 4007 02e4 FFF7FEFF 		bl	printf
 4008              	.LVL332:
 4009 02e8 A9E7     		b	.L353
 4010              	.L402:
 277:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
 4011              		.loc 1 277 0 discriminator 1
 4012 02ea 524B     		ldr	r3, .L412+40
ARM GAS  /tmp/ccbjEDX3.s 			page 118


 4013 02ec 40F21512 		movw	r2, #277
 4014 02f0 5349     		ldr	r1, .L412+52
 4015 02f2 5248     		ldr	r0, .L412+48
 4016 02f4 FFF7FEFF 		bl	printf
 4017              	.LVL333:
 4018 02f8 ABE7     		b	.L355
 4019              	.L403:
 286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 4020              		.loc 1 286 0
 4021 02fa 524B     		ldr	r3, .L412+56
 4022 02fc 1D68     		ldr	r5, [r3]
 4023              	.LVL334:
 4024 02fe 06E0     		b	.L358
 4025              	.L360:
 295:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->local_port == tcphdr->dest &&
 4026              		.loc 1 295 0
 4027 0300 298B     		ldrh	r1, [r5, #24]
 4028 0302 454B     		ldr	r3, .L412+12
 4029 0304 1B68     		ldr	r3, [r3]
 4030 0306 1A88     		ldrh	r2, [r3]	@ unaligned
 4031 0308 9142     		cmp	r1, r2
 4032 030a 17D0     		beq	.L405
 4033              	.L361:
 286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 4034              		.loc 1 286 0 discriminator 2
 4035 030c ED68     		ldr	r5, [r5, #12]
 4036              	.LVL335:
 4037              	.L358:
 286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 4038              		.loc 1 286 0 is_stmt 0 discriminator 1
 4039 030e 55B3     		cbz	r5, .L406
 287:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 4040              		.loc 1 287 0 is_stmt 1
 4041 0310 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 4042 0312 0A2B     		cmp	r3, #10
 4043 0314 06D0     		beq	.L359
 287:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 4044              		.loc 1 287 0 is_stmt 0 discriminator 1
 4045 0316 474B     		ldr	r3, .L412+40
 4046 0318 40F21F12 		movw	r2, #287
 4047 031c 4A49     		ldr	r1, .L412+60
 4048 031e 4748     		ldr	r0, .L412+48
 4049 0320 FFF7FEFF 		bl	printf
 4050              	.LVL336:
 4051              	.L359:
 290:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           (pcb->netif_idx != netif_get_index(ip_data.current_input_netif))) {
 4052              		.loc 1 290 0 is_stmt 1
 4053 0324 2A7A     		ldrb	r2, [r5, #8]	@ zero_extendqisi2
 4054 0326 002A     		cmp	r2, #0
 4055 0328 EAD0     		beq	.L360
 291:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         continue;
 4056              		.loc 1 291 0 discriminator 1
 4057 032a 384B     		ldr	r3, .L412
 4058 032c 5B68     		ldr	r3, [r3, #4]
 4059 032e 93F83430 		ldrb	r3, [r3, #52]	@ zero_extendqisi2
 4060 0332 0133     		adds	r3, r3, #1
 4061 0334 DBB2     		uxtb	r3, r3
ARM GAS  /tmp/ccbjEDX3.s 			page 119


 290:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           (pcb->netif_idx != netif_get_index(ip_data.current_input_netif))) {
 4062              		.loc 1 290 0 discriminator 1
 4063 0336 9A42     		cmp	r2, r3
 4064 0338 E8D1     		bne	.L361
 4065 033a E1E7     		b	.L360
 4066              	.L405:
 296:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 4067              		.loc 1 296 0 discriminator 1
 4068 033c EA8A     		ldrh	r2, [r5, #22]
 4069 033e 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 295:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->local_port == tcphdr->dest &&
 4070              		.loc 1 295 0 discriminator 1
 4071 0340 9A42     		cmp	r2, r3
 4072 0342 E3D1     		bne	.L361
 297:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 4073              		.loc 1 297 0
 4074 0344 6A68     		ldr	r2, [r5, #4]
 4075 0346 314B     		ldr	r3, .L412
 4076 0348 1B69     		ldr	r3, [r3, #16]
 296:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 4077              		.loc 1 296 0
 4078 034a 9A42     		cmp	r2, r3
 4079 034c DED1     		bne	.L361
 298:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* We don't really care enough to move this PCB to the front
 4080              		.loc 1 298 0
 4081 034e 2A68     		ldr	r2, [r5]
 4082 0350 2E4B     		ldr	r3, .L412
 4083 0352 5B69     		ldr	r3, [r3, #20]
 297:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 4084              		.loc 1 297 0
 4085 0354 9A42     		cmp	r2, r3
 4086 0356 D9D1     		bne	.L361
 308:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 4087              		.loc 1 308 0
 4088 0358 2846     		mov	r0, r5
 4089 035a FFF7FEFF 		bl	tcp_timewait_input
 4090              	.LVL337:
 310:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         return;
 4091              		.loc 1 310 0
 4092 035e 2046     		mov	r0, r4
 4093 0360 FFF7FEFF 		bl	pbuf_free
 4094              	.LVL338:
 311:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 4095              		.loc 1 311 0
 4096 0364 96E6     		b	.L339
 4097              	.L406:
 4098              	.LVL339:
 318:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* check if PCB is bound to specific netif */
 4099              		.loc 1 318 0
 4100 0366 394B     		ldr	r3, .L412+64
 4101 0368 1E68     		ldr	r6, [r3]
 4102              	.LVL340:
 4103 036a 3046     		mov	r0, r6
 317:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     for (lpcb = tcp_listen_pcbs.listen_pcbs; lpcb != NULL; lpcb = lpcb->next) {
 4104              		.loc 1 317 0
 4105 036c 2946     		mov	r1, r5
 318:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* check if PCB is bound to specific netif */
ARM GAS  /tmp/ccbjEDX3.s 			page 120


 4106              		.loc 1 318 0
 4107 036e 07E0     		b	.L364
 4108              	.LVL341:
 4109              	.L365:
 326:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (IP_IS_ANY_TYPE_VAL(lpcb->local_ip)) {
 4110              		.loc 1 326 0
 4111 0370 C28A     		ldrh	r2, [r0, #22]
 4112 0372 294B     		ldr	r3, .L412+12
 4113 0374 1B68     		ldr	r3, [r3]
 4114 0376 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 4115 0378 9A42     		cmp	r2, r3
 4116 037a 0ED0     		beq	.L407
 4117              	.L366:
 4118              	.LVL342:
 4119 037c 0146     		mov	r1, r0
 318:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* check if PCB is bound to specific netif */
 4120              		.loc 1 318 0 discriminator 2
 4121 037e C068     		ldr	r0, [r0, #12]
 4122              	.LVL343:
 4123              	.L364:
 318:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* check if PCB is bound to specific netif */
 4124              		.loc 1 318 0 is_stmt 0 discriminator 1
 4125 0380 98B1     		cbz	r0, .L367
 320:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           (lpcb->netif_idx != netif_get_index(ip_data.current_input_netif))) {
 4126              		.loc 1 320 0 is_stmt 1
 4127 0382 027A     		ldrb	r2, [r0, #8]	@ zero_extendqisi2
 4128 0384 002A     		cmp	r2, #0
 4129 0386 F3D0     		beq	.L365
 321:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         prev = (struct tcp_pcb *)lpcb;
 4130              		.loc 1 321 0 discriminator 1
 4131 0388 204B     		ldr	r3, .L412
 4132 038a 5B68     		ldr	r3, [r3, #4]
 4133 038c 93F83430 		ldrb	r3, [r3, #52]	@ zero_extendqisi2
 4134 0390 0133     		adds	r3, r3, #1
 4135 0392 DBB2     		uxtb	r3, r3
 320:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           (lpcb->netif_idx != netif_get_index(ip_data.current_input_netif))) {
 4136              		.loc 1 320 0 discriminator 1
 4137 0394 9A42     		cmp	r2, r3
 4138 0396 F1D1     		bne	.L366
 4139 0398 EAE7     		b	.L365
 4140              	.L407:
 336:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* found an exact match */
 4141              		.loc 1 336 0
 4142 039a 0368     		ldr	r3, [r0]
 4143 039c 1B4A     		ldr	r2, .L412
 4144 039e 5269     		ldr	r2, [r2, #20]
 4145 03a0 9342     		cmp	r3, r2
 4146 03a2 02D0     		beq	.L367
 339:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* found an ANY-match */
 4147              		.loc 1 339 0
 4148 03a4 08B1     		cbz	r0, .L367
 339:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* found an ANY-match */
 4149              		.loc 1 339 0 is_stmt 0 discriminator 1
 4150 03a6 002B     		cmp	r3, #0
 4151 03a8 E8D1     		bne	.L366
 4152              	.L367:
 360:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Move this PCB to the front of the list so that subsequent
ARM GAS  /tmp/ccbjEDX3.s 			page 121


 4153              		.loc 1 360 0 is_stmt 1
 4154 03aa 0028     		cmp	r0, #0
 4155 03ac 3FF453AF 		beq	.L357
 364:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ((struct tcp_pcb_listen *)prev)->next = lpcb->next;
 4156              		.loc 1 364 0
 4157 03b0 21B1     		cbz	r1, .L369
 365:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* our successor is the remainder of the listening list */
 4158              		.loc 1 365 0
 4159 03b2 C368     		ldr	r3, [r0, #12]
 4160 03b4 CB60     		str	r3, [r1, #12]
 367:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* put this listening pcb at the head of the listening list */
 4161              		.loc 1 367 0
 4162 03b6 C660     		str	r6, [r0, #12]
 369:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 4163              		.loc 1 369 0
 4164 03b8 244B     		ldr	r3, .L412+64
 4165 03ba 1860     		str	r0, [r3]
 4166              	.L369:
 380:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 4167              		.loc 1 380 0
 4168 03bc FFF7FEFF 		bl	tcp_listen_input
 4169              	.LVL344:
 382:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 4170              		.loc 1 382 0
 4171 03c0 2046     		mov	r0, r4
 4172 03c2 FFF7FEFF 		bl	pbuf_free
 4173              	.LVL345:
 383:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 4174              		.loc 1 383 0
 4175 03c6 65E6     		b	.L339
 4176              	.L404:
 430:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 4177              		.loc 1 430 0
 4178 03c8 2846     		mov	r0, r5
 4179 03ca FFF7FEFF 		bl	tcp_send_empty_ack
 4180              	.LVL346:
 4181 03ce 74E7     		b	.L374
 4182              	.L372:
 437:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     err = tcp_process(pcb);
 4183              		.loc 1 437 0
 4184 03d0 174B     		ldr	r3, .L412+36
 4185 03d2 1D60     		str	r5, [r3]
 438:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* A return value of ERR_ABRT means that tcp_abort() was called
 4186              		.loc 1 438 0
 4187 03d4 2846     		mov	r0, r5
 4188 03d6 FFF7FEFF 		bl	tcp_process
 4189              	.LVL347:
 441:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (recv_flags & TF_RESET) {
 4190              		.loc 1 441 0
 4191 03da 10F10D0F 		cmn	r0, #13
 4192 03de 3FF46CAF 		beq	.L374
 442:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* TF_RESET means that the connection was reset by the other
 4193              		.loc 1 442 0
 4194 03e2 0F4B     		ldr	r3, .L412+20
 4195 03e4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4196 03e6 13F0080F 		tst	r3, #8
 4197 03ea 31D0     		beq	.L375
ARM GAS  /tmp/ccbjEDX3.s 			page 122


 447:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_pcb_remove(&tcp_active_pcbs, pcb);
 4198              		.loc 1 447 0
 4199 03ec D5F89030 		ldr	r3, [r5, #144]
 4200 03f0 1BB1     		cbz	r3, .L376
 447:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_pcb_remove(&tcp_active_pcbs, pcb);
 4201              		.loc 1 447 0 is_stmt 0 discriminator 1
 4202 03f2 6FF00D01 		mvn	r1, #13
 4203 03f6 2869     		ldr	r0, [r5, #16]
 4204              	.LVL348:
 4205 03f8 9847     		blx	r3
 4206              	.LVL349:
 4207              	.L376:
 448:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_free(pcb);
 4208              		.loc 1 448 0 is_stmt 1
 4209 03fa 2946     		mov	r1, r5
 4210 03fc 0448     		ldr	r0, .L412+4
 4211 03fe FFF7FEFF 		bl	tcp_pcb_remove
 4212              	.LVL350:
 449:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 4213              		.loc 1 449 0
 4214 0402 2846     		mov	r0, r5
 4215 0404 FFF7FEFF 		bl	tcp_free
 4216              	.LVL351:
 4217 0408 57E7     		b	.L374
 4218              	.L413:
 4219 040a 00BF     		.align	2
 4220              	.L412:
 4221 040c 00000000 		.word	ip_data
 4222 0410 00000000 		.word	tcp_active_pcbs
 4223 0414 00000000 		.word	.LANCHOR11
 4224 0418 00000000 		.word	.LANCHOR3
 4225 041c 00000000 		.word	.LANCHOR12
 4226 0420 00000000 		.word	.LANCHOR5
 4227 0424 00000000 		.word	.LANCHOR10
 4228 0428 00000000 		.word	.LANCHOR6
 4229 042c 00000000 		.word	.LANCHOR8
 4230 0430 00000000 		.word	tcp_input_pcb
 4231 0434 00000000 		.word	.LC0
 4232 0438 D0000000 		.word	.LC32
 4233 043c 4C000000 		.word	.LC2
 4234 0440 FC000000 		.word	.LC33
 4235 0444 00000000 		.word	tcp_tw_pcbs
 4236 0448 28010000 		.word	.LC34
 4237 044c 00000000 		.word	tcp_listen_pcbs
 4238              	.LVL352:
 4239              	.L375:
 455:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           u16_t acked16;
 4240              		.loc 1 455 0
 4241 0450 4A4B     		ldr	r3, .L414
 4242 0452 1A88     		ldrh	r2, [r3]
 4243 0454 6AB1     		cbz	r2, .L377
 4244              	.LVL353:
 4245              	.LBB31:
 468:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4246              		.loc 1 468 0
 4247 0456 D5F88030 		ldr	r3, [r5, #128]
 4248 045a 002B     		cmp	r3, #0
ARM GAS  /tmp/ccbjEDX3.s 			page 123


 4249 045c 48D0     		beq	.L389
 468:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4250              		.loc 1 468 0 is_stmt 0 discriminator 1
 4251 045e 2946     		mov	r1, r5
 4252 0460 2869     		ldr	r0, [r5, #16]
 4253 0462 9847     		blx	r3
 4254              	.LVL354:
 4255              	.L378:
 469:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               goto aborted;
 4256              		.loc 1 469 0 is_stmt 1
 4257 0464 10F10D0F 		cmn	r0, #13
 4258 0468 3FF427AF 		beq	.L374
 473:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 4259              		.loc 1 473 0
 4260 046c 0022     		movs	r2, #0
 4261 046e 434B     		ldr	r3, .L414
 4262 0470 1A80     		strh	r2, [r3]	@ movhi
 4263              	.LVL355:
 4264              	.L377:
 4265              	.LBE31:
 475:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           goto aborted;
 4266              		.loc 1 475 0
 4267 0472 2846     		mov	r0, r5
 4268 0474 FFF7FEFF 		bl	tcp_input_delayed_close
 4269              	.LVL356:
 4270 0478 0028     		cmp	r0, #0
 4271 047a 7FF41EAF 		bne	.L374
 483:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 4272              		.loc 1 483 0
 4273 047e 404B     		ldr	r3, .L414+4
 4274 0480 1B68     		ldr	r3, [r3]
 4275 0482 EBB1     		cbz	r3, .L379
 486:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->flags & TF_RXCLOSED) {
 4276              		.loc 1 486 0
 4277 0484 AB6F     		ldr	r3, [r5, #120]
 4278 0486 33B1     		cbz	r3, .L380
 486:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->flags & TF_RXCLOSED) {
 4279              		.loc 1 486 0 is_stmt 0 discriminator 1
 4280 0488 3E4B     		ldr	r3, .L414+8
 4281 048a 4FF4F372 		mov	r2, #486
 4282 048e 3E49     		ldr	r1, .L414+12
 4283 0490 3E48     		ldr	r0, .L414+16
 4284 0492 FFF7FEFF 		bl	printf
 4285              	.LVL357:
 4286              	.L380:
 487:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* received data although already closed -> abort (send RST) to
 4287              		.loc 1 487 0 is_stmt 1
 4288 0496 6B8B     		ldrh	r3, [r5, #26]
 4289 0498 13F0100F 		tst	r3, #16
 4290 049c 2AD1     		bne	.L408
 501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err == ERR_ABRT) {
 4291              		.loc 1 501 0
 4292 049e D5F88440 		ldr	r4, [r5, #132]
 4293              	.LVL358:
 4294 04a2 7CB3     		cbz	r4, .L382
 501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err == ERR_ABRT) {
 4295              		.loc 1 501 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccbjEDX3.s 			page 124


 4296 04a4 0023     		movs	r3, #0
 4297 04a6 364A     		ldr	r2, .L414+4
 4298 04a8 1268     		ldr	r2, [r2]
 4299 04aa 2946     		mov	r1, r5
 4300 04ac 2869     		ldr	r0, [r5, #16]
 4301 04ae A047     		blx	r4
 4302              	.LVL359:
 4303              	.L383:
 502:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 4304              		.loc 1 502 0 is_stmt 1
 4305 04b0 10F10D0F 		cmn	r0, #13
 4306 04b4 3FF401AF 		beq	.L374
 512:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 4307              		.loc 1 512 0
 4308 04b8 10B1     		cbz	r0, .L379
 518:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: keep incoming packet, because pcb is \"full\"
 4309              		.loc 1 518 0
 4310 04ba 314B     		ldr	r3, .L414+4
 4311 04bc 1B68     		ldr	r3, [r3]
 4312 04be AB67     		str	r3, [r5, #120]
 4313              	.LVL360:
 4314              	.L379:
 531:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->refused_data != NULL) {
 4315              		.loc 1 531 0
 4316 04c0 334B     		ldr	r3, .L414+20
 4317 04c2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4318 04c4 13F0200F 		tst	r3, #32
 4319 04c8 05D0     		beq	.L384
 532:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Delay this if we have refused data. */
 4320              		.loc 1 532 0
 4321 04ca AB6F     		ldr	r3, [r5, #120]
 4322 04cc 13B3     		cbz	r3, .L385
 534:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else {
 4323              		.loc 1 534 0
 4324 04ce 5A7B     		ldrb	r2, [r3, #13]	@ zero_extendqisi2
 4325 04d0 42F02002 		orr	r2, r2, #32
 4326 04d4 5A73     		strb	r2, [r3, #13]
 4327              	.L384:
 548:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcp_input_delayed_close(pcb)) {
 4328              		.loc 1 548 0
 4329 04d6 0022     		movs	r2, #0
 4330 04d8 2E4B     		ldr	r3, .L414+24
 4331 04da 1A60     		str	r2, [r3]
 549:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           goto aborted;
 4332              		.loc 1 549 0
 4333 04dc 2846     		mov	r0, r5
 4334 04de FFF7FEFF 		bl	tcp_input_delayed_close
 4335              	.LVL361:
 4336 04e2 0028     		cmp	r0, #0
 4337 04e4 7FF4E9AE 		bne	.L374
 553:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_INPUT_DEBUG
 4338              		.loc 1 553 0
 4339 04e8 2846     		mov	r0, r5
 4340 04ea FFF7FEFF 		bl	tcp_output
 4341              	.LVL362:
 4342 04ee E4E6     		b	.L374
 4343              	.LVL363:
ARM GAS  /tmp/ccbjEDX3.s 			page 125


 4344              	.L389:
 4345              	.LBB32:
 468:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4346              		.loc 1 468 0
 4347 04f0 0020     		movs	r0, #0
 4348 04f2 B7E7     		b	.L378
 4349              	.LVL364:
 4350              	.L408:
 4351              	.LBE32:
 490:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 4352              		.loc 1 490 0
 4353 04f4 224B     		ldr	r3, .L414+4
 4354 04f6 1868     		ldr	r0, [r3]
 4355 04f8 FFF7FEFF 		bl	pbuf_free
 4356              	.LVL365:
 496:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             goto aborted;
 4357              		.loc 1 496 0
 4358 04fc 2846     		mov	r0, r5
 4359 04fe FFF7FEFF 		bl	tcp_abort
 4360              	.LVL366:
 497:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 4361              		.loc 1 497 0
 4362 0502 DAE6     		b	.L374
 4363              	.LVL367:
 4364              	.L382:
 501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err == ERR_ABRT) {
 4365              		.loc 1 501 0 discriminator 2
 4366 0504 0023     		movs	r3, #0
 4367 0506 1E4A     		ldr	r2, .L414+4
 4368 0508 1268     		ldr	r2, [r2]
 4369 050a 2946     		mov	r1, r5
 4370 050c 1846     		mov	r0, r3
 4371 050e FFF7FEFF 		bl	tcp_recv_null
 4372              	.LVL368:
 4373 0512 CDE7     		b	.L383
 4374              	.LVL369:
 4375              	.L385:
 538:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pcb->rcv_wnd++;
 4376              		.loc 1 538 0
 4377 0514 2B8D     		ldrh	r3, [r5, #40]
 4378 0516 B3F5066F 		cmp	r3, #2144
 4379 051a 01D0     		beq	.L386
 539:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 4380              		.loc 1 539 0
 4381 051c 0133     		adds	r3, r3, #1
 4382 051e 2B85     		strh	r3, [r5, #40]	@ movhi
 4383              	.L386:
 541:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4384              		.loc 1 541 0
 4385 0520 D5F88440 		ldr	r4, [r5, #132]
 4386 0524 44B1     		cbz	r4, .L390
 541:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4387              		.loc 1 541 0 is_stmt 0 discriminator 1
 4388 0526 0023     		movs	r3, #0
 4389 0528 1A46     		mov	r2, r3
 4390 052a 2946     		mov	r1, r5
 4391 052c 2869     		ldr	r0, [r5, #16]
ARM GAS  /tmp/ccbjEDX3.s 			page 126


 4392 052e A047     		blx	r4
 4393              	.LVL370:
 4394              	.L387:
 542:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               goto aborted;
 4395              		.loc 1 542 0 is_stmt 1
 4396 0530 10F10D0F 		cmn	r0, #13
 4397 0534 CFD1     		bne	.L384
 4398 0536 C0E6     		b	.L374
 4399              	.LVL371:
 4400              	.L390:
 541:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4401              		.loc 1 541 0
 4402 0538 0020     		movs	r0, #0
 4403 053a F9E7     		b	.L387
 4404              	.LVL372:
 4405              	.L370:
 576:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.proterr);
 4406              		.loc 1 576 0
 4407 053c 164B     		ldr	r3, .L414+28
 4408 053e 1B68     		ldr	r3, [r3]
 4409 0540 9889     		ldrh	r0, [r3, #12]	@ unaligned
 4410 0542 FFF7FEFF 		bl	lwip_htons
 4411              	.LVL373:
 4412 0546 10F0040F 		tst	r0, #4
 4413 054a 03D0     		beq	.L409
 4414              	.LVL374:
 4415              	.L388:
 582:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 4416              		.loc 1 582 0
 4417 054c 2046     		mov	r0, r4
 4418 054e FFF7FEFF 		bl	pbuf_free
 4419              	.LVL375:
 4420 0552 9FE5     		b	.L339
 4421              	.LVL376:
 4422              	.L409:
 580:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 4423              		.loc 1 580 0
 4424 0554 104B     		ldr	r3, .L414+28
 4425 0556 1968     		ldr	r1, [r3]
 579:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 4426              		.loc 1 579 0
 4427 0558 104B     		ldr	r3, .L414+32
 4428 055a 114A     		ldr	r2, .L414+36
 4429 055c 1088     		ldrh	r0, [r2]
 4430 055e 114A     		ldr	r2, .L414+40
 4431 0560 1268     		ldr	r2, [r2]
 4432 0562 0D88     		ldrh	r5, [r1]	@ unaligned
 4433              	.LVL377:
 4434 0564 0295     		str	r5, [sp, #8]
 4435 0566 4988     		ldrh	r1, [r1, #2]	@ unaligned
 4436 0568 0191     		str	r1, [sp, #4]
 4437 056a 191F     		subs	r1, r3, #4
 4438 056c 0091     		str	r1, [sp]
 4439 056e 0244     		add	r2, r2, r0
 4440 0570 0D49     		ldr	r1, .L414+44
 4441 0572 0968     		ldr	r1, [r1]
 4442 0574 0020     		movs	r0, #0
ARM GAS  /tmp/ccbjEDX3.s 			page 127


 4443 0576 FFF7FEFF 		bl	tcp_rst
 4444              	.LVL378:
 4445 057a E7E7     		b	.L388
 4446              	.L415:
 4447              		.align	2
 4448              	.L414:
 4449 057c 00000000 		.word	.LANCHOR10
 4450 0580 00000000 		.word	.LANCHOR12
 4451 0584 00000000 		.word	.LC0
 4452 0588 58010000 		.word	.LC35
 4453 058c 4C000000 		.word	.LC2
 4454 0590 00000000 		.word	.LANCHOR5
 4455 0594 00000000 		.word	tcp_input_pcb
 4456 0598 00000000 		.word	.LANCHOR3
 4457 059c 14000000 		.word	ip_data+20
 4458 05a0 00000000 		.word	.LANCHOR8
 4459 05a4 00000000 		.word	.LANCHOR7
 4460 05a8 00000000 		.word	.LANCHOR9
 4461              		.cfi_endproc
 4462              	.LFE158:
 4464              		.section	.text.tcp_trigger_input_pcb_close,"ax",%progbits
 4465              		.align	1
 4466              		.global	tcp_trigger_input_pcb_close
 4467              		.syntax unified
 4468              		.thumb
 4469              		.thumb_func
 4470              		.fpu fpv5-d16
 4472              	tcp_trigger_input_pcb_close:
 4473              	.LFB168:
2023:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
2024:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
2025:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
2026:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
2027:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
2028:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** void
2029:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_trigger_input_pcb_close(void)
2030:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 4474              		.loc 1 2030 0
 4475              		.cfi_startproc
 4476              		@ args = 0, pretend = 0, frame = 0
 4477              		@ frame_needed = 0, uses_anonymous_args = 0
 4478              		@ link register save eliminated.
2031:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   recv_flags |= TF_CLOSED;
 4479              		.loc 1 2031 0
 4480 0000 024A     		ldr	r2, .L417
 4481 0002 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4482 0004 43F01003 		orr	r3, r3, #16
 4483 0008 1370     		strb	r3, [r2]
 4484 000a 7047     		bx	lr
 4485              	.L418:
 4486              		.align	2
 4487              	.L417:
 4488 000c 00000000 		.word	.LANCHOR5
 4489              		.cfi_endproc
 4490              	.LFE168:
 4492              		.comm	tcp_input_pcb,4,4
 4493              		.section	.bss.ackno,"aw",%nobits
ARM GAS  /tmp/ccbjEDX3.s 			page 128


 4494              		.align	2
 4495              		.set	.LANCHOR9,. + 0
 4498              	ackno:
 4499 0000 00000000 		.space	4
 4500              		.section	.bss.flags,"aw",%nobits
 4501              		.set	.LANCHOR6,. + 0
 4504              	flags:
 4505 0000 00       		.space	1
 4506              		.section	.bss.inseg,"aw",%nobits
 4507              		.align	2
 4508              		.set	.LANCHOR11,. + 0
 4511              	inseg:
 4512 0000 00000000 		.space	16
 4512      00000000 
 4512      00000000 
 4512      00000000 
 4513              		.section	.bss.recv_acked,"aw",%nobits
 4514              		.align	1
 4515              		.set	.LANCHOR10,. + 0
 4518              	recv_acked:
 4519 0000 0000     		.space	2
 4520              		.section	.bss.recv_data,"aw",%nobits
 4521              		.align	2
 4522              		.set	.LANCHOR12,. + 0
 4525              	recv_data:
 4526 0000 00000000 		.space	4
 4527              		.section	.bss.recv_flags,"aw",%nobits
 4528              		.set	.LANCHOR5,. + 0
 4531              	recv_flags:
 4532 0000 00       		.space	1
 4533              		.section	.bss.seqno,"aw",%nobits
 4534              		.align	2
 4535              		.set	.LANCHOR7,. + 0
 4538              	seqno:
 4539 0000 00000000 		.space	4
 4540              		.section	.bss.tcp_optidx,"aw",%nobits
 4541              		.align	1
 4542              		.set	.LANCHOR0,. + 0
 4545              	tcp_optidx:
 4546 0000 0000     		.space	2
 4547              		.section	.bss.tcphdr,"aw",%nobits
 4548              		.align	2
 4549              		.set	.LANCHOR3,. + 0
 4552              	tcphdr:
 4553 0000 00000000 		.space	4
 4554              		.section	.bss.tcphdr_opt1len,"aw",%nobits
 4555              		.align	1
 4556              		.set	.LANCHOR2,. + 0
 4559              	tcphdr_opt1len:
 4560 0000 0000     		.space	2
 4561              		.section	.bss.tcphdr_opt2,"aw",%nobits
 4562              		.align	2
 4563              		.set	.LANCHOR1,. + 0
 4566              	tcphdr_opt2:
 4567 0000 00000000 		.space	4
 4568              		.section	.bss.tcphdr_optlen,"aw",%nobits
 4569              		.align	1
ARM GAS  /tmp/ccbjEDX3.s 			page 129


 4570              		.set	.LANCHOR4,. + 0
 4573              	tcphdr_optlen:
 4574 0000 0000     		.space	2
 4575              		.section	.bss.tcplen,"aw",%nobits
 4576              		.align	1
 4577              		.set	.LANCHOR8,. + 0
 4580              	tcplen:
 4581 0000 0000     		.space	2
 4582              		.section	.rodata.tcp_free_acked_segments.str1.4,"aMS",%progbits,1
 4583              		.align	2
 4584              	.LC6:
 4585 0000 7063622D 		.ascii	"pcb->snd_queuelen >= pbuf_clen(next->p)\000"
 4585      3E736E64 
 4585      5F717565 
 4585      75656C65 
 4585      6E203E3D 
 4586              	.LC7:
 4587 0028 7463705F 		.ascii	"tcp_receive: valid queue length\000"
 4587      72656365 
 4587      6976653A 
 4587      2076616C 
 4587      69642071 
 4588              		.section	.rodata.tcp_input.str1.4,"aMS",%progbits,1
 4589              		.align	2
 4590              	.LC25:
 4591 0000 7463705F 		.ascii	"tcp_input: invalid pbuf\000"
 4591      696E7075 
 4591      743A2069 
 4591      6E76616C 
 4591      69642070 
 4592              	.LC26:
 4593 0018 702D3E6E 		.ascii	"p->next != NULL\000"
 4593      65787420 
 4593      213D204E 
 4593      554C4C00 
 4594              	.LC27:
 4595 0028 702D3E6C 		.ascii	"p->len == 0\000"
 4595      656E203D 
 4595      3D203000 
 4596              	.LC28:
 4597 0034 702D3E74 		.ascii	"p->tot_len == p->next->tot_len\000"
 4597      6F745F6C 
 4597      656E203D 
 4597      3D20702D 
 4597      3E6E6578 
 4598 0053 00       		.space	1
 4599              	.LC29:
 4600 0054 7463705F 		.ascii	"tcp_input: active pcb->state != CLOSED\000"
 4600      696E7075 
 4600      743A2061 
 4600      63746976 
 4600      65207063 
 4601 007b 00       		.space	1
 4602              	.LC30:
 4603 007c 7463705F 		.ascii	"tcp_input: active pcb->state != TIME-WAIT\000"
 4603      696E7075 
 4603      743A2061 
ARM GAS  /tmp/ccbjEDX3.s 			page 130


 4603      63746976 
 4603      65207063 
 4604 00a6 0000     		.space	2
 4605              	.LC31:
 4606 00a8 7463705F 		.ascii	"tcp_input: active pcb->state != LISTEN\000"
 4606      696E7075 
 4606      743A2061 
 4606      63746976 
 4606      65207063 
 4607 00cf 00       		.space	1
 4608              	.LC32:
 4609 00d0 7463705F 		.ascii	"tcp_input: pcb->next != pcb (before cache)\000"
 4609      696E7075 
 4609      743A2070 
 4609      63622D3E 
 4609      6E657874 
 4610 00fb 00       		.space	1
 4611              	.LC33:
 4612 00fc 7463705F 		.ascii	"tcp_input: pcb->next != pcb (after cache)\000"
 4612      696E7075 
 4612      743A2070 
 4612      63622D3E 
 4612      6E657874 
 4613 0126 0000     		.space	2
 4614              	.LC34:
 4615 0128 7463705F 		.ascii	"tcp_input: TIME-WAIT pcb->state == TIME-WAIT\000"
 4615      696E7075 
 4615      743A2054 
 4615      494D452D 
 4615      57414954 
 4616 0155 000000   		.space	3
 4617              	.LC35:
 4618 0158 7063622D 		.ascii	"pcb->refused_data == NULL\000"
 4618      3E726566 
 4618      75736564 
 4618      5F646174 
 4618      61203D3D 
 4619              		.section	.rodata.tcp_input_delayed_close.str1.4,"aMS",%progbits,1
 4620              		.align	2
 4621              	.LC3:
 4622 0000 7463705F 		.ascii	"tcp_input_delayed_close: invalid pcb\000"
 4622      696E7075 
 4622      745F6465 
 4622      6C617965 
 4622      645F636C 
 4623              		.section	.rodata.tcp_listen_input.str1.4,"aMS",%progbits,1
 4624              		.align	2
 4625              	.LC5:
 4626 0000 7463705F 		.ascii	"tcp_listen_input: invalid pcb\000"
 4626      6C697374 
 4626      656E5F69 
 4626      6E707574 
 4626      3A20696E 
 4627              		.section	.rodata.tcp_oos_insert_segment.str1.4,"aMS",%progbits,1
 4628              		.align	2
 4629              	.LC8:
 4630 0000 7463705F 		.ascii	"tcp_oos_insert_segment: invalid cseg\000"
ARM GAS  /tmp/ccbjEDX3.s 			page 131


 4630      6F6F735F 
 4630      696E7365 
 4630      72745F73 
 4630      65676D65 
 4631              		.section	.rodata.tcp_parseopt.str1.4,"aMS",%progbits,1
 4632              		.align	2
 4633              	.LC0:
 4634 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/tcp_in.c\000"
 4634      6C657761 
 4634      7265732F 
 4634      54686972 
 4634      645F5061 
 4635 002f 00       		.space	1
 4636              	.LC1:
 4637 0030 7463705F 		.ascii	"tcp_parseopt: invalid pcb\000"
 4637      70617273 
 4637      656F7074 
 4637      3A20696E 
 4637      76616C69 
 4638 004a 0000     		.space	2
 4639              	.LC2:
 4640 004c 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 4640      7274696F 
 4640      6E202225 
 4640      73222066 
 4640      61696C65 
 4641              		.section	.rodata.tcp_process.str1.4,"aMS",%progbits,1
 4642              		.align	2
 4643              	.LC20:
 4644 0000 7463705F 		.ascii	"tcp_process: invalid pcb\000"
 4644      70726F63 
 4644      6573733A 
 4644      20696E76 
 4644      616C6964 
 4645 0019 000000   		.space	3
 4646              	.LC21:
 4647 001c 7463705F 		.ascii	"tcp_input: pcb->state != CLOSED\000"
 4647      696E7075 
 4647      743A2070 
 4647      63622D3E 
 4647      73746174 
 4648              	.LC22:
 4649 003c 7063622D 		.ascii	"pcb->snd_queuelen > 0\000"
 4649      3E736E64 
 4649      5F717565 
 4649      75656C65 
 4649      6E203E20 
 4650 0052 0000     		.space	2
 4651              	.LC23:
 4652 0054 6E6F2073 		.ascii	"no segment to free\000"
 4652      65676D65 
 4652      6E742074 
 4652      6F206672 
 4652      656500
 4653 0067 00       		.space	1
 4654              	.LC24:
 4655 0068 7063622D 		.ascii	"pcb->listener->accept != NULL\000"
ARM GAS  /tmp/ccbjEDX3.s 			page 132


 4655      3E6C6973 
 4655      74656E65 
 4655      722D3E61 
 4655      63636570 
 4656              		.section	.rodata.tcp_receive.str1.4,"aMS",%progbits,1
 4657              		.align	2
 4658              	.LC9:
 4659 0000 7463705F 		.ascii	"tcp_receive: invalid pcb\000"
 4659      72656365 
 4659      6976653A 
 4659      20696E76 
 4659      616C6964 
 4660 0019 000000   		.space	3
 4661              	.LC10:
 4662 001c 7463705F 		.ascii	"tcp_receive: wrong state\000"
 4662      72656365 
 4662      6976653A 
 4662      2077726F 
 4662      6E672073 
 4663 0035 000000   		.space	3
 4664              	.LC11:
 4665 0038 756E6163 		.ascii	"unacked\000"
 4665      6B656400 
 4666              	.LC12:
 4667 0040 756E7365 		.ascii	"unsent\000"
 4667      6E7400
 4668 0047 00       		.space	1
 4669              	.LC13:
 4670 0048 696E7365 		.ascii	"inseg.p != NULL\000"
 4670      672E7020 
 4670      213D204E 
 4670      554C4C00 
 4671              	.LC14:
 4672 0058 696E7361 		.ascii	"insane offset!\000"
 4672      6E65206F 
 4672      66667365 
 4672      742100
 4673 0067 00       		.space	1
 4674              	.LC15:
 4675 0068 70627566 		.ascii	"pbuf too short!\000"
 4675      20746F6F 
 4675      2073686F 
 4675      72742100 
 4676              	.LC16:
 4677 0078 7463705F 		.ascii	"tcp_receive: segment not trimmed correctly to rcv_w"
 4677      72656365 
 4677      6976653A 
 4677      20736567 
 4677      6D656E74 
 4678 00ab 6E640A00 		.ascii	"nd\012\000"
 4679 00af 00       		.space	1
 4680              	.LC17:
 4681 00b0 7463705F 		.ascii	"tcp_receive: segment not trimmed correctly to ooseq"
 4681      72656365 
 4681      6976653A 
 4681      20736567 
 4681      6D656E74 
ARM GAS  /tmp/ccbjEDX3.s 			page 133


 4682 00e3 20717565 		.ascii	" queue\012\000"
 4682      75650A00 
 4683 00eb 00       		.space	1
 4684              	.LC18:
 4685 00ec 7463705F 		.ascii	"tcp_receive: tcplen > rcv_wnd\012\000"
 4685      72656365 
 4685      6976653A 
 4685      20746370 
 4685      6C656E20 
 4686 010b 00       		.space	1
 4687              	.LC19:
 4688 010c 7463705F 		.ascii	"tcp_receive: ooseq tcplen > rcv_wnd\012\000"
 4688      72656365 
 4688      6976653A 
 4688      206F6F73 
 4688      65712074 
 4689              		.section	.rodata.tcp_timewait_input.str1.4,"aMS",%progbits,1
 4690              		.align	2
 4691              	.LC4:
 4692 0000 7463705F 		.ascii	"tcp_timewait_input: invalid pcb\000"
 4692      74696D65 
 4692      77616974 
 4692      5F696E70 
 4692      75743A20 
 4693              		.text
 4694              	.Letext0:
 4695              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 4696              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 4697              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 4698              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 4699              		.file 6 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal.h"
 4700              		.file 7 "/usr/include/newlib/sys/lock.h"
 4701              		.file 8 "/usr/include/newlib/sys/_types.h"
 4702              		.file 9 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 4703              		.file 10 "/usr/include/newlib/sys/reent.h"
 4704              		.file 11 "/usr/include/newlib/stdlib.h"
 4705              		.file 12 "/usr/include/newlib/time.h"
 4706              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 4707              		.file 14 "/usr/include/newlib/ctype.h"
 4708              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpbase.h"
 4709              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 4710              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 4711              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 4712              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 4713              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 4714              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 4715              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 4716              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 4717              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 4718              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 4719              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
 4720              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/tcp.h"
 4721              		.file 28 "/usr/include/newlib/stdio.h"
 4722              		.file 29 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 4723              		.file 30 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4.h"
ARM GAS  /tmp/ccbjEDX3.s 			page 134


DEFINED SYMBOLS
                            *ABS*:0000000000000000 tcp_in.c
     /tmp/ccbjEDX3.s:17     .text.tcp_get_next_optbyte:0000000000000000 $t
     /tmp/ccbjEDX3.s:23     .text.tcp_get_next_optbyte:0000000000000000 tcp_get_next_optbyte
     /tmp/ccbjEDX3.s:74     .text.tcp_get_next_optbyte:000000000000002c $d
     /tmp/ccbjEDX3.s:83     .text.tcp_parseopt:0000000000000000 $t
     /tmp/ccbjEDX3.s:89     .text.tcp_parseopt:0000000000000000 tcp_parseopt
     /tmp/ccbjEDX3.s:209    .text.tcp_parseopt:0000000000000090 $d
     /tmp/ccbjEDX3.s:219    .text.tcp_input_delayed_close:0000000000000000 $t
     /tmp/ccbjEDX3.s:225    .text.tcp_input_delayed_close:0000000000000000 tcp_input_delayed_close
     /tmp/ccbjEDX3.s:292    .text.tcp_input_delayed_close:000000000000004c $d
     /tmp/ccbjEDX3.s:301    .text.tcp_timewait_input:0000000000000000 $t
     /tmp/ccbjEDX3.s:307    .text.tcp_timewait_input:0000000000000000 tcp_timewait_input
     /tmp/ccbjEDX3.s:423    .text.tcp_timewait_input:000000000000008c $d
     /tmp/ccbjEDX3.s:437    .text.tcp_listen_input:0000000000000000 $t
     /tmp/ccbjEDX3.s:443    .text.tcp_listen_input:0000000000000000 tcp_listen_input
     /tmp/ccbjEDX3.s:671    .text.tcp_listen_input:0000000000000120 $d
     /tmp/ccbjEDX3.s:687    .text.tcp_free_acked_segments:0000000000000000 $t
     /tmp/ccbjEDX3.s:693    .text.tcp_free_acked_segments:0000000000000000 tcp_free_acked_segments
     /tmp/ccbjEDX3.s:817    .text.tcp_free_acked_segments:00000000000000a8 $d
     /tmp/ccbjEDX3.s:827    .text.tcp_oos_insert_segment:0000000000000000 $t
     /tmp/ccbjEDX3.s:833    .text.tcp_oos_insert_segment:0000000000000000 tcp_oos_insert_segment
     /tmp/ccbjEDX3.s:954    .text.tcp_oos_insert_segment:0000000000000094 $d
     /tmp/ccbjEDX3.s:962    .text.tcp_receive:0000000000000000 $t
     /tmp/ccbjEDX3.s:968    .text.tcp_receive:0000000000000000 tcp_receive
     /tmp/ccbjEDX3.s:1440   .text.tcp_receive:00000000000002d4 $d
     /tmp/ccbjEDX3.s:1454   .text.tcp_receive:0000000000000304 $t
     /tmp/ccbjEDX3.s:1913   .text.tcp_receive:00000000000005b4 $d
     /tmp/ccbjEDX3.s:1928   .text.tcp_receive:00000000000005e4 $t
     /tmp/ccbjEDX3.s:2337   .text.tcp_receive:0000000000000820 $d
     /tmp/ccbjEDX3.s:2350   .text.tcp_receive:0000000000000848 $t
     /tmp/ccbjEDX3.s:2503   .text.tcp_receive:000000000000094c $d
     /tmp/ccbjEDX3.s:2513   .text.tcp_process:0000000000000000 $t
     /tmp/ccbjEDX3.s:2519   .text.tcp_process:0000000000000000 tcp_process
     /tmp/ccbjEDX3.s:2701   .text.tcp_process:00000000000000e6 $d
     /tmp/ccbjEDX3.s:2709   .text.tcp_process:00000000000000f6 $t
     /tmp/ccbjEDX3.s:2974   .text.tcp_process:0000000000000290 $d
     /tmp/ccbjEDX3.s:2990   .text.tcp_process:00000000000002c8 $t
     /tmp/ccbjEDX3.s:3481   .text.tcp_process:0000000000000570 $d
     /tmp/ccbjEDX3.s:3496   .text.tcp_input:0000000000000000 $t
     /tmp/ccbjEDX3.s:3503   .text.tcp_input:0000000000000000 tcp_input
     /tmp/ccbjEDX3.s:3851   .text.tcp_input:00000000000001d0 $d
     /tmp/ccbjEDX3.s:3872   .text.tcp_input:000000000000021c $t
     /tmp/ccbjEDX3.s:4221   .text.tcp_input:000000000000040c $d
                            *COM*:0000000000000004 tcp_input_pcb
     /tmp/ccbjEDX3.s:4241   .text.tcp_input:0000000000000450 $t
     /tmp/ccbjEDX3.s:4449   .text.tcp_input:000000000000057c $d
     /tmp/ccbjEDX3.s:4465   .text.tcp_trigger_input_pcb_close:0000000000000000 $t
     /tmp/ccbjEDX3.s:4472   .text.tcp_trigger_input_pcb_close:0000000000000000 tcp_trigger_input_pcb_close
     /tmp/ccbjEDX3.s:4488   .text.tcp_trigger_input_pcb_close:000000000000000c $d
     /tmp/ccbjEDX3.s:4494   .bss.ackno:0000000000000000 $d
     /tmp/ccbjEDX3.s:4498   .bss.ackno:0000000000000000 ackno
     /tmp/ccbjEDX3.s:4504   .bss.flags:0000000000000000 flags
     /tmp/ccbjEDX3.s:4505   .bss.flags:0000000000000000 $d
     /tmp/ccbjEDX3.s:4507   .bss.inseg:0000000000000000 $d
     /tmp/ccbjEDX3.s:4511   .bss.inseg:0000000000000000 inseg
     /tmp/ccbjEDX3.s:4514   .bss.recv_acked:0000000000000000 $d
ARM GAS  /tmp/ccbjEDX3.s 			page 135


     /tmp/ccbjEDX3.s:4518   .bss.recv_acked:0000000000000000 recv_acked
     /tmp/ccbjEDX3.s:4521   .bss.recv_data:0000000000000000 $d
     /tmp/ccbjEDX3.s:4525   .bss.recv_data:0000000000000000 recv_data
     /tmp/ccbjEDX3.s:4531   .bss.recv_flags:0000000000000000 recv_flags
     /tmp/ccbjEDX3.s:4532   .bss.recv_flags:0000000000000000 $d
     /tmp/ccbjEDX3.s:4534   .bss.seqno:0000000000000000 $d
     /tmp/ccbjEDX3.s:4538   .bss.seqno:0000000000000000 seqno
     /tmp/ccbjEDX3.s:4541   .bss.tcp_optidx:0000000000000000 $d
     /tmp/ccbjEDX3.s:4545   .bss.tcp_optidx:0000000000000000 tcp_optidx
     /tmp/ccbjEDX3.s:4548   .bss.tcphdr:0000000000000000 $d
     /tmp/ccbjEDX3.s:4552   .bss.tcphdr:0000000000000000 tcphdr
     /tmp/ccbjEDX3.s:4555   .bss.tcphdr_opt1len:0000000000000000 $d
     /tmp/ccbjEDX3.s:4559   .bss.tcphdr_opt1len:0000000000000000 tcphdr_opt1len
     /tmp/ccbjEDX3.s:4562   .bss.tcphdr_opt2:0000000000000000 $d
     /tmp/ccbjEDX3.s:4566   .bss.tcphdr_opt2:0000000000000000 tcphdr_opt2
     /tmp/ccbjEDX3.s:4569   .bss.tcphdr_optlen:0000000000000000 $d
     /tmp/ccbjEDX3.s:4573   .bss.tcphdr_optlen:0000000000000000 tcphdr_optlen
     /tmp/ccbjEDX3.s:4576   .bss.tcplen:0000000000000000 $d
     /tmp/ccbjEDX3.s:4580   .bss.tcplen:0000000000000000 tcplen
     /tmp/ccbjEDX3.s:4583   .rodata.tcp_free_acked_segments.str1.4:0000000000000000 $d
     /tmp/ccbjEDX3.s:4589   .rodata.tcp_input.str1.4:0000000000000000 $d
     /tmp/ccbjEDX3.s:4620   .rodata.tcp_input_delayed_close.str1.4:0000000000000000 $d
     /tmp/ccbjEDX3.s:4624   .rodata.tcp_listen_input.str1.4:0000000000000000 $d
     /tmp/ccbjEDX3.s:4628   .rodata.tcp_oos_insert_segment.str1.4:0000000000000000 $d
     /tmp/ccbjEDX3.s:4632   .rodata.tcp_parseopt.str1.4:0000000000000000 $d
     /tmp/ccbjEDX3.s:4642   .rodata.tcp_process.str1.4:0000000000000000 $d
     /tmp/ccbjEDX3.s:4657   .rodata.tcp_receive.str1.4:0000000000000000 $d
     /tmp/ccbjEDX3.s:4690   .rodata.tcp_timewait_input.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
printf
tcp_pcb_remove
tcp_free
tcp_active_pcbs
tcp_rst
tcp_output
ip_data
tcp_ticks
tcp_alloc
tcp_next_iss
tcp_timer_needed
ip4_route
tcp_eff_send_mss_netif
tcp_enqueue_flags
tcp_abandon
tcp_active_pcbs_changed
lwip_htonl
lwip_htons
pbuf_clen
tcp_seg_free
tcp_segs_free
pbuf_realloc
tcp_send_empty_ack
tcp_rexmit_fast
pbuf_remove_header
tcp_update_rcv_ann_wnd
ARM GAS  /tmp/ccbjEDX3.s 			page 136


pbuf_cat
tcp_seg_copy
tcp_rexmit_rto
tcp_abort
tcp_rexmit
tcp_pcb_purge
tcp_tw_pcbs
ip4_addr_isbroadcast_u32
pbuf_free
tcp_process_refused_data
tcp_listen_pcbs
tcp_recv_null
